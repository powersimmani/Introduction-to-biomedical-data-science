<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FACS Sorting</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Aptos, 'Segoe UI', sans-serif; background: white; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .container { width: 960px; height: 540px; padding: 30px 40px; background: white; }
        .title { font-size: 28px; font-weight: 600; color: #1E64C8; margin-bottom: 22px; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">FACS Sorting</div>
        
        <div style="background: linear-gradient(135deg, #1E64C8 0%, #2874d8 100%); border-radius: 10px; padding: 15px; margin-bottom: 15px; text-align: center; color: white;">
            <div style="font-size: 20px; font-weight: 700; margin-bottom: 8px;">Fluorescence-Activated Cell Sorting</div>
        </div>
        
        <!-- FACS Mechanism Diagram -->
        <div style="background: #f0f5fc; border: 2px solid #1E64C8; border-radius: 10px; padding: 15px; margin-bottom: 15px;">
            <svg width="100%" height="240" viewBox="0 0 900 240">
                <!-- Flow stream -->
                <rect x="50" y="20" width="60" height="40" fill="#e8f4f8" stroke="#1E64C8" stroke-width="2" rx="5"/>
                <text x="80" y="45" text-anchor="middle" font-size="11" fill="#1E64C8" font-weight="bold">Sample</text>
                
                <!-- Nozzle and stream -->
                <polygon points="120,40 160,30 160,50 120,40" fill="#ADD8E6" stroke="#1E64C8" stroke-width="2"/>
                <line x1="160" y1="40" x2="160" y2="180" stroke="#ADD8E6" stroke-width="8"/>
                
                <!-- Vibration indicator -->
                <g transform="translate(180, 60)">
                    <path d="M 0 0 Q 5 -3, 10 0 T 20 0" stroke="#FFA500" stroke-width="2" fill="none"/>
                    <text x="25" y="3" font-size="9" fill="#FFA500">Vibration</text>
                    <text x="25" y="13" font-size="9" fill="#FFA500">~40 kHz</text>
                </g>
                
                <!-- Droplet formation -->
                <circle cx="160" cy="90" r="6" fill="#ADD8E6" stroke="#1E64C8" stroke-width="1"/>
                <circle cx="160" cy="90" r="2" fill="#E74C3C"/>
                <text x="180" y="93" font-size="8" fill="#666">1 cell/droplet</text>
                
                <circle cx="160" cy="110" r="6" fill="#ADD8E6" stroke="#1E64C8" stroke-width="1"/>
                <circle cx="160" cy="110" r="2" fill="#27ae60"/>
                
                <circle cx="160" cy="130" r="6" fill="#ADD8E6" stroke="#1E64C8" stroke-width="1"/>
                
                <!-- Laser interrogation point -->
                <line x1="100" y1="40" x2="220" y2="40" stroke="#FFD700" stroke-width="4" opacity="0.6"/>
                <text x="250" y="43" font-size="10" fill="#f39c12" font-weight="bold">Laser</text>
                
                <!-- Detection -->
                <rect x="280" y="25" width="80" height="30" fill="#1E64C8" opacity="0.2" stroke="#1E64C8" stroke-width="2" rx="5"/>
                <text x="320" y="45" text-anchor="middle" font-size="10" fill="#1E64C8" font-weight="bold">Detector</text>
                
                <!-- Decision electronics -->
                <rect x="380" y="25" width="100" height="30" fill="#27ae60" opacity="0.2" stroke="#27ae60" stroke-width="2" rx="5"/>
                <text x="430" y="45" text-anchor="middle" font-size="10" fill="#27ae60" font-weight="bold">Sort Decision</text>
                
                <!-- Charging collar -->
                <rect x="130" y="150" width="60" height="15" fill="#FFA500" opacity="0.3" stroke="#FFA500" stroke-width="2" rx="3"/>
                <text x="200" y="160" font-size="9" fill="#cc8800">Charging collar</text>
                
                <!-- Charged droplets -->
                <circle cx="160" cy="180" r="6" fill="#ADD8E6" stroke="#E74C3C" stroke-width="2"/>
                <text x="145" y="183" font-size="10" fill="#E74C3C" font-weight="bold">+</text>
                
                <!-- Deflection plates -->
                <rect x="100" y="200" width="15" height="40" fill="#E74C3C" opacity="0.3"/>
                <text x="85" y="225" text-anchor="middle" font-size="14" fill="#E74C3C" font-weight="bold">+</text>
                
                <rect x="205" y="200" width="15" height="40" fill="#3498db" opacity="0.3"/>
                <text x="235" y="225" text-anchor="middle" font-size="14" fill="#3498db" font-weight="bold">−</text>
                
                <!-- Sorted populations -->
                <g transform="translate(80, 220)">
                    <!-- Left collection -->
                    <path d="M 80 0 Q 60 10, 40 30" stroke="#E74C3C" stroke-width="2" stroke-dasharray="3,2"/>
                    <rect x="20" y="30" width="40" height="25" fill="none" stroke="#E74C3C" stroke-width="2" rx="5"/>
                    <circle cx="35" cy="40" r="2" fill="#E74C3C"/>
                    <circle cx="45" cy="45" r="2" fill="#E74C3C"/>
                    <text x="40" y="68" text-anchor="middle" font-size="9" fill="#E74C3C" font-weight="bold">Population A</text>
                </g>
                
                <g transform="translate(160, 220)">
                    <!-- Center waste -->
                    <line x1="0" y1="0" x2="0" y2="30" stroke="#666" stroke-width="2"/>
                    <rect x="-20" y="30" width="40" height="25" fill="none" stroke="#666" stroke-width="2" rx="5"/>
                    <text x="0" y="68" text-anchor="middle" font-size="9" fill="#666">Waste</text>
                </g>
                
                <g transform="translate(240, 220)">
                    <!-- Right collection -->
                    <path d="M -80 0 Q -60 10, -40 30" stroke="#3498db" stroke-width="2" stroke-dasharray="3,2"/>
                    <rect x="-60" y="30" width="40" height="25" fill="none" stroke="#3498db" stroke-width="2" rx="5"/>
                    <circle cx="-45" cy="40" r="2" fill="#3498db"/>
                    <circle cx="-35" cy="45" r="2" fill="#3498db"/>
                    <text x="-40" y="68" text-anchor="middle" font-size="9" fill="#3498db" font-weight="bold">Population B</text>
                </g>
                
                <!-- Process flow diagram on right -->
                <g transform="translate(550, 40)">
                    <text x="0" y="0" font-size="12" fill="#1E64C8" font-weight="bold">Sort Logic:</text>
                    
                    <!-- Flow chart -->
                    <rect x="-10" y="15" width="80" height="25" fill="#f0f5fc" stroke="#1E64C8" stroke-width="1" rx="3"/>
                    <text x="30" y="32" text-anchor="middle" font-size="9" fill="#666">Detect signal</text>
                    
                    <line x1="30" y1="40" x2="30" y2="55" stroke="#666" stroke-width="1" marker-end="url(#arrowSort)"/>
                    
                    <polygon points="30,55 10,70 30,85 50,70" fill="#FFE4B5" stroke="#FFA500" stroke-width="1"/>
                    <text x="30" y="73" text-anchor="middle" font-size="9" fill="#cc8800">Match?</text>
                    
                    <line x1="10" y1="70" x2="-10" y2="70" stroke="#27ae60" stroke-width="1"/>
                    <text x="-15" y="68" text-anchor="end" font-size="8" fill="#27ae60">Yes</text>
                    
                    <line x1="50" y1="70" x2="70" y2="70" stroke="#E74C3C" stroke-width="1"/>
                    <text x="75" y="68" text-anchor="start" font-size="8" fill="#E74C3C">No</text>
                    
                    <!-- Charge decision -->
                    <rect x="-40" y="80" width="40" height="20" fill="#27ae60" opacity="0.2" stroke="#27ae60" stroke-width="1" rx="3"/>
                    <text x="-20" y="93" text-anchor="middle" font-size="8" fill="#27ae60">Charge</text>
                    
                    <rect x="50" y="80" width="40" height="20" fill="#666" opacity="0.2" stroke="#666" stroke-width="1" rx="3"/>
                    <text x="70" y="93" text-anchor="middle" font-size="8" fill="#666">No charge</text>
                    
                    <!-- Timing note -->
                    <text x="30" y="120" text-anchor="middle" font-size="9" fill="#9b59b6" font-weight="bold">Time delay</text>
                    <text x="30" y="132" text-anchor="middle" font-size="8" fill="#9b59b6">calculated</text>
                </g>
                
                <defs>
                    <marker id="arrowSort" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                        <polygon points="0 0, 8 3, 0 6" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 13px;">
            <div style="background: #f0f5fc; border: 2px solid #1E64C8; border-radius: 8px; padding: 14px;">
                <div style="font-size: 17px; font-weight: 700; color: #1E64C8; margin-bottom: 7px;">Droplet Formation</div>
                <div style="font-size: 14px; color: #333;">High-frequency vibration creates uniform droplets. Poisson statistics ensure one cell per droplet.</div>
            </div>
            
            <div style="background: #f0f5fc; border: 2px solid #1E64C8; border-radius: 8px; padding: 14px;">
                <div style="font-size: 17px; font-weight: 700; color: #1E64C8; margin-bottom: 7px;">Charge Deflection</div>
                <div style="font-size: 14px; color: #333;">Electrostatic deflection: ±3000-5000V. Precise timing critical for accurate sorting.</div>
            </div>
            
            <div style="background: #f0f5fc; border: 2px solid #1E64C8; border-radius: 8px; padding: 14px;">
                <div style="font-size: 17px; font-weight: 700; color: #1E64C8; margin-bottom: 7px;">Purity vs Yield</div>
                <div style="font-size: 14px; color: #333;">Tradeoff in gating strategy. Purity mode: >99%. Yield mode: maximize recovery.</div>
            </div>
            
            <div style="background: #f0f5fc; border: 2px solid #1E64C8; border-radius: 8px; padding: 14px;">
                <div style="font-size: 17px; font-weight: 700; color: #1E64C8; margin-bottom: 7px;">Index Sorting</div>
                <div style="font-size: 14px; color: #333;">Link phenotype to well position. Enables single-cell sequencing correlation.</div>
            </div>
        </div>
    </div>
</body>
</html>