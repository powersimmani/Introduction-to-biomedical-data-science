<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hands-on: Seurat Tutorial</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            width: 960px;
            height: 540px;
            padding: 30px 40px;
            background: white;
        }
        .title {
            font-size: 28px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 20px;
            text-align: center;
        }
        .visual-content {
            width: 100%;
            height: 430px;
        }
        .note-box {
            background: #f0f5fc;
            border-left: 4px solid #1E64C8;
            border-radius: 6px;
            padding: 12px 18px;
            margin-top: 10px;
        }
        .note-text {
            font-size: 16px;
            color: #333;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Hands-on: Seurat Tutorial</div>
        <div class="visual-content">
            <svg width="100%" height="100%" viewBox="0 0 900 420" xmlns="http://www.w3.org/2000/svg">
                <!-- Seurat Workflow -->
                <text x="450" y="25" font-family="Aptos, sans-serif" font-size="18" font-weight="700" fill="#1E64C8" text-anchor="middle">Seurat v5 Standard Workflow</text>
                
                <!-- Code and visualization side by side -->
                <g id="workflow">
                    <!-- Step 1: Data Loading -->
                    <rect x="20" y="50" width="420" height="80" rx="8" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                    <text x="30" y="70" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#0D47A1">1. Data Loading & QC</text>
                    
                    <!-- Code block -->
                    <rect x="30" y="80" width="400" height="40" rx="4" fill="#263238"/>
                    <text x="35" y="95" font-family="monospace" font-size="9" fill="#4CAF50"># Read 10X data</text>
                    <text x="35" y="107" font-family="monospace" font-size="9" fill="#64B5F6">data &lt;- Read10X("filtered_feature_bc_matrix/")</text>
                    <text x="35" y="119" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- CreateSeuratObject(data, min.cells=3)</text>
                    
                    <!-- Step 2: Filtering -->
                    <rect x="20" y="140" width="420" height="80" rx="8" fill="#FFF3E0" stroke="#F57C00" stroke-width="2"/>
                    <text x="30" y="160" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#E65100">2. QC Filtering</text>
                    
                    <rect x="30" y="170" width="400" height="40" rx="4" fill="#263238"/>
                    <text x="35" y="185" font-family="monospace" font-size="9" fill="#4CAF50"># Calculate mitochondrial %</text>
                    <text x="35" y="197" font-family="monospace" font-size="9" fill="#64B5F6">seurat[["percent.mt"]] &lt;- PercentageFeatureSet(seurat, "^MT-")</text>
                    <text x="35" y="209" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- subset(seurat, nFeature_RNA &gt; 200 & percent.mt &lt; 10)</text>
                    
                    <!-- Step 3: Normalization -->
                    <rect x="20" y="230" width="420" height="80" rx="8" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                    <text x="30" y="250" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#1B5E20">3. Normalization & Scaling</text>
                    
                    <rect x="30" y="260" width="400" height="40" rx="4" fill="#263238"/>
                    <text x="35" y="275" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- NormalizeData(seurat)</text>
                    <text x="35" y="287" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- FindVariableFeatures(seurat, nfeatures=2000)</text>
                    <text x="35" y="299" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- ScaleData(seurat)</text>
                    
                    <!-- Step 4: Dimensional Reduction -->
                    <rect x="20" y="320" width="420" height="80" rx="8" fill="#F3E5F5" stroke="#7B1FA2" stroke-width="2"/>
                    <text x="30" y="340" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#4A148C">4. Dimension Reduction & Clustering</text>
                    
                    <rect x="30" y="350" width="400" height="40" rx="4" fill="#263238"/>
                    <text x="35" y="365" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- RunPCA(seurat) %&gt;% RunUMAP(dims=1:30)</text>
                    <text x="35" y="377" font-family="monospace" font-size="9" fill="#64B5F6">seurat &lt;- FindNeighbors(seurat) %&gt;% FindClusters(res=0.5)</text>
                    <text x="35" y="389" font-family="monospace" font-size="9" fill="#64B5F6">DimPlot(seurat, label=TRUE) + NoLegend()</text>
                </g>
                
                <!-- Visualizations -->
                <g id="visualizations">
                    <rect x="460" y="50" width="420" height="350" rx="8" fill="#f5f5f5" stroke="#666" stroke-width="1"/>
                    <text x="670" y="70" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Key Visualizations</text>
                    
                    <!-- QC Violin plots -->
                    <g transform="translate(480, 85)">
                        <text x="60" y="0" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#666">QC Metrics</text>
                        <rect x="0" y="5" width="120" height="70" rx="4" fill="white" stroke="#999" stroke-width="1"/>
                        
                        <!-- Violin plot representation -->
                        <path d="M 20 40 Q 15 25, 20 15 T 20 40" fill="#BBDEFB" stroke="#1976D2" stroke-width="1"/>
                        <path d="M 40 40 Q 35 20, 40 10 T 40 40" fill="#C5E1A5" stroke="#388E3C" stroke-width="1"/>
                        <path d="M 60 40 Q 55 25, 60 15 T 60 40" fill="#FFCDD2" stroke="#D32F2F" stroke-width="1"/>
                        
                        <text x="20" y="65" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">nGene</text>
                        <text x="40" y="65" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">nUMI</text>
                        <text x="60" y="65" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">%MT</text>
                    </g>
                    
                    <!-- UMAP plot -->
                    <g transform="translate(620, 85)">
                        <text x="60" y="0" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#666">UMAP Clustering</text>
                        <rect x="0" y="5" width="120" height="70" rx="4" fill="white" stroke="#999" stroke-width="1"/>
                        
                        <!-- Clusters -->
                        <circle cx="25" cy="30" r="8" fill="#2196F3" opacity="0.7"/>
                        <circle cx="45" cy="25" r="10" fill="#4CAF50" opacity="0.7"/>
                        <circle cx="70" cy="35" r="9" fill="#FF9800" opacity="0.7"/>
                        <circle cx="90" cy="30" r="7" fill="#F44336" opacity="0.7"/>
                        <circle cx="60" cy="50" r="8" fill="#9C27B0" opacity="0.7"/>
                        
                        <text x="25" y="33" font-family="Aptos, sans-serif" font-size="8" fill="white" font-weight="600" text-anchor="middle">0</text>
                        <text x="45" y="28" font-family="Aptos, sans-serif" font-size="8" fill="white" font-weight="600" text-anchor="middle">1</text>
                        <text x="70" y="38" font-family="Aptos, sans-serif" font-size="8" fill="white" font-weight="600" text-anchor="middle">2</text>
                        <text x="90" y="33" font-family="Aptos, sans-serif" font-size="8" fill="white" font-weight="600" text-anchor="middle">3</text>
                        <text x="60" y="53" font-family="Aptos, sans-serif" font-size="8" fill="white" font-weight="600" text-anchor="middle">4</text>
                    </g>
                    
                    <!-- Feature plots -->
                    <g transform="translate(760, 85)">
                        <text x="50" y="0" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#666">Feature Plot</text>
                        <rect x="0" y="5" width="100" height="70" rx="4" fill="white" stroke="#999" stroke-width="1"/>
                        
                        <!-- Expression gradient -->
                        <defs>
                            <radialGradient id="expr-gradient">
                                <stop offset="0%" style="stop-color:#D32F2F;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FFEBEE;stop-opacity:0.3" />
                            </radialGradient>
                        </defs>
                        
                        <circle cx="30" cy="35" r="12" fill="url(#expr-gradient)"/>
                        <circle cx="60" cy="30" r="8" fill="#FFEBEE" opacity="0.3"/>
                        <circle cx="70" cy="50" r="10" fill="#FFEBEE" opacity="0.3"/>
                        
                        <text x="50" y="68" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">CD3D</text>
                    </g>
                    
                    <!-- Integration example -->
                    <g transform="translate(480, 180)">
                        <rect x="0" y="0" width="380" height="100" rx="6" fill="white" stroke="#7B1FA2" stroke-width="1"/>
                        <text x="190" y="20" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#6A1B9A" text-anchor="middle">Integration with Harmony/Seurat</text>
                        
                        <rect x="10" y="30" width="360" height="30" rx="4" fill="#263238"/>
                        <text x="15" y="43" font-family="monospace" font-size="8" fill="#4CAF50"># Integration of multiple samples</text>
                        <text x="15" y="54" font-family="monospace" font-size="8" fill="#64B5F6">seurat &lt;- IntegrateLayers(seurat, method=HarmonyIntegration)</text>
                        
                        <!-- Before/After -->
                        <text x="95" y="75" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">Before</text>
                        <circle cx="60" cy="85" r="5" fill="#FF5722"/>
                        <circle cx="80" cy="83" r="5" fill="#FF5722"/>
                        <circle cx="110" cy="85" r="5" fill="#2196F3"/>
                        <circle cx="130" cy="83" r="5" fill="#2196F3"/>
                        
                        <text x="190" y="90" font-family="Aptos, sans-serif" font-size="14" fill="#7B1FA2" text-anchor="middle">â†’</text>
                        
                        <text x="285" y="75" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">After</text>
                        <circle cx="260" cy="85" r="5" fill="#FF5722"/>
                        <circle cx="270" cy="83" r="5" fill="#2196F3"/>
                        <circle cx="300" cy="85" r="5" fill="#FF5722"/>
                        <circle cx="310" cy="83" r="5" fill="#2196F3"/>
                    </g>
                    
                    <!-- Cell type markers -->
                    <g transform="translate(480, 290)">
                        <rect x="0" y="0" width="380" height="100" rx="6" fill="white" stroke="#388E3C" stroke-width="1"/>
                        <text x="190" y="20" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#1B5E20" text-anchor="middle">Find Markers & Annotate</text>
                        
                        <rect x="10" y="30" width="360" height="30" rx="4" fill="#263238"/>
                        <text x="15" y="43" font-family="monospace" font-size="8" fill="#64B5F6">markers &lt;- FindAllMarkers(seurat, only.pos=TRUE)</text>
                        <text x="15" y="54" font-family="monospace" font-size="8" fill="#64B5F6">new.ids &lt;- c("T cells", "B cells", "NK", "Monocytes")</text>
                        
                        <!-- Dot plot preview -->
                        <text x="60" y="75" font-family="Aptos, sans-serif" font-size="9" fill="#666">Top Markers:</text>
                        <circle cx="100" cy="85" r="6" fill="#4CAF50" opacity="0.8"/>
                        <text x="110" y="88" font-family="Aptos, sans-serif" font-size="8" fill="#333">CD3D</text>
                        
                        <circle cx="170" cy="85" r="5" fill="#2196F3" opacity="0.7"/>
                        <text x="180" y="88" font-family="Aptos, sans-serif" font-size="8" fill="#333">CD79A</text>
                        
                        <circle cx="240" cy="85" r="7" fill="#FF9800" opacity="0.9"/>
                        <text x="250" y="88" font-family="Aptos, sans-serif" font-size="8" fill="#333">NKG7</text>
                        
                        <circle cx="310" cy="85" r="6" fill="#F44336" opacity="0.8"/>
                        <text x="320" y="88" font-family="Aptos, sans-serif" font-size="8" fill="#333">CD14</text>
                    </g>
                </g>
            </svg>
        </div>
        <div class="note-box">
            <div class="note-text">ðŸ’¡ Most widely used R package for scRNA-seq analysis</div>
        </div>
    </div>
</body>
</html>