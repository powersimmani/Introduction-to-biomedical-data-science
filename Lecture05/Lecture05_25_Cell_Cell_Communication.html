<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cell-Cell Communication - Enhanced</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            padding: 20px;
        }
        .slide {
            width: 960px;
            margin: 0 auto 40px;
            padding: 30px 40px;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .title {
            font-size: 28px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 20px;
            text-align: center;
        }
        .subtitle {
            font-size: 22px;
            font-weight: 600;
            color: #1E64C8;
            margin: 30px 0 15px;
            border-bottom: 3px solid #1E64C8;
            padding-bottom: 8px;
        }
        .section {
            margin: 25px 0;
        }
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #0D47A1;
            margin-bottom: 12px;
        }
        .text-content {
            font-size: 15px;
            line-height: 1.6;
            color: #333;
            margin-bottom: 10px;
        }
        .highlight-box {
            background: #FFF3E0;
            border-left: 4px solid #FF9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .info-box {
            background: #E3F2FD;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .success-box {
            background: #E8F5E9;
            border-left: 4px solid #4CAF50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .note-box {
            background: #f0f5fc;
            border-left: 4px solid #1E64C8;
            border-radius: 6px;
            padding: 12px 18px;
            margin-top: 15px;
        }
        .note-text {
            font-size: 16px;
            color: #333;
            font-weight: 600;
        }
        ul {
            margin-left: 25px;
            margin-top: 8px;
        }
        li {
            margin-bottom: 8px;
            font-size: 15px;
            line-height: 1.5;
        }
        .example-header {
            background: #7B1FA2;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: 600;
            margin-bottom: 15px;
        }
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .card {
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fafafa;
        }
        .card-title {
            font-weight: 600;
            color: #1976D2;
            margin-bottom: 10px;
            font-size: 16px;
        }
        .visual-content {
            width: 100%;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <!-- Original Slide -->
    <div class="slide">
        <div class="title">Cell-Cell Communication</div>
        <div class="visual-content">
            <svg width="100%" height="420" viewBox="0 0 900 420" xmlns="http://www.w3.org/2000/svg">
                <!-- Communication Overview -->
                <text x="450" y="25" font-family="Aptos, sans-serif" font-size="18" font-weight="700" fill="#1E64C8" text-anchor="middle">Inferring Cell-Cell Interactions from scRNA-seq</text>
                
                <!-- Ligand-Receptor Interaction -->
                <g id="interaction">
                    <rect x="20" y="50" width="350" height="150" rx="10" fill="#f8fbff" stroke="#1976D2" stroke-width="2"/>
                    <text x="195" y="75" font-family="Aptos, sans-serif" font-size="13" font-weight="700" fill="#0D47A1" text-anchor="middle">Ligand-Receptor Interaction</text>
                    
                    <!-- Sender cell -->
                    <circle cx="100" cy="130" r="35" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                    <text x="100" y="135" font-family="Aptos, sans-serif" font-size="10" font-weight="600" fill="#0D47A1" text-anchor="middle">Sender</text>
                    
                    <!-- Ligand -->
                    <circle cx="140" cy="120" r="5" fill="#F44336"/>
                    <text x="140" y="105" font-family="Aptos, sans-serif" font-size="9" fill="#D32F2F" text-anchor="middle">Ligand</text>
                    <path d="M 145 120 L 225 130" stroke="#F44336" stroke-width="2" marker-end="url(#arrow-red)"/>
                    
                    <!-- Receiver cell -->
                    <circle cx="290" cy="130" r="35" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                    <text x="290" y="135" font-family="Aptos, sans-serif" font-size="10" font-weight="600" fill="#1B5E20" text-anchor="middle">Receiver</text>
                    
                    <!-- Receptor -->
                    <rect x="250" y="125" width="8" height="12" rx="2" fill="#4CAF50"/>
                    <text x="254" y="150" font-family="Aptos, sans-serif" font-size="9" fill="#2E7D32" text-anchor="middle">Receptor</text>
                    
                    <!-- Examples -->
                    <text x="195" y="180" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">TNFâ†’TNFR | IL6â†’IL6R | VEGFAâ†’FLT1</text>
                </g>
                
                <!-- Analysis Tools -->
                <g id="tools">
                    <rect x="390" y="50" width="490" height="150" rx="10" fill="#FFF3E0" stroke="#F57C00" stroke-width="2"/>
                    <text x="635" y="75" font-family="Aptos, sans-serif" font-size="13" font-weight="700" fill="#E65100" text-anchor="middle">Communication Inference Tools</text>
                    
                    <!-- CellPhoneDB -->
                    <rect x="405" y="90" width="145" height="95" rx="5" fill="white" stroke="#2196F3" stroke-width="1"/>
                    <text x="477" y="110" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#1976D2" text-anchor="middle">CellPhoneDB</text>
                    <text x="477" y="130" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Statistical framework</text>
                    <text x="477" y="145" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Permutation test</text>
                    <text x="477" y="160" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Multi-subunit</text>
                    <text x="477" y="175" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Spatial optional</text>
                    
                    <!-- NicheNet -->
                    <rect x="560" y="90" width="145" height="95" rx="5" fill="white" stroke="#4CAF50" stroke-width="1"/>
                    <text x="632" y="110" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#388E3C" text-anchor="middle">NicheNet</text>
                    <text x="632" y="130" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Gene regulatory</text>
                    <text x="632" y="145" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Prior knowledge</text>
                    <text x="632" y="160" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Target prediction</text>
                    <text x="632" y="175" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Prioritization</text>
                    
                    <!-- CellChat -->
                    <rect x="715" y="90" width="145" height="95" rx="5" fill="white" stroke="#9C27B0" stroke-width="1"/>
                    <text x="787" y="110" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#7B1FA2" text-anchor="middle">CellChat</text>
                    <text x="787" y="130" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Network analysis</text>
                    <text x="787" y="145" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Pattern recognition</text>
                    <text x="787" y="160" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Visualization</text>
                    <text x="787" y="175" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="middle">â€¢ Comparison</text>
                </g>
                
                <!-- Visualization Examples -->
                <g id="visualizations">
                    <rect x="20" y="220" width="860" height="180" rx="10" fill="#f5f5f5" stroke="#666" stroke-width="1"/>
                    <text x="450" y="245" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Typical Analysis Outputs</text>
                    
                    <!-- Heatmap -->
                    <g transform="translate(50, 260)">
                        <rect x="0" y="0" width="180" height="120" rx="5" fill="white" stroke="#1976D2" stroke-width="1"/>
                        <text x="90" y="15" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#0D47A1" text-anchor="middle">Interaction Heatmap</text>
                        
                        <!-- Mini heatmap -->
                        <g transform="translate(20, 25)">
                            <rect x="0" y="0" width="20" height="20" fill="#FFCDD2"/>
                            <rect x="20" y="0" width="20" height="20" fill="#EF5350"/>
                            <rect x="40" y="0" width="20" height="20" fill="#F44336"/>
                            <rect x="60" y="0" width="20" height="20" fill="#FFCDD2"/>
                            
                            <rect x="0" y="20" width="20" height="20" fill="#C5E1A5"/>
                            <rect x="20" y="20" width="20" height="20" fill="#FFCDD2"/>
                            <rect x="40" y="20" width="20" height="20" fill="#81C784"/>
                            <rect x="60" y="20" width="20" height="20" fill="#4CAF50"/>
                            
                            <rect x="0" y="40" width="20" height="20" fill="#FFCDD2"/>
                            <rect x="20" y="40" width="20" height="20" fill="#BBDEFB"/>
                            <rect x="40" y="40" width="20" height="20" fill="#FFCDD2"/>
                            <rect x="60" y="40" width="20" height="20" fill="#2196F3"/>
                            
                            <text x="-5" y="15" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="end">T</text>
                            <text x="-5" y="35" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="end">B</text>
                            <text x="-5" y="55" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="end">Mo</text>
                            
                            <text x="10" y="75" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">T</text>
                            <text x="30" y="75" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">B</text>
                            <text x="50" y="75" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">Mo</text>
                            <text x="70" y="75" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">DC</text>
                        </g>
                        
                        <text x="90" y="110" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Cell type pairs</text>
                    </g>
                    
                    <!-- Network -->
                    <g transform="translate(250, 260)">
                        <rect x="0" y="0" width="180" height="120" rx="5" fill="white" stroke="#388E3C" stroke-width="1"/>
                        <text x="90" y="15" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#1B5E20" text-anchor="middle">Network Graph</text>
                        
                        <!-- Network nodes and edges -->
                        <circle cx="50" cy="50" r="12" fill="#2196F3"/>
                        <text x="50" y="53" font-family="Aptos, sans-serif" font-size="9" fill="white" text-anchor="middle">T</text>
                        
                        <circle cx="130" cy="50" r="12" fill="#4CAF50"/>
                        <text x="130" y="53" font-family="Aptos, sans-serif" font-size="9" fill="white" text-anchor="middle">B</text>
                        
                        <circle cx="90" cy="90" r="12" fill="#FF9800"/>
                        <text x="90" y="93" font-family="Aptos, sans-serif" font-size="9" fill="white" text-anchor="middle">Mo</text>
                        
                        <path d="M 62 50 L 118 50" stroke="#666" stroke-width="2" opacity="0.5"/>
                        <path d="M 55 60 L 80 80" stroke="#666" stroke-width="3" opacity="0.7"/>
                        <path d="M 125 60 L 100 80" stroke="#666" stroke-width="1.5" opacity="0.4"/>
                        
                        <text x="90" y="110" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Interaction strength</text>
                    </g>
                    
                    <!-- Dot plot -->
                    <g transform="translate(450, 260)">
                        <rect x="0" y="0" width="180" height="120" rx="5" fill="white" stroke="#7B1FA2" stroke-width="1"/>
                        <text x="90" y="15" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#6A1B9A" text-anchor="middle">Dot Plot</text>
                        
                        <!-- Dot plot visualization -->
                        <circle cx="40" cy="35" r="8" fill="#BA68C8" opacity="0.8"/>
                        <circle cx="60" cy="35" r="4" fill="#BA68C8" opacity="0.3"/>
                        <circle cx="80" cy="35" r="6" fill="#BA68C8" opacity="0.6"/>
                        
                        <circle cx="40" cy="55" r="3" fill="#9C27B0" opacity="0.3"/>
                        <circle cx="60" cy="55" r="9" fill="#9C27B0" opacity="0.9"/>
                        <circle cx="80" cy="55" r="5" fill="#9C27B0" opacity="0.5"/>
                        
                        <circle cx="40" cy="75" r="7" fill="#7B1FA2" opacity="0.7"/>
                        <circle cx="60" cy="75" r="4" fill="#7B1FA2" opacity="0.4"/>
                        <circle cx="80" cy="75" r="10" fill="#7B1FA2" opacity="1"/>
                        
                        <text x="90" y="95" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">Size: p-value</text>
                        <text x="90" y="105" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">Color: mean expr</text>
                    </g>
                    
                    <!-- Spatial -->
                    <g transform="translate(650, 260)">
                        <rect x="0" y="0" width="200" height="120" rx="5" fill="white" stroke="#F57C00" stroke-width="1"/>
                        <text x="100" y="15" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#E65100" text-anchor="middle">Spatial Context</text>
                        
                        <!-- Spatial representation -->
                        <circle cx="60" cy="50" r="15" fill="#FFB74D" opacity="0.6"/>
                        <circle cx="90" cy="55" r="15" fill="#FF9800" opacity="0.6"/>
                        <circle cx="120" cy="45" r="15" fill="#F57C00" opacity="0.6"/>
                        
                        <path d="M 75 50 L 105 55" stroke="#D84315" stroke-width="2" marker-end="url(#arrow-orange)"/>
                        <path d="M 105 45 L 75 50" stroke="#D84315" stroke-width="1" marker-end="url(#arrow-orange)" opacity="0.5"/>
                        
                        <text x="100" y="80" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Physical proximity</text>
                        <text x="100" y="95" font-family="Aptos, sans-serif" font-size="8" fill="#E65100" text-anchor="middle">â†’ Higher confidence</text>
                    </g>
                </g>
                
                <!-- Arrow markers -->
                <defs>
                    <marker id="arrow-red" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L7,3 z" fill="#F44336"/>
                    </marker>
                    <marker id="arrow-orange" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L6,3 z" fill="#D84315"/>
                    </marker>
                    <marker id="arrow-grey" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L7,3 z" fill="#666"/>
                    </marker>
                </defs>
            </svg>
        </div>
        <div class="note-box">
            <div class="note-text">ðŸ’¡ Infer cellular communication from expression patterns</div>
        </div>
    </div>

    <!-- New Detailed Sections -->
    
    <!-- Slide 2: Detailed Mechanism -->
    <div class="slide">
        <div class="title">Detailed Mechanism of Ligand-Receptor Interaction</div>
        
        <div class="visual-content">
            <svg width="100%" height="450" viewBox="0 0 900 450" xmlns="http://www.w3.org/2000/svg">
                <!-- Title -->
                <text x="450" y="30" font-family="Aptos, sans-serif" font-size="20" font-weight="700" fill="#1E64C8" text-anchor="middle">Step-by-Step Communication Process</text>
                
                <!-- Step 1: Ligand Expression -->
                <g id="step1">
                    <rect x="30" y="60" width="250" height="160" rx="8" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                    <text x="155" y="85" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#0D47A1" text-anchor="middle">Step 1: Ligand Expression</text>
                    
                    <!-- Sender cell -->
                    <circle cx="90" cy="140" r="40" fill="#BBDEFB" stroke="#1976D2" stroke-width="2"/>
                    <text x="90" y="125" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#0D47A1" text-anchor="middle">Sender Cell</text>
                    <text x="90" y="140" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">(e.g., Fibroblast)</text>
                    
                    <!-- Gene expression -->
                    <rect x="130" y="120" width="35" height="40" rx="3" fill="#FFF9C4" stroke="#F57C00" stroke-width="1"/>
                    <text x="147" y="143" font-family="Aptos, sans-serif" font-size="9" fill="#E65100" text-anchor="middle">mRNA</text>
                    
                    <!-- Translation -->
                    <path d="M 165 140 L 185 140" stroke="#666" stroke-width="1.5" marker-end="url(#arrow-grey)"/>
                    <text x="175" y="135" font-family="Aptos, sans-serif" font-size="8" fill="#666" text-anchor="middle">Translation</text>
                    
                    <!-- Ligand protein -->
                    <circle cx="210" cy="140" r="12" fill="#F44336"/>
                    <text x="210" y="145" font-family="Aptos, sans-serif" font-size="9" fill="white" font-weight="600" text-anchor="middle">L</text>
                    <text x="210" y="165" font-family="Aptos, sans-serif" font-size="8" fill="#D32F2F" text-anchor="middle">Ligand</text>
                    
                    <!-- Expression note -->
                    <text x="155" y="195" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Gene: VEGFA, TNF, IL6</text>
                    <text x="155" y="210" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Detected in scRNA-seq</text>
                </g>
                
                <!-- Step 2: Secretion -->
                <g id="step2">
                    <rect x="310" y="60" width="250" height="160" rx="8" fill="#FFF3E0" stroke="#F57C00" stroke-width="2"/>
                    <text x="435" y="85" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#E65100" text-anchor="middle">Step 2: Secretion & Diffusion</text>
                    
                    <!-- Sender cell (small) -->
                    <circle cx="340" cy="140" r="25" fill="#BBDEFB" stroke="#1976D2" stroke-width="1.5"/>
                    
                    <!-- Ligands being secreted -->
                    <circle cx="375" cy="130" r="8" fill="#F44336"/>
                    <circle cx="390" cy="140" r="8" fill="#F44336"/>
                    <circle cx="405" cy="135" r="8" fill="#F44336"/>
                    <circle cx="420" cy="145" r="8" fill="#F44336"/>
                    <circle cx="435" cy="140" r="8" fill="#F44336"/>
                    
                    <!-- Diffusion arrows -->
                    <path d="M 368 130 L 450 130" stroke="#F44336" stroke-width="1.5" stroke-dasharray="3,3" opacity="0.6"/>
                    <path d="M 383 140 L 465 140" stroke="#F44336" stroke-width="1.5" stroke-dasharray="3,3" opacity="0.6"/>
                    <path d="M 398 135 L 480 135" stroke="#F44336" stroke-width="1.5" stroke-dasharray="3,3" opacity="0.6"/>
                    
                    <!-- Receiver cell (small) -->
                    <circle cx="510" cy="140" r="25" fill="#C8E6C9" stroke="#388E3C" stroke-width="1.5"/>
                    
                    <!-- Diffusion note -->
                    <text x="435" y="175" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Extracellular space</text>
                    <text x="435" y="190" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Paracrine signaling</text>
                    <text x="435" y="205" font-family="Aptos, sans-serif" font-size="9" fill="#E65100" font-weight="600" text-anchor="middle">Distance: ~100 Î¼m</text>
                </g>
                
                <!-- Step 3: Receptor Binding -->
                <g id="step3">
                    <rect x="590" y="60" width="280" height="160" rx="8" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                    <text x="730" y="85" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#1B5E20" text-anchor="middle">Step 3: Receptor Binding</text>
                    
                    <!-- Receiver cell detail -->
                    <ellipse cx="730" cy="140" rx="120" ry="60" fill="#C8E6C9" stroke="#388E3C" stroke-width="2"/>
                    <text x="730" y="145" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#1B5E20" text-anchor="middle">Receiver Cell</text>
                    <text x="730" y="160" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">(e.g., Endothelial)</text>
                    
                    <!-- Membrane -->
                    <path d="M 610 140 Q 620 135, 630 140 T 650 140 T 670 140 T 690 140" stroke="#2E7D32" stroke-width="3" fill="none"/>
                    
                    <!-- Receptors on membrane -->
                    <rect x="625" y="128" width="10" height="20" rx="2" fill="#4CAF50" stroke="#2E7D32" stroke-width="1"/>
                    <rect x="645" y="130" width="10" height="18" rx="2" fill="#4CAF50" stroke="#2E7D32" stroke-width="1"/>
                    <rect x="665" y="127" width="10" height="22" rx="2" fill="#4CAF50" stroke="#2E7D32" stroke-width="1"/>
                    
                    <!-- Ligand approaching -->
                    <circle cx="610" cy="115" r="8" fill="#F44336"/>
                    <path d="M 612 118 L 628 125" stroke="#F44336" stroke-width="1.5" marker-end="url(#arrow-red2)"/>
                    
                    <!-- Bound ligand-receptor -->
                    <circle cx="648" cy="122" r="6" fill="#F44336"/>
                    <line x1="648" y1="128" x2="648" y2="130" stroke="#2E7D32" stroke-width="2"/>
                    
                    <!-- Binding note -->
                    <text x="730" y="195" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">Receptor: FLT1, TNFR, IL6R</text>
                    <text x="730" y="210" font-family="Aptos, sans-serif" font-size="9" fill="#E65100" font-weight="600" text-anchor="middle">Specificity: Lock & Key</text>
                </g>
                
                <!-- Step 4: Signal Transduction -->
                <g id="step4">
                    <rect x="30" y="250" width="400" height="180" rx="8" fill="#F3E5F5" stroke="#7B1FA2" stroke-width="2"/>
                    <text x="230" y="275" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#6A1B9A" text-anchor="middle">Step 4: Signal Transduction & Response</text>
                    
                    <!-- Receiver cell cross-section -->
                    <rect x="50" y="290" width="360" height="120" rx="5" fill="#E1BEE7" stroke="#7B1FA2" stroke-width="1"/>
                    
                    <!-- Membrane -->
                    <line x1="50" y1="320" x2="410" y2="320" stroke="#6A1B9A" stroke-width="3"/>
                    <text x="50" y="315" font-family="Aptos, sans-serif" font-size="9" fill="#6A1B9A" text-anchor="start">Extracellular</text>
                    <text x="50" y="335" font-family="Aptos, sans-serif" font-size="9" fill="#6A1B9A" text-anchor="start">Intracellular</text>
                    
                    <!-- Receptor with ligand -->
                    <rect x="100" y="308" width="10" height="25" rx="2" fill="#7B1FA2"/>
                    <circle cx="105" cy="303" r="6" fill="#F44336"/>
                    
                    <!-- Signal cascade -->
                    <circle cx="120" cy="345" r="8" fill="#AB47BC"/>
                    <text x="120" y="349" font-family="Aptos, sans-serif" font-size="7" fill="white" text-anchor="middle">P</text>
                    <path d="M 105 328 L 118 337" stroke="#7B1FA2" stroke-width="2" marker-end="url(#arrow-purple)"/>
                    
                    <circle cx="160" cy="360" r="8" fill="#BA68C8"/>
                    <text x="160" y="364" font-family="Aptos, sans-serif" font-size="7" fill="white" text-anchor="middle">P</text>
                    <path d="M 128 345 L 152 360" stroke="#7B1FA2" stroke-width="2" marker-end="url(#arrow-purple)"/>
                    
                    <circle cx="210" cy="365" r="8" fill="#CE93D8"/>
                    <text x="210" y="369" font-family="Aptos, sans-serif" font-size="7" fill="white" text-anchor="middle">P</text>
                    <path d="M 168 360 L 202 365" stroke="#7B1FA2" stroke-width="2" marker-end="url(#arrow-purple)"/>
                    
                    <!-- Nucleus -->
                    <ellipse cx="320" cy="365" rx="70" ry="35" fill="#D1C4E9" stroke="#5E35B1" stroke-width="2"/>
                    <text x="320" y="370" font-family="Aptos, sans-serif" font-size="10" font-weight="600" fill="#4527A0" text-anchor="middle">Nucleus</text>
                    
                    <!-- Signal to nucleus -->
                    <path d="M 218 365 L 250 365" stroke="#7B1FA2" stroke-width="2" marker-end="url(#arrow-purple)"/>
                    
                    <!-- Gene expression -->
                    <text x="320" y="385" font-family="Aptos, sans-serif" font-size="8" fill="#4527A0" text-anchor="middle">Gene expression â†‘</text>
                </g>
                
                <!-- Step 5: Detection -->
                <g id="step5">
                    <rect x="460" y="250" width="410" height="180" rx="8" fill="#E0F2F1" stroke="#00897B" stroke-width="2"/>
                    <text x="665" y="275" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#00695C" text-anchor="middle">Step 5: Detection by scRNA-seq</text>
                    
                    <!-- scRNA-seq workflow -->
                    <g transform="translate(480, 295)">
                        <!-- Single cell -->
                        <circle cx="40" cy="40" r="25" fill="#B2DFDB" stroke="#00897B" stroke-width="2"/>
                        <text x="40" y="45" font-family="Aptos, sans-serif" font-size="9" fill="#00695C" text-anchor="middle">Cell</text>
                        
                        <path d="M 65 40 L 90 40" stroke="#00897B" stroke-width="2" marker-end="url(#arrow-teal)"/>
                        
                        <!-- RNA -->
                        <g transform="translate(100, 25)">
                            <path d="M 0 5 Q 5 0, 10 5 T 20 5 T 30 5" stroke="#F57C00" stroke-width="2" fill="none"/>
                            <path d="M 0 15 Q 5 10, 10 15 T 20 15 T 30 15" stroke="#F57C00" stroke-width="2" fill="none"/>
                            <text x="15" y="35" font-family="Aptos, sans-serif" font-size="8" fill="#E65100" text-anchor="middle">mRNA</text>
                        </g>
                        
                        <path d="M 145 40 L 170 40" stroke="#00897B" stroke-width="2" marker-end="url(#arrow-teal)"/>
                        
                        <!-- Sequencing -->
                        <rect x="180" y="20" width="60" height="40" rx="5" fill="#4DB6AC" stroke="#00695C" stroke-width="2"/>
                        <text x="210" y="40" font-family="Aptos, sans-serif" font-size="10" font-weight="600" fill="white" text-anchor="middle">NGS</text>
                        
                        <path d="M 250 40 L 275 40" stroke="#00897B" stroke-width="2" marker-end="url(#arrow-teal)"/>
                        
                        <!-- Data -->
                        <rect x="285" y="20" width="60" height="40" rx="5" fill="#26A69A" stroke="#00695C" stroke-width="2"/>
                        <text x="315" y="35" font-family="Aptos, sans-serif" font-size="8" fill="white" text-anchor="middle">VEGFA:</text>
                        <text x="315" y="50" font-family="Aptos, sans-serif" font-size="8" fill="white" text-anchor="middle">FLT1:</text>
                    </g>
                    
                    <!-- Key metrics -->
                    <rect x="480" y="375" width="370" height="40" rx="5" fill="#B2DFDB" stroke="#00897B" stroke-width="1"/>
                    <text x="490" y="393" font-family="Aptos, sans-serif" font-size="10" fill="#00695C" text-anchor="start">âœ“ Ligand expression in sender cells</text>
                    <text x="490" y="408" font-family="Aptos, sans-serif" font-size="10" fill="#00695C" text-anchor="start">âœ“ Receptor expression in receiver cells</text>
                </g>
                
                <!-- Arrow markers -->
                <defs>
                    <marker id="arrow-red2" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L7,3 z" fill="#F44336"/>
                    </marker>
                    <marker id="arrow-grey" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L7,3 z" fill="#666"/>
                    </marker>
                    <marker id="arrow-purple" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L6,3 z" fill="#7B1FA2"/>
                    </marker>
                    <marker id="arrow-teal" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
                        <path d="M0,0 L0,6 L6,3 z" fill="#00897B"/>
                    </marker>
                </defs>
            </svg>
        </div>
        
        <div class="note-box">
            <div class="note-text">ðŸ”¬ From gene expression to cellular response: A complete signaling cascade</div>
        </div>
    </div>

    <!-- Slide 3: Detailed Examples -->
    <div class="slide">
        <div class="title">Real-World Examples of Cell-Cell Communication</div>
        
        <div class="section">
            <div class="example-header">Example 1: Immune Response - TNF Signaling</div>
            
            <div class="visual-content">
                <svg width="100%" height="300" viewBox="0 0 900 300" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background -->
                    <rect x="0" y="0" width="900" height="300" fill="#FFF8E1"/>
                    
                    <!-- Macrophage (sender) -->
                    <g id="macrophage">
                        <circle cx="150" cy="150" r="60" fill="#FFE082" stroke="#F57C00" stroke-width="3"/>
                        <text x="150" y="145" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#E65100" text-anchor="middle">Macrophage</text>
                        <text x="150" y="165" font-family="Aptos, sans-serif" font-size="10" fill="#E65100" text-anchor="middle">(Activated)</text>
                        
                        <!-- TNF production -->
                        <circle cx="180" cy="120" r="10" fill="#F44336"/>
                        <text x="180" y="105" font-family="Aptos, sans-serif" font-size="9" font-weight="600" fill="#D32F2F" text-anchor="middle">TNF-Î±</text>
                    </g>
                    
                    <!-- TNF molecules -->
                    <circle cx="250" cy="130" r="8" fill="#F44336"/>
                    <circle cx="280" cy="145" r="8" fill="#F44336"/>
                    <circle cx="310" cy="135" r="8" fill="#F44336"/>
                    <circle cx="340" cy="150" r="8" fill="#F44336"/>
                    
                    <!-- Arrows showing secretion -->
                    <path d="M 220 130 L 410 145" stroke="#F44336" stroke-width="2" stroke-dasharray="5,5" opacity="0.6" marker-end="url(#arrow-red3)"/>
                    
                    <!-- Endothelial cell (receiver) -->
                    <g id="endothelial">
                        <ellipse cx="550" cy="150" rx="140" ry="70" fill="#E3F2FD" stroke="#1976D2" stroke-width="3"/>
                        <text x="550" y="145" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#0D47A1" text-anchor="middle">Endothelial Cell</text>
                        
                        <!-- TNFR receptors -->
                        <rect x="410" y="140" width="12" height="25" rx="2" fill="#2196F3" stroke="#0D47A1" stroke-width="2"/>
                        <rect x="430" y="135" width="12" height="28" rx="2" fill="#2196F3" stroke="#0D47A1" stroke-width="2"/>
                        <text x="421" y="180" font-family="Aptos, sans-serif" font-size="9" fill="#0D47A1" text-anchor="middle">TNFR1</text>
                        
                        <!-- Ligand binding -->
                        <circle cx="416" cy="130" r="6" fill="#F44336"/>
                        <line x1="416" y1="136" x2="416" y2="140" stroke="#0D47A1" stroke-width="2"/>
                    </g>
                    
                    <!-- Response -->
                    <g id="response" transform="translate(550, 180)">
                        <text x="0" y="0" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#1976D2" text-anchor="middle">Cellular Response:</text>
                        <text x="0" y="18" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">â€¢ NF-ÎºB activation</text>
                        <text x="0" y="33" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">â€¢ Adhesion molecule expression â†‘</text>
                        <text x="0" y="48" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">â€¢ Inflammatory cytokine production</text>
                    </g>
                    
                    <!-- Detection info -->
                    <rect x="700" y="50" width="180" height="200" rx="8" fill="white" stroke="#00897B" stroke-width="2"/>
                    <text x="790" y="75" font-family="Aptos, sans-serif" font-size="12" font-weight="700" fill="#00695C" text-anchor="middle">scRNA-seq Data</text>
                    
                    <text x="710" y="100" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="start">Sender (Macrophage):</text>
                    <text x="720" y="118" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">TNF: High expression</text>
                    <text x="720" y="133" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">Avg log2FC: 3.2</text>
                    
                    <line x1="710" y1="145" x2="870" y2="145" stroke="#ddd" stroke-width="1"/>
                    
                    <text x="710" y="165" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="start">Receiver (Endothelial):</text>
                    <text x="720" y="183" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">TNFRSF1A: Expressed</text>
                    <text x="720" y="198" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">% cells: 78%</text>
                    
                    <rect x="710" y="215" width="160" height="25" rx="3" fill="#C8E6C9" stroke="#4CAF50" stroke-width="1"/>
                    <text x="790" y="232" font-family="Aptos, sans-serif" font-size="10" font-weight="600" fill="#2E7D32" text-anchor="middle">âœ“ Interaction Predicted</text>
                    
                    <!-- Arrow marker -->
                    <defs>
                        <marker id="arrow-red3" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L7,3 z" fill="#F44336"/>
                        </marker>
                    </defs>
                </svg>
            </div>
            
            <div class="info-box">
                <strong>Biological Context:</strong> During inflammation, activated macrophages secrete TNF-Î±, which binds to TNFR1 on endothelial cells. This triggers the expression of adhesion molecules (ICAM-1, VCAM-1), facilitating leukocyte recruitment to inflamed tissues. This is a classic example of paracrine signaling in immune responses.
            </div>
        </div>

        <div class="section" style="margin-top: 30px;">
            <div class="example-header">Example 2: Angiogenesis - VEGF Signaling</div>
            
            <div class="visual-content">
                <svg width="100%" height="280" viewBox="0 0 900 280" xmlns="http://www.w3.org/2000/svg">
                    <!-- Background -->
                    <rect x="0" y="0" width="900" height="280" fill="#E8F5E9"/>
                    
                    <!-- Tumor/Hypoxic cell (sender) -->
                    <g id="tumor">
                        <circle cx="150" cy="140" r="55" fill="#FFCDD2" stroke="#C62828" stroke-width="3"/>
                        <text x="150" y="135" font-family="Aptos, sans-serif" font-size="13" font-weight="700" fill="#B71C1C" text-anchor="middle">Tumor Cell</text>
                        <text x="150" y="152" font-family="Aptos, sans-serif" font-size="9" fill="#B71C1C" text-anchor="middle">(Hypoxic)</text>
                        
                        <!-- HIF-1Î± -->
                        <text x="150" y="170" font-family="Aptos, sans-serif" font-size="8" fill="#D32F2F" text-anchor="middle">HIF-1Î± â†‘</text>
                        
                        <!-- VEGF production -->
                        <circle cx="185" cy="115" r="9" fill="#4CAF50"/>
                        <text x="185" y="100" font-family="Aptos, sans-serif" font-size="8" font-weight="600" fill="#2E7D32" text-anchor="middle">VEGF-A</text>
                    </g>
                    
                    <!-- VEGF gradient -->
                    <circle cx="240" cy="125" r="7" fill="#4CAF50" opacity="0.9"/>
                    <circle cx="280" cy="135" r="7" fill="#4CAF50" opacity="0.8"/>
                    <circle cx="320" cy="130" r="7" fill="#4CAF50" opacity="0.7"/>
                    <circle cx="360" cy="140" r="7" fill="#4CAF50" opacity="0.6"/>
                    <circle cx="400" cy="135" r="7" fill="#4CAF50" opacity="0.5"/>
                    
                    <!-- Gradient arrow -->
                    <path d="M 215 130 L 450 140" stroke="#4CAF50" stroke-width="2" stroke-dasharray="4,4" marker-end="url(#arrow-green)"/>
                    <text x="330" y="120" font-family="Aptos, sans-serif" font-size="9" fill="#388E3C" text-anchor="middle">VEGF gradient</text>
                    
                    <!-- Endothelial cell (receiver) -->
                    <g id="endothelial2">
                        <ellipse cx="600" cy="140" rx="130" ry="65" fill="#BBDEFB" stroke="#1565C0" stroke-width="3"/>
                        <text x="600" y="135" font-family="Aptos, sans-serif" font-size="13" font-weight="700" fill="#0D47A1" text-anchor="middle">Endothelial Cell</text>
                        
                        <!-- VEGFR receptors -->
                        <rect x="470" y="130" width="11" height="24" rx="2" fill="#1976D2" stroke="#0D47A1" stroke-width="2"/>
                        <rect x="490" y="127" width="11" height="27" rx="2" fill="#1976D2" stroke="#0D47A1" stroke-width="2"/>
                        <rect x="510" y="132" width="11" height="22" rx="2" fill="#1976D2" stroke="#0D47A1" stroke-width="2"/>
                        <text x="490" y="170" font-family="Aptos, sans-serif" font-size="8" fill="#0D47A1" text-anchor="middle">VEGFR2 (FLT1)</text>
                        
                        <!-- Bound VEGF -->
                        <circle cx="476" cy="122" r="5" fill="#4CAF50"/>
                        <circle cx="496" cy="119" r="5" fill="#4CAF50"/>
                    </g>
                    
                    <!-- Migration and sprouting -->
                    <g id="response2">
                        <path d="M 730 140 L 800 100" stroke="#1976D2" stroke-width="3" marker-end="url(#arrow-blue)"/>
                        <path d="M 730 140 L 800 140" stroke="#1976D2" stroke-width="3" marker-end="url(#arrow-blue)"/>
                        <path d="M 730 140 L 800 180" stroke="#1976D2" stroke-width="3" marker-end="url(#arrow-blue)"/>
                        
                        <text x="765" y="85" font-family="Aptos, sans-serif" font-size="9" fill="#0D47A1" text-anchor="middle">Migration</text>
                        <text x="765" y="135" font-family="Aptos, sans-serif" font-size="9" fill="#0D47A1" text-anchor="middle">Proliferation</text>
                        <text x="765" y="195" font-family="Aptos, sans-serif" font-size="9" fill="#0D47A1" text-anchor="middle">Sprouting</text>
                    </g>
                    
                    <!-- Response box -->
                    <rect x="560" y="185" width="180" height="75" rx="5" fill="white" stroke="#1976D2" stroke-width="1"/>
                    <text x="650" y="203" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#0D47A1" text-anchor="middle">Downstream Effects:</text>
                    <text x="570" y="221" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="start">â€¢ ERK/MAPK activation</text>
                    <text x="570" y="236" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="start">â€¢ PI3K/AKT pathway</text>
                    <text x="570" y="251" font-family="Aptos, sans-serif" font-size="9" fill="#333" text-anchor="start">â€¢ New vessel formation</text>
                    
                    <!-- Detection panel -->
                    <rect x="20" y="210" width="200" height="60" rx="5" fill="#FFF9C4" stroke="#F57C00" stroke-width="2"/>
                    <text x="120" y="228" font-family="Aptos, sans-serif" font-size="10" font-weight="600" fill="#E65100" text-anchor="middle">Expression Threshold:</text>
                    <text x="30" y="245" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">Ligand: log2(CPM+1) > 1</text>
                    <text x="30" y="260" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">Receptor: % expressed > 10%</text>
                    
                    <!-- Arrow markers -->
                    <defs>
                        <marker id="arrow-green" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L7,3 z" fill="#4CAF50"/>
                        </marker>
                        <marker id="arrow-blue" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L7,3 z" fill="#1976D2"/>
                        </marker>
                    </defs>
                </svg>
            </div>
            
            <div class="success-box">
                <strong>Biological Context:</strong> In hypoxic tumor microenvironments, tumor cells upregulate VEGF-A through HIF-1Î±. VEGF-A binds to VEGFR2 (KDR/FLK1) on endothelial cells, promoting angiogenesis. scRNA-seq can detect this interaction and help identify pro-angiogenic cell populations, making it valuable for cancer research and anti-angiogenic therapy development.
            </div>
        </div>
    </div>

    <!-- Slide 4: Analysis Workflow -->
    <div class="slide">
        <div class="title">Computational Analysis Workflow</div>
        
        <div class="section">
            <div class="section-title">Step-by-Step Analysis Pipeline</div>
            
            <div class="visual-content">
                <svg width="100%" height="500" viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
                    <!-- Pipeline flow -->
                    <text x="450" y="30" font-family="Aptos, sans-serif" font-size="18" font-weight="700" fill="#1E64C8" text-anchor="middle">CellPhoneDB Analysis Pipeline</text>
                    
                    <!-- Step 1: Data Preprocessing -->
                    <g id="pipeline-step1">
                        <rect x="50" y="60" width="800" height="80" rx="8" fill="#E3F2FD" stroke="#1976D2" stroke-width="2"/>
                        <text x="70" y="85" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#0D47A1" text-anchor="start">1. Data Preprocessing</text>
                        
                        <rect x="70" y="95" width="180" height="35" rx="5" fill="white" stroke="#2196F3" stroke-width="1"/>
                        <text x="160" y="110" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">Normalized counts</text>
                        <text x="160" y="123" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">(log-transformed)</text>
                        
                        <path d="M 260 112 L 290 112" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow-step)"/>
                        
                        <rect x="300" y="95" width="180" height="35" rx="5" fill="white" stroke="#2196F3" stroke-width="1"/>
                        <text x="390" y="110" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">Cell type annotation</text>
                        <text x="390" y="123" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">(clusters labeled)</text>
                        
                        <path d="M 490 112 L 520 112" stroke="#1976D2" stroke-width="2" marker-end="url(#arrow-step)"/>
                        
                        <rect x="530" y="95" width="180" height="35" rx="5" fill="white" stroke="#2196F3" stroke-width="1"/>
                        <text x="620" y="110" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">Quality control</text>
                        <text x="620" y="123" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="middle">(filter low-quality)</text>
                    </g>
                    
                    <!-- Arrow down -->
                    <path d="M 450 150 L 450 170" stroke="#666" stroke-width="3" marker-end="url(#arrow-down)"/>
                    
                    <!-- Step 2: Expression Detection -->
                    <g id="pipeline-step2">
                        <rect x="50" y="180" width="390" height="100" rx="8" fill="#FFF3E0" stroke="#F57C00" stroke-width="2"/>
                        <text x="70" y="205" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#E65100" text-anchor="start">2. Expression Detection</text>
                        
                        <rect x="70" y="220" width="350" height="50" rx="5" fill="white" stroke="#FF9800" stroke-width="1"/>
                        <text x="245" y="238" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">For each cell type pair (A â†’ B):</text>
                        <text x="80" y="256" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">â€¢ Calculate mean expression of ligand in cell type A</text>
                        <text x="80" y="268" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">â€¢ Calculate mean expression of receptor in cell type B</text>
                    </g>
                    
                    <!-- Step 3: Statistical Testing -->
                    <g id="pipeline-step3">
                        <rect x="460" y="180" width="390" height="100" rx="8" fill="#E8F5E9" stroke="#388E3C" stroke-width="2"/>
                        <text x="480" y="205" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#1B5E20" text-anchor="start">3. Statistical Testing</text>
                        
                        <rect x="480" y="220" width="350" height="50" rx="5" fill="white" stroke="#4CAF50" stroke-width="1"/>
                        <text x="655" y="238" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">Permutation test (n=1000):</text>
                        <text x="490" y="256" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">â€¢ Randomly shuffle cell labels</text>
                        <text x="490" y="268" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">â€¢ Calculate null distribution â†’ p-value</text>
                    </g>
                    
                    <!-- Arrow down -->
                    <path d="M 450 290 L 450 310" stroke="#666" stroke-width="3" marker-end="url(#arrow-down)"/>
                    
                    <!-- Step 4: Filtering -->
                    <g id="pipeline-step4">
                        <rect x="150" y="320" width="600" height="80" rx="8" fill="#F3E5F5" stroke="#7B1FA2" stroke-width="2"/>
                        <text x="170" y="345" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#6A1B9A" text-anchor="start">4. Significance Filtering</text>
                        
                        <rect x="170" y="360" width="260" height="30" rx="5" fill="white" stroke="#9C27B0" stroke-width="1"/>
                        <text x="300" y="380" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">p-value < 0.05</text>
                        
                        <text x="450" y="380" font-family="Aptos, sans-serif" font-size="12" fill="#666" text-anchor="middle">AND</text>
                        
                        <rect x="480" y="360" width="250" height="30" rx="5" fill="white" stroke="#9C27B0" stroke-width="1"/>
                        <text x="605" y="380" font-family="Aptos, sans-serif" font-size="10" fill="#333" text-anchor="middle">Mean expression > threshold</text>
                    </g>
                    
                    <!-- Arrow down -->
                    <path d="M 450 410 L 450 430" stroke="#666" stroke-width="3" marker-end="url(#arrow-down)"/>
                    
                    <!-- Step 5: Visualization -->
                    <g id="pipeline-step5">
                        <rect x="50" y="440" width="800" height="50" rx="8" fill="#E0F2F1" stroke="#00897B" stroke-width="2"/>
                        <text x="70" y="465" font-family="Aptos, sans-serif" font-size="14" font-weight="700" fill="#00695C" text-anchor="start">5. Visualization & Interpretation</text>
                        
                        <rect x="350" y="455" width="120" height="25" rx="3" fill="#B2DFDB"/>
                        <text x="410" y="472" font-family="Aptos, sans-serif" font-size="9" fill="#00695C" text-anchor="middle">Heatmaps</text>
                        
                        <rect x="480" y="455" width="120" height="25" rx="3" fill="#B2DFDB"/>
                        <text x="540" y="472" font-family="Aptos, sans-serif" font-size="9" fill="#00695C" text-anchor="middle">Dot plots</text>
                        
                        <rect x="610" y="455" width="120" height="25" rx="3" fill="#B2DFDB"/>
                        <text x="670" y="472" font-family="Aptos, sans-serif" font-size="9" fill="#00695C" text-anchor="middle">Network graphs</text>
                    </g>
                    
                    <!-- Arrow markers -->
                    <defs>
                        <marker id="arrow-step" markerWidth="8" markerHeight="8" refX="6" refY="3" orient="auto">
                            <path d="M0,0 L0,6 L7,3 z" fill="#1976D2"/>
                        </marker>
                        <marker id="arrow-down" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
                            <path d="M0,0 L10,5 L0,10 z" fill="#666"/>
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>
        
        <div class="grid-2" style="margin-top: 20px;">
            <div class="card">
                <div class="card-title">Key Parameters</div>
                <ul style="margin-left: 15px; font-size: 14px;">
                    <li><strong>Expression threshold:</strong> Minimum expression level (e.g., log2(CPM+1) > 0.1)</li>
                    <li><strong>Percentage threshold:</strong> Min % of cells expressing (e.g., >10%)</li>
                    <li><strong>p-value cutoff:</strong> Significance level (typically 0.05)</li>
                    <li><strong>Permutations:</strong> Number of randomizations (usually 1000)</li>
                </ul>
            </div>
            
            <div class="card">
                <div class="card-title">Output Interpretation</div>
                <ul style="margin-left: 15px; font-size: 14px;">
                    <li><strong>Mean values:</strong> Average expression of ligand and receptor</li>
                    <li><strong>p-value:</strong> Statistical significance of interaction</li>
                    <li><strong>Interaction score:</strong> Combined metric of expression and significance</li>
                    <li><strong>Specificity:</strong> How unique the interaction is to cell type pair</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Slide 5: Interpretation Guide -->
    <div class="slide">
        <div class="title">Interpreting Analysis Results</div>
        
        <div class="section">
            <div class="section-title">Understanding Heatmap Outputs</div>
            
            <div class="visual-content">
                <svg width="100%" height="350" viewBox="0 0 900 350" xmlns="http://www.w3.org/2000/svg">
                    <!-- Sample heatmap -->
                    <text x="450" y="25" font-family="Aptos, sans-serif" font-size="16" font-weight="700" fill="#1E64C8" text-anchor="middle">Example: Interaction Heatmap</text>
                    
                    <!-- Heatmap grid -->
                    <g id="heatmap" transform="translate(80, 50)">
                        <!-- Column labels -->
                        <text x="70" y="15" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="middle">T cells</text>
                        <text x="130" y="15" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="middle">B cells</text>
                        <text x="190" y="15" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="middle">Macro</text>
                        <text x="250" y="15" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="middle">DC</text>
                        <text x="310" y="15" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="middle">Fibro</text>
                        <text x="370" y="15" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="middle">Endo</text>
                        
                        <!-- Row labels -->
                        <text x="5" y="45" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="start">T cells</text>
                        <text x="5" y="95" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="start">B cells</text>
                        <text x="5" y="145" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="start">Macro</text>
                        <text x="5" y="195" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="start">DC</text>
                        <text x="5" y="245" font-family="Aptos, sans-serif" font-size="12" font-weight="600" fill="#333" text-anchor="start">Fibro</text>
                        
                        <!-- Heatmap cells with values -->
                        <!-- Row 1 -->
                        <rect x="50" y="25" width="40" height="40" fill="#FFEBEE"/>
                        <text x="70" y="50" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">3</text>
                        
                        <rect x="110" y="25" width="40" height="40" fill="#EF5350"/>
                        <text x="130" y="50" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">15</text>
                        
                        <rect x="170" y="25" width="40" height="40" fill="#FFCDD2"/>
                        <text x="190" y="50" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">8</text>
                        
                        <rect x="230" y="25" width="40" height="40" fill="#F44336"/>
                        <text x="250" y="50" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">23</text>
                        
                        <rect x="290" y="25" width="40" height="40" fill="#FFEBEE"/>
                        <text x="310" y="50" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">2</text>
                        
                        <rect x="350" y="25" width="40" height="40" fill="#FFCDD2"/>
                        <text x="370" y="50" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">5</text>
                        
                        <!-- Row 2 -->
                        <rect x="50" y="75" width="40" height="40" fill="#E3F2FD"/>
                        <text x="70" y="100" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">4</text>
                        
                        <rect x="110" y="75" width="40" height="40" fill="#E3F2FD"/>
                        <text x="130" y="100" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">1</text>
                        
                        <rect x="170" y="75" width="40" height="40" fill="#2196F3"/>
                        <text x="190" y="100" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">28</text>
                        
                        <rect x="230" y="75" width="40" height="40" fill="#BBDEFB"/>
                        <text x="250" y="100" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">12</text>
                        
                        <rect x="290" y="75" width="40" height="40" fill="#E3F2FD"/>
                        <text x="310" y="100" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">3</text>
                        
                        <rect x="350" y="75" width="40" height="40" fill="#64B5F6"/>
                        <text x="370" y="100" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">19</text>
                        
                        <!-- Row 3 -->
                        <rect x="50" y="125" width="40" height="40" fill="#C8E6C9"/>
                        <text x="70" y="150" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">7</text>
                        
                        <rect x="110" y="125" width="40" height="40" fill="#4CAF50"/>
                        <text x="130" y="150" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">31</text>
                        
                        <rect x="170" y="125" width="40" height="40" fill="#E8F5E9"/>
                        <text x="190" y="150" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">2</text>
                        
                        <rect x="230" y="125" width="40" height="40" fill="#81C784"/>
                        <text x="250" y="150" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">18</text>
                        
                        <rect x="290" y="125" width="40" height="40" fill="#E8F5E9"/>
                        <text x="310" y="150" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">1</text>
                        
                        <rect x="350" y="125" width="40" height="40" fill="#A5D6A7"/>
                        <text x="370" y="150" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">14</text>
                        
                        <!-- Row 4 -->
                        <rect x="50" y="175" width="40" height="40" fill="#FFF9C4"/>
                        <text x="70" y="200" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">6</text>
                        
                        <rect x="110" y="175" width="40" height="40" fill="#FFEE58"/>
                        <text x="130" y="200" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">11</text>
                        
                        <rect x="170" y="175" width="40" height="40" fill="#FFF9C4"/>
                        <text x="190" y="200" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">5</text>
                        
                        <rect x="230" y="175" width="40" height="40" fill="#FFF59D"/>
                        <text x="250" y="200" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">9</text>
                        
                        <rect x="290" y="175" width="40" height="40" fill="#FFEB3B"/>
                        <text x="310" y="200" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">16</text>
                        
                        <rect x="350" y="175" width="40" height="40" fill="#FFF9C4"/>
                        <text x="370" y="200" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">4</text>
                        
                        <!-- Row 5 -->
                        <rect x="50" y="225" width="40" height="40" fill="#E1BEE7"/>
                        <text x="70" y="250" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">3</text>
                        
                        <rect x="110" y="225" width="40" height="40" fill="#CE93D8"/>
                        <text x="130" y="250" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">10</text>
                        
                        <rect x="170" y="225" width="40" height="40" fill="#9C27B0"/>
                        <text x="190" y="250" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">25</text>
                        
                        <rect x="230" y="225" width="40" height="40" fill="#BA68C8"/>
                        <text x="250" y="250" font-family="Aptos, sans-serif" font-size="10" fill="white" text-anchor="middle">13</text>
                        
                        <rect x="290" y="225" width="40" height="40" fill="#E1BEE7"/>
                        <text x="310" y="250" font-family="Aptos, sans-serif" font-size="10" fill="#666" text-anchor="middle">6</text>
                        
                        <rect x="350" y="225" width="40" height="40" fill="#AB47BC"/>
                        <text x="370" y="250" font-family="Aptos, sans-serif" font-size="10" fill="white" font-weight="600" text-anchor="middle">22</text>
                        
                        <!-- Color scale legend -->
                        <text x="430" y="90" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#333" text-anchor="start">Number of</text>
                        <text x="430" y="105" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#333" text-anchor="start">interactions</text>
                        
                        <!-- Gradient bar -->
                        <defs>
                            <linearGradient id="colorScale" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:#D32F2F;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#FFC107;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#FFFFFF;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <rect x="430" y="120" width="30" height="120" fill="url(#colorScale)" stroke="#666" stroke-width="1"/>
                        <text x="470" y="128" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">30</text>
                        <text x="470" y="183" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">15</text>
                        <text x="470" y="238" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">0</text>
                    </g>
                    
                    <!-- Annotations -->
                    <!-- Strong interaction -->
                    <circle cx="230" cy="85" r="35" fill="none" stroke="#FF6F00" stroke-width="3" stroke-dasharray="5,5"/>
                    <path d="M 270 85 L 320 60" stroke="#FF6F00" stroke-width="2"/>
                    <text x="330" y="55" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#FF6F00" text-anchor="start">Strong interaction</text>
                    <text x="330" y="70" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">T cells â†’ DC: 23 ligand-receptor pairs</text>
                    
                    <!-- Moderate interaction -->
                    <circle cx="290" cy="185" r="35" fill="none" stroke="#2E7D32" stroke-width="3" stroke-dasharray="5,5"/>
                    <path d="M 330 185 L 380 200" stroke="#2E7D32" stroke-width="2"/>
                    <text x="390" y="200" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#2E7D32" text-anchor="start">Moderate</text>
                    <text x="390" y="215" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">Macro â†’ B cells: 31 pairs</text>
                    
                    <!-- Weak/no interaction -->
                    <circle cx="140" cy="285" r="35" fill="none" stroke="#1976D2" stroke-width="3" stroke-dasharray="5,5"/>
                    <path d="M 180 285 L 230 310" stroke="#1976D2" stroke-width="2"/>
                    <text x="240" y="310" font-family="Aptos, sans-serif" font-size="11" font-weight="600" fill="#1976D2" text-anchor="start">Weak/No interaction</text>
                    <text x="240" y="325" font-family="Aptos, sans-serif" font-size="9" fill="#666" text-anchor="start">Fibroblast â†’ B cells: 10 pairs</text>
                </svg>
            </div>
        </div>
        
        <div class="highlight-box" style="margin-top: 20px;">
            <strong>Key Interpretation Points:</strong>
            <ul style="margin-top: 10px;">
                <li><strong>Diagonal patterns:</strong> Autocrine signaling (cells talking to themselves)</li>
                <li><strong>Off-diagonal hotspots:</strong> Strong paracrine interactions between different cell types</li>
                <li><strong>Asymmetry:</strong> Direction matters â€“ Aâ†’B may differ from Bâ†’A (different ligands/receptors)</li>
                <li><strong>Biological validation:</strong> Always validate computationally predicted interactions with literature or experiments</li>
                <li><strong>Spatial context:</strong> Physical proximity increases confidence in predicted interactions</li>
            </ul>
        </div>
        
        <div class="info-box" style="margin-top: 15px;">
            <strong>Common Pitfalls to Avoid:</strong>
            <ul style="margin-top: 8px;">
                <li>Don't assume all significant interactions are biologically relevant</li>
                <li>Consider expression thresholds carefully â€“ too low leads to false positives</li>
                <li>Check for batch effects that might create artificial cell-cell communication signals</li>
                <li>Remember that correlation doesn't imply causation â€“ experimental validation is essential</li>
            </ul>
        </div>
    </div>

</body>
</html>