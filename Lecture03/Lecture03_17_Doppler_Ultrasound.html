<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doppler Ultrasound - Comprehensive Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .page {
            width: 960px;
            min-height: 540px;
            margin: 0 auto 40px;
            padding: 40px 60px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            page-break-after: always;
        }
        
        .title {
            font-size: 36px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 30px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #1E64C8;
        }
        
        .main-content {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .content-grid {
            display: flex;
            flex-direction: column;
            gap: 13px;
            flex: 1;
        }
        
        .content-card {
            background: #f8fbff;
            border-left: 5px solid #1E64C8;
            border-radius: 8px;
            padding: 13px 20px;
            transition: all 0.3s;
        }
        
        .content-card:hover {
            background: #e8f2ff;
            transform: translateX(5px);
        }
        
        .card-label {
            font-size: 17px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 4px;
        }
        
        .card-desc {
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }
        
        .diagram-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Detail Page Styles */
        .detail-title {
            font-size: 32px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 25px;
            padding-bottom: 12px;
            border-bottom: 3px solid #1E64C8;
        }

        .detail-content {
            display: flex;
            gap: 30px;
            margin-bottom: 25px;
        }

        .detail-text {
            flex: 1;
        }

        .detail-diagram {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .section-subtitle {
            font-size: 20px;
            font-weight: 700;
            color: #1E64C8;
            margin: 20px 0 12px 0;
        }

        .info-box {
            background: #f0f8ff;
            border-left: 4px solid #1E64C8;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .info-box-title {
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .info-list {
            margin-left: 20px;
            line-height: 1.8;
        }

        .info-list li {
            margin-bottom: 8px;
            color: #333;
        }

        .highlight-box {
            background: #fff8e1;
            border: 2px solid #FFA500;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .highlight-title {
            font-weight: 700;
            color: #FFA500;
            margin-bottom: 8px;
        }

        .formula-box {
            background: #e8f5e9;
            border: 2px solid #4CAF50;
            padding: 20px;
            text-align: center;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 18px;
            font-family: 'Courier New', monospace;
        }

        .key-points {
            background: #f3e5f5;
            border-left: 4px solid #9C27B0;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .comparison-table th {
            background: #1E64C8;
            color: white;
            font-weight: 700;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8fbff;
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .page {
                box-shadow: none;
                margin: 0;
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <!-- Main Overview Page -->
    <div class="page">
        <div class="title">Doppler Ultrasound</div>
        
        <div class="main-content">
            <div class="content-grid">
                <div class="content-card">
                    <div class="card-label">Doppler shift principle</div>
                    <div class="card-desc">Frequency change with moving blood</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Color flow mapping</div>
                    <div class="card-desc">Direction and velocity visualization</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Power Doppler</div>
                    <div class="card-desc">More sensitive to low flow</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Spectral analysis</div>
                    <div class="card-desc">Velocity vs time waveforms</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Clinical applications</div>
                    <div class="card-desc">Vascular, cardiac, obstetric imaging</div>
                </div>
            </div>
            
            <div class="diagram-container">
                <svg width="420" height="400" viewBox="0 0 420 400">
                    <!-- Transducer -->
                    <rect x="185" y="20" width="50" height="20" fill="#4A90E2" stroke="#1E64C8" stroke-width="2" rx="3"/>
                    <text x="210" y="35" text-anchor="middle" font-size="10" fill="white" font-weight="700">Transducer</text>
                    
                    <!-- Transmitted ultrasound waves -->
                    <defs>
                        <pattern id="wavePattern" x="0" y="0" width="20" height="10" patternUnits="userSpaceOnUse">
                            <path d="M 0 5 Q 5 0, 10 5 T 20 5" stroke="#4A90E2" stroke-width="1.5" fill="none" opacity="0.6"/>
                        </pattern>
                        <marker id="flowArrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                            <polygon points="0 0, 8 3, 0 6" fill="#CC0000"/>
                        </marker>
                        <marker id="blueArrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                            <polygon points="0 0, 8 3, 0 6" fill="#1E64C8"/>
                        </marker>
                    </defs>
                    
                    <!-- Incident beam -->
                    <path d="M 210 40 L 190 100 L 190 180 L 210 240" fill="#4A90E2" opacity="0.15" stroke="#4A90E2" stroke-width="1"/>
                    <path d="M 210 40 L 230 100 L 230 180 L 210 240" fill="#4A90E2" opacity="0.15" stroke="#4A90E2" stroke-width="1"/>
                    
                    <!-- Blood vessel -->
                    <ellipse cx="210" cy="140" rx="80" ry="25" fill="#FFE5CC" stroke="#CC8866" stroke-width="2"/>
                    <text x="210" y="120" text-anchor="middle" font-size="10" fill="#CC8866" font-weight="600">Blood Vessel</text>
                    
                    <!-- Blood flow -->
                    <line x1="140" y1="140" x2="280" y2="140" stroke="#CC0000" stroke-width="3" marker-end="url(#flowArrow)" opacity="0.7"/>
                    
                    <!-- Red blood cells -->
                    <ellipse cx="160" cy="140" rx="8" ry="5" fill="#CC0000" opacity="0.8"/>
                    <ellipse cx="185" cy="142" rx="8" ry="5" fill="#CC0000" opacity="0.8"/>
                    <ellipse cx="210" cy="138" rx="8" ry="5" fill="#CC0000" opacity="0.8"/>
                    <ellipse cx="235" cy="141" rx="8" ry="5" fill="#CC0000" opacity="0.8"/>
                    <ellipse cx="260" cy="139" rx="8" ry="5" fill="#CC0000" opacity="0.8"/>
                    
                    <text x="290" y="143" font-size="9" fill="#CC0000" font-weight="600">Flow</text>
                    
                    <!-- Transmitted waves (going down) -->
                    <g id="transmitted">
                        <path d="M 200 50 Q 205 55, 210 50" stroke="#4A90E2" stroke-width="2" fill="none"/>
                        <path d="M 200 60 Q 205 65, 210 60" stroke="#4A90E2" stroke-width="2" fill="none" opacity="0.8"/>
                        <path d="M 200 70 Q 205 75, 210 70" stroke="#4A90E2" stroke-width="2" fill="none" opacity="0.6"/>
                        <path d="M 200 80 Q 205 85, 210 80" stroke="#4A90E2" stroke-width="2" fill="none" opacity="0.4"/>
                        <text x="225" y="65" font-size="9" fill="#4A90E2" font-weight="600">f₀</text>
                    </g>
                    
                    <!-- Reflected waves (compressed - higher frequency) -->
                    <g id="reflected">
                        <path d="M 200 200 Q 202 195, 204 200" stroke="#00FF00" stroke-width="2" fill="none"/>
                        <path d="M 206 200 Q 208 195, 210 200" stroke="#00FF00" stroke-width="2" fill="none"/>
                        <path d="M 200 210 Q 202 205, 204 210" stroke="#00FF00" stroke-width="2" fill="none" opacity="0.8"/>
                        <path d="M 206 210 Q 208 205, 210 210" stroke="#00FF00" stroke-width="2" fill="none" opacity="0.8"/>
                        <text x="225" y="205" font-size="9" fill="#00FF00" font-weight="600">f₀ + Δf</text>
                    </g>
                    
                    <!-- Doppler equation -->
                    <rect x="15" y="260" width="180" height="75" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="5"/>
                    <text x="105" y="280" text-anchor="middle" font-size="11" fill="#1E64C8" font-weight="700">Doppler Equation</text>
                    <text x="105" y="300" text-anchor="middle" font-size="10" fill="#333">Δf = 2 · f₀ · v · cos θ / c</text>
                    <text x="105" y="318" text-anchor="middle" font-size="8" fill="#666">Δf = frequency shift</text>
                    <text x="105" y="330" text-anchor="middle" font-size="8" fill="#666">v = blood velocity, θ = angle</text>
                    
                    <!-- Color Doppler display -->
                    <rect x="225" y="260" width="180" height="75" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                    <text x="315" y="280" text-anchor="middle" font-size="11" fill="#FFA500" font-weight="700">Color Doppler Mapping</text>
                    
                    <!-- Color bar -->
                    <rect x="245" y="290" width="140" height="15" fill="url(#colorGradient)"/>
                    <defs>
                        <linearGradient id="colorGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#0000FF;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#000000;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#FF0000;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <text x="245" y="320" font-size="9" fill="#0000FF" font-weight="600">Away</text>
                    <text x="315" y="320" text-anchor="middle" font-size="9" fill="#333">No flow</text>
                    <text x="385" y="320" text-anchor="end" font-size="9" fill="#FF0000" font-weight="600">Toward</text>
                    
                    <!-- Spectral Doppler waveform -->
                    <g id="spectral">
                        <rect x="15" y="350" width="390" height="40" fill="#1a1a1a" stroke="#666" stroke-width="2"/>
                        
                        <!-- Waveform -->
                        <path d="M 30 370 Q 50 360, 70 370 Q 90 360, 110 370 Q 130 360, 150 370 Q 170 360, 190 370 Q 210 360, 230 370 Q 250 360, 270 370 Q 290 360, 310 370 Q 330 360, 350 370 Q 370 360, 390 370" 
                              stroke="#00FF00" stroke-width="2" fill="none"/>
                        
                        <text x="210" y="345" text-anchor="middle" font-size="10" fill="#333" font-weight="600">Spectral Doppler (Velocity vs Time)</text>
                        
                        <!-- Axis labels -->
                        <text x="20" y="365" font-size="8" fill="#00FF00">+</text>
                        <text x="20" y="380" font-size="8" fill="#00FF00">-</text>
                        <text x="395" y="385" font-size="8" fill="#666">Time</text>
                    </g>
                    
                    <!-- Application icons -->
                    <g id="applications" transform="translate(300, 50)">
                        <rect x="0" y="0" width="110" height="140" fill="#f0fff0" stroke="#28a745" stroke-width="2" rx="5"/>
                        <text x="55" y="18" text-anchor="middle" font-size="10" fill="#28a745" font-weight="700">Applications</text>
                        
                        <!-- Cardiac -->
                        <g transform="translate(10, 28)">
                            <path d="M 10 5 C 10 2, 7 0, 5 0 S 0 2, 0 5 C 0 8, 5 12, 5 12 S 10 8, 10 5" fill="#FF6B6B" stroke="#CC0000" stroke-width="1"/>
                            <text x="15" y="10" font-size="9" fill="#333">Cardiac valves</text>
                        </g>
                        
                        <!-- Vascular -->
                        <g transform="translate(10, 50)">
                            <circle cx="5" cy="5" r="5" fill="none" stroke="#4A90E2" stroke-width="2"/>
                            <line x1="5" y1="0" x2="5" y2="10" stroke="#4A90E2" stroke-width="2"/>
                            <text x="15" y="9" font-size="9" fill="#333">Carotid stenosis</text>
                        </g>
                        
                        <!-- Obstetric -->
                        <g transform="translate(10, 72)">
                            <ellipse cx="5" cy="5" rx="5" ry="6" fill="#FFE5CC" stroke="#CC8866" stroke-width="1.5"/>
                            <text x="15" y="9" font-size="9" fill="#333">Fetal heart rate</text>
                        </g>
                        
                        <!-- Portal vein -->
                        <g transform="translate(10, 94)">
                            <rect x="0" y="2" width="10" height="6" fill="#9966CC" stroke="#663399" stroke-width="1" rx="1"/>
                            <text x="15" y="9" font-size="9" fill="#333">Portal vein flow</text>
                        </g>
                        
                        <!-- DVT -->
                        <g transform="translate(10, 116)">
                            <rect x="0" y="0" width="10" height="10" fill="#CC6666" stroke="#993333" stroke-width="1"/>
                            <text x="15" y="9" font-size="9" fill="#333">DVT detection</text>
                        </g>
                    </g>
                    
                    <!-- Angle dependency indicator -->
                    <g transform="translate(100, 160)">
                        <line x1="0" y1="0" x2="30" y2="-20" stroke="#1E64C8" stroke-width="2" stroke-dasharray="3,3"/>
                        <text x="15" y="-25" font-size="9" fill="#FFA500" font-weight="600">θ</text>
                        <text x="-20" y="20" font-size="8" fill="#666">Angle matters!</text>
                        <text x="-20" y="30" font-size="8" fill="#666">Best: 30-60°</text>
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <!-- Detail Page 1: Doppler Shift Principle -->
    <div class="page">
        <div class="detail-title">1. Doppler Shift Principle</div>
        
        <div class="detail-content">
            <div class="detail-text">
                <p style="font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                    The Doppler effect is the change in frequency of a wave when there is relative motion between the source and the observer. In medical ultrasound, this principle is used to detect and measure blood flow by analyzing the frequency shift of ultrasound waves reflected from moving red blood cells.
                </p>

                <div class="formula-box">
                    <strong>Doppler Equation:</strong><br><br>
                    Δf = (2 · f₀ · v · cos θ) / c
                </div>

                <div class="info-box">
                    <div class="info-box-title">Variables Explained:</div>
                    <ul class="info-list">
                        <li><strong>Δf</strong> = Frequency shift (Doppler shift)</li>
                        <li><strong>f₀</strong> = Transmitted frequency (2-10 MHz)</li>
                        <li><strong>v</strong> = Velocity of blood flow</li>
                        <li><strong>θ</strong> = Angle between ultrasound beam and flow direction</li>
                        <li><strong>c</strong> = Speed of sound in tissue (~1540 m/s)</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <div class="highlight-title">Key Concept: The Factor of 2</div>
                    The factor "2" in the equation accounts for the double Doppler shift: once when the ultrasound hits the moving red blood cells, and again when the reflected waves return to the transducer.
                </div>
            </div>

            <div class="detail-diagram">
                <svg width="380" height="450" viewBox="0 0 380 450">
                    <defs>
                        <marker id="arrowRed" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#CC0000"/>
                        </marker>
                        <marker id="arrowBlue2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#1E64C8"/>
                        </marker>
                        <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#00AA00"/>
                        </marker>
                    </defs>

                    <!-- Title -->
                    <text x="190" y="25" text-anchor="middle" font-size="16" fill="#1E64C8" font-weight="700">Doppler Shift Mechanism</text>

                    <!-- Scenario 1: Flow toward transducer -->
                    <g transform="translate(0, 50)">
                        <rect x="10" y="0" width="360" height="120" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="5"/>
                        <text x="190" y="20" text-anchor="middle" font-size="13" fill="#1E64C8" font-weight="700">Flow TOWARD Transducer</text>
                        
                        <!-- Transducer -->
                        <rect x="150" y="35" width="80" height="15" fill="#4A90E2" rx="3"/>
                        <text x="190" y="46" text-anchor="middle" font-size="9" fill="white" font-weight="600">Transducer</text>
                        
                        <!-- Blood vessel -->
                        <ellipse cx="190" cy="85" rx="120" ry="20" fill="#FFE5CC" stroke="#CC8866" stroke-width="2"/>
                        
                        <!-- Flow direction -->
                        <line x1="80" y1="85" x2="150" y2="60" stroke="#CC0000" stroke-width="3" marker-end="url(#arrowRed)"/>
                        <text x="100" y="65" font-size="10" fill="#CC0000" font-weight="600">Blood flow</text>
                        
                        <!-- Frequency indication -->
                        <text x="190" y="105" text-anchor="middle" font-size="11" fill="#00AA00" font-weight="700">f₀ + Δf (HIGHER frequency)</text>
                    </g>

                    <!-- Scenario 2: Flow away from transducer -->
                    <g transform="translate(0, 190)">
                        <rect x="10" y="0" width="360" height="120" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                        <text x="190" y="20" text-anchor="middle" font-size="13" fill="#FFA500" font-weight="700">Flow AWAY FROM Transducer</text>
                        
                        <!-- Transducer -->
                        <rect x="150" y="35" width="80" height="15" fill="#4A90E2" rx="3"/>
                        <text x="190" y="46" text-anchor="middle" font-size="9" fill="white" font-weight="600">Transducer</text>
                        
                        <!-- Blood vessel -->
                        <ellipse cx="190" cy="85" rx="120" ry="20" fill="#FFE5CC" stroke="#CC8866" stroke-width="2"/>
                        
                        <!-- Flow direction -->
                        <line x1="230" y1="60" x2="300" y2="85" stroke="#CC0000" stroke-width="3" marker-end="url(#arrowRed)"/>
                        <text x="260" y="65" font-size="10" fill="#CC0000" font-weight="600">Blood flow</text>
                        
                        <!-- Frequency indication -->
                        <text x="190" y="105" text-anchor="middle" font-size="11" fill="#0000FF" font-weight="700">f₀ - Δf (LOWER frequency)</text>
                    </g>

                    <!-- Angle dependency illustration -->
                    <g transform="translate(0, 330)">
                        <rect x="10" y="0" width="360" height="110" fill="#f0fff0" stroke="#28a745" stroke-width="2" rx="5"/>
                        <text x="190" y="20" text-anchor="middle" font-size="13" fill="#28a745" font-weight="700">Angle Dependency (θ)</text>
                        
                        <!-- Three angle scenarios -->
                        <g transform="translate(30, 35)">
                            <text x="50" y="0" text-anchor="middle" font-size="11" fill="#333" font-weight="600">θ = 0°</text>
                            <line x1="30" y1="15" x2="70" y2="15" stroke="#1E64C8" stroke-width="3" marker-end="url(#arrowBlue2)"/>
                            <line x1="30" y1="25" x2="70" y2="25" stroke="#CC0000" stroke-width="2" marker-end="url(#arrowRed)"/>
                            <text x="50" y="45" text-anchor="middle" font-size="9" fill="#00AA00" font-weight="600">Max signal</text>
                            <text x="50" y="58" text-anchor="middle" font-size="8" fill="#666">cos 0° = 1</text>
                        </g>

                        <g transform="translate(140, 35)">
                            <text x="50" y="0" text-anchor="middle" font-size="11" fill="#333" font-weight="600">θ = 45°</text>
                            <line x1="30" y1="15" x2="70" y2="15" stroke="#1E64C8" stroke-width="3" marker-end="url(#arrowBlue2)"/>
                            <line x1="30" y1="25" x2="60" y2="40" stroke="#CC0000" stroke-width="2" marker-end="url(#arrowRed)"/>
                            <path d="M 32 15 A 10 10 0 0 0 37 22" stroke="#FFA500" stroke-width="1.5" fill="none"/>
                            <text x="50" y="58" text-anchor="middle" font-size="8" fill="#666">cos 45° = 0.71</text>
                        </g>

                        <g transform="translate(250, 35)">
                            <text x="50" y="0" text-anchor="middle" font-size="11" fill="#333" font-weight="600">θ = 90°</text>
                            <line x1="30" y1="15" x2="70" y2="15" stroke="#1E64C8" stroke-width="3" marker-end="url(#arrowBlue2)"/>
                            <line x1="50" y1="25" x2="50" y2="50" stroke="#CC0000" stroke-width="2" marker-end="url(#arrowRed)"/>
                            <text x="50" y="45" text-anchor="middle" font-size="9" fill="#CC0000" font-weight="600">No signal</text>
                            <text x="50" y="58" text-anchor="middle" font-size="8" fill="#666">cos 90° = 0</text>
                        </g>
                    </g>
                </svg>
            </div>
        </div>

        <div class="key-points">
            <strong style="color: #9C27B0; font-size: 16px;">Clinical Significance:</strong>
            <ul class="info-list">
                <li>Optimal Doppler angle: 30-60° (best compromise between signal strength and accuracy)</li>
                <li>At 0°: Maximum frequency shift but difficult to achieve in practice</li>
                <li>At 90°: No Doppler shift detected (perpendicular flow)</li>
                <li>Angle correction must be applied for accurate velocity measurements</li>
            </ul>
        </div>
    </div>

    <!-- Detail Page 2: Color Flow Mapping -->
    <div class="page">
        <div class="detail-title">2. Color Flow Mapping (CFM)</div>
        
        <div class="detail-content">
            <div class="detail-text">
                <p style="font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                    Color Flow Mapping is a technique that displays blood flow information as colored pixels superimposed on a grayscale B-mode image. It provides real-time visualization of blood flow direction and velocity within vessels and cardiac chambers.
                </p>

                <div class="info-box">
                    <div class="info-box-title">Color Coding Convention:</div>
                    <ul class="info-list">
                        <li><strong style="color: #FF0000;">Red:</strong> Flow toward the transducer</li>
                        <li><strong style="color: #0000FF;">Blue:</strong> Flow away from the transducer</li>
                        <li><strong>Brightness:</strong> Indicates flow velocity (brighter = faster)</li>
                        <li><strong style="color: #FFFF00;">Yellow/Green:</strong> Turbulent or high-velocity flow (aliasing)</li>
                    </ul>
                </div>

                <div class="section-subtitle">Technical Parameters</div>
                <ul class="info-list">
                    <li><strong>Color Gain:</strong> Controls sensitivity to flow detection</li>
                    <li><strong>PRF (Pulse Repetition Frequency):</strong> Determines velocity range</li>
                    <li><strong>Color Box Size:</strong> Region of interest for flow detection</li>
                    <li><strong>Wall Filter:</strong> Eliminates low-velocity vessel wall motion</li>
                    <li><strong>Baseline:</strong> Can be shifted to display higher velocities in one direction</li>
                </ul>

                <div class="highlight-box">
                    <div class="highlight-title">Aliasing Artifact</div>
                    Occurs when blood velocity exceeds the Nyquist limit (PRF/2). The color wraps around, showing incorrect direction. Appears as mixture of red and blue colors (mosaic pattern).
                </div>
            </div>

            <div class="detail-diagram">
                <svg width="380" height="450" viewBox="0 0 380 450">
                    <defs>
                        <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#FF0000;stop-opacity:0.3" />
                            <stop offset="100%" style="stop-color:#FF0000;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="blueGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#0000FF;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#0000FF;stop-opacity:0.3" />
                        </linearGradient>
                    </defs>

                    <!-- Title -->
                    <text x="190" y="25" text-anchor="middle" font-size="16" fill="#1E64C8" font-weight="700">Color Flow Display</text>

                    <!-- Color scale -->
                    <g transform="translate(40, 40)">
                        <rect x="0" y="0" width="300" height="50" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="5"/>
                        <text x="150" y="20" text-anchor="middle" font-size="12" fill="#1E64C8" font-weight="700">Color Velocity Scale</text>
                        
                        <rect x="20" y="28" width="260" height="15" fill="url(#velocityGradient)"/>
                        <defs>
                            <linearGradient id="velocityGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#00008B;stop-opacity:1" />
                                <stop offset="25%" style="stop-color:#0000FF;stop-opacity:1" />
                                <stop offset="50%" style="stop-color:#000000;stop-opacity:1" />
                                <stop offset="75%" style="stop-color:#FF0000;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#8B0000;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        
                        <text x="20" y="58" font-size="9" fill="#0000FF" font-weight="600">Fast away</text>
                        <text x="150" y="58" text-anchor="middle" font-size="9" fill="#666">No flow</text>
                        <text x="280" y="58" text-anchor="end" font-size="9" fill="#FF0000" font-weight="600">Fast toward</text>
                    </g>

                    <!-- Example 1: Normal arterial flow -->
                    <g transform="translate(40, 110)">
                        <rect x="0" y="0" width="300" height="80" fill="#2a2a2a" stroke="#666" stroke-width="2" rx="5"/>
                        <text x="150" y="15" text-anchor="middle" font-size="11" fill="#00FF00" font-weight="700">Normal Arterial Flow</text>
                        
                        <!-- B-mode background -->
                        <rect x="10" y="25" width="280" height="45" fill="#1a1a1a"/>
                        
                        <!-- Vessel outline -->
                        <ellipse cx="150" cy="47" rx="100" ry="18" fill="none" stroke="#666" stroke-width="1"/>
                        
                        <!-- Color flow (red - toward transducer) -->
                        <ellipse cx="150" cy="47" rx="95" ry="15" fill="url(#redGradient)" opacity="0.9"/>
                        
                        <text x="150" y="95" text-anchor="middle" font-size="9" fill="#00FF00">Uniform red = laminar flow toward probe</text>
                    </g>

                    <!-- Example 2: Stenotic flow -->
                    <g transform="translate(40, 210)">
                        <rect x="0" y="0" width="300" height="100" fill="#2a2a2a" stroke="#666" stroke-width="2" rx="5"/>
                        <text x="150" y="15" text-anchor="middle" font-size="11" fill="#FFFF00" font-weight="700">Stenotic Flow (Turbulence)</text>
                        
                        <!-- B-mode background -->
                        <rect x="10" y="25" width="280" height="55" fill="#1a1a1a"/>
                        
                        <!-- Vessel with stenosis -->
                        <path d="M 30 47 Q 110 47, 120 47 Q 135 47, 140 52 Q 145 57, 150 52 Q 155 47, 160 47 Q 170 47, 250 47" 
                              fill="none" stroke="#666" stroke-width="1"/>
                        <path d="M 30 67 Q 110 67, 120 67 Q 135 67, 140 62 Q 145 57, 150 62 Q 155 67, 160 67 Q 170 67, 250 67" 
                              fill="none" stroke="#666" stroke-width="1"/>
                        
                        <!-- Pre-stenotic flow (red) -->
                        <ellipse cx="80" cy="57" rx="40" ry="8" fill="#FF0000" opacity="0.7"/>
                        
                        <!-- Stenotic jet (bright red/yellow mix) -->
                        <ellipse cx="145" cy="57" rx="15" ry="3" fill="#FFFF00" opacity="0.9"/>
                        
                        <!-- Post-stenotic turbulence (mosaic) -->
                        <ellipse cx="190" cy="55" rx="30" ry="8" fill="#FF0000" opacity="0.6"/>
                        <ellipse cx="200" cy="59" rx="25" ry="6" fill="#0000FF" opacity="0.5"/>
                        <ellipse cx="210" cy="56" rx="20" ry="5" fill="#FFFF00" opacity="0.7"/>
                        
                        <text x="150" y="95" text-anchor="middle" font-size="9" fill="#00FF00">Mosaic pattern = turbulence/aliasing</text>
                    </g>

                    <!-- Example 3: Bidirectional flow -->
                    <g transform="translate(40, 330)">
                        <rect x="0" y="0" width="300" height="100" fill="#2a2a2a" stroke="#666" stroke-width="2" rx="5"/>
                        <text x="150" y="15" text-anchor="middle" font-size="11" fill="#00FFFF" font-weight="700">Bidirectional Flow</text>
                        
                        <!-- B-mode background -->
                        <rect x="10" y="25" width="280" height="55" fill="#1a1a1a"/>
                        
                        <!-- Vessel -->
                        <ellipse cx="150" cy="52" rx="100" ry="15" fill="none" stroke="#666" stroke-width="1"/>
                        
                        <!-- Upper half - flow toward (red) -->
                        <ellipse cx="150" cy="45" rx="95" ry="8" fill="#FF0000" opacity="0.8"/>
                        
                        <!-- Lower half - flow away (blue) -->
                        <ellipse cx="150" cy="59" rx="95" ry="8" fill="#0000FF" opacity="0.8"/>
                        
                        <text x="150" y="95" text-anchor="middle" font-size="9" fill="#00FF00">Red over blue = complex flow pattern</text>
                    </g>
                </svg>
            </div>
        </div>

        <div class="key-points">
            <strong style="color: #9C27B0; font-size: 16px;">Clinical Applications:</strong>
            <ul class="info-list">
                <li>Rapid detection of vascular stenosis or occlusion</li>
                <li>Evaluation of cardiac valvular regurgitation or stenosis</li>
                <li>Assessment of fetal circulation (umbilical cord, heart)</li>
                <li>Detection of arteriovenous malformations (AVMs)</li>
                <li>Guidance for spectral Doppler sample volume placement</li>
            </ul>
        </div>
    </div>

    <!-- Detail Page 3: Power Doppler -->
    <div class="page">
        <div class="detail-title">3. Power Doppler Imaging</div>
        
        <div class="detail-content">
            <div class="detail-text">
                <p style="font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                    Power Doppler (also called color Doppler energy or amplitude Doppler) displays the amplitude (power) of the Doppler signal rather than the frequency shift. It shows the presence and intensity of blood flow without indicating direction or velocity.
                </p>

                <div class="section-subtitle">Advantages of Power Doppler</div>
                <ul class="info-list">
                    <li><strong>Higher Sensitivity:</strong> 3-5 times more sensitive to slow flow than color Doppler</li>
                    <li><strong>No Aliasing:</strong> Not subject to aliasing artifacts</li>
                    <li><strong>Angle Independent:</strong> Less affected by Doppler angle</li>
                    <li><strong>Better SNR:</strong> Superior signal-to-noise ratio</li>
                    <li><strong>Small Vessel Detection:</strong> Excellent for detecting perfusion in tiny vessels</li>
                </ul>

                <div class="section-subtitle">Limitations</div>
                <ul class="info-list">
                    <li>No directional information (cannot distinguish toward/away)</li>
                    <li>No velocity information</li>
                    <li>More susceptible to motion artifacts</li>
                    <li>Flash artifacts from tissue motion</li>
                    <li>Slower frame rates than color Doppler</li>
                </ul>

                <div class="highlight-box">
                    <div class="highlight-title">Color Scale</div>
                    Power Doppler typically uses a monochromatic scale (orange-yellow or red-yellow) where brightness indicates the amplitude of flow signal, not velocity. Darker = weaker signal, Brighter = stronger signal.
                </div>
            </div>

            <div class="detail-diagram">
                <svg width="380" height="450" viewBox="0 0 380 450">
                    <!-- Title -->
                    <text x="190" y="25" text-anchor="middle" font-size="16" fill="#1E64C8" font-weight="700">Power Doppler vs Color Doppler</text>

                    <!-- Comparison diagram -->
                    <g transform="translate(0, 40)">
                        <!-- Color Doppler side -->
                        <g transform="translate(20, 0)">
                            <rect x="0" y="0" width="160" height="180" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="5"/>
                            <text x="80" y="20" text-anchor="middle" font-size="12" fill="#1E64C8" font-weight="700">Color Doppler</text>
                            
                            <!-- Simulated image -->
                            <rect x="10" y="30" width="140" height="110" fill="#1a1a1a"/>
                            
                            <!-- Large vessel (bidirectional) -->
                            <ellipse cx="80" cy="60" rx="50" ry="10" fill="#FF0000" opacity="0.7"/>
                            <ellipse cx="80" cy="70" rx="50" ry="10" fill="#0000FF" opacity="0.7"/>
                            
                            <!-- Small vessels - barely visible -->
                            <ellipse cx="40" cy="95" rx="15" ry="3" fill="#FF0000" opacity="0.3"/>
                            <ellipse cx="120" cy="100" rx="12" ry="3" fill="#0000FF" opacity="0.3"/>
                            
                            <!-- Labels -->
                            <text x="80" y="155" text-anchor="middle" font-size="9" fill="#333">✓ Direction info</text>
                            <text x="80" y="167" text-anchor="middle" font-size="9" fill="#333">✓ Velocity info</text>
                            <text x="80" y="179" text-anchor="middle" font-size="9" fill="#CC0000">✗ Poor small vessel</text>
                        </g>

                        <!-- Power Doppler side -->
                        <g transform="translate(200, 0)">
                            <rect x="0" y="0" width="160" height="180" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                            <text x="80" y="20" text-anchor="middle" font-size="12" fill="#FFA500" font-weight="700">Power Doppler</text>
                            
                            <!-- Simulated image -->
                            <rect x="10" y="30" width="140" height="110" fill="#1a1a1a"/>
                            
                            <defs>
                                <radialGradient id="powerGlow1">
                                    <stop offset="0%" style="stop-color:#FFFF00;stop-opacity:1" />
                                    <stop offset="50%" style="stop-color:#FF8800;stop-opacity:0.8" />
                                    <stop offset="100%" style="stop-color:#CC4400;stop-opacity:0.3" />
                                </radialGradient>
                                <radialGradient id="powerGlow2">
                                    <stop offset="0%" style="stop-color:#FFFF00;stop-opacity:0.9" />
                                    <stop offset="100%" style="stop-color:#FF8800;stop-opacity:0.4" />
                                </radialGradient>
                            </defs>
                            
                            <!-- Large vessel (single color, bright) -->
                            <ellipse cx="80" cy="65" rx="50" ry="12" fill="url(#powerGlow1)"/>
                            
                            <!-- Small vessels - clearly visible -->
                            <ellipse cx="40" cy="95" rx="15" ry="4" fill="url(#powerGlow2)"/>
                            <ellipse cx="120" cy="100" rx="12" ry="3" fill="url(#powerGlow2)"/>
                            <ellipse cx="30" cy="115" rx="8" ry="2" fill="#FF8800" opacity="0.6"/>
                            <ellipse cx="130" cy="118" rx="10" ry="3" fill="#FF8800" opacity="0.6"/>
                            <ellipse cx="70" cy="125" rx="6" ry="2" fill="#FF8800" opacity="0.5"/>
                            
                            <!-- Labels -->
                            <text x="80" y="155" text-anchor="middle" font-size="9" fill="#00AA00">✓ High sensitivity</text>
                            <text x="80" y="167" text-anchor="middle" font-size="9" fill="#00AA00">✓ Small vessels</text>
                            <text x="80" y="179" text-anchor="middle" font-size="9" fill="#CC0000">✗ No direction</text>
                        </g>
                    </g>

                    <!-- Technical comparison -->
                    <g transform="translate(20, 240)">
                        <text x="170" y="0" text-anchor="middle" font-size="14" fill="#1E64C8" font-weight="700">Technical Comparison</text>
                        
                        <rect x="0" y="10" width="340" height="140" fill="#f9f9f9" stroke="#666" stroke-width="1" rx="5"/>
                        
                        <!-- Comparison items -->
                        <g transform="translate(10, 25)">
                            <text x="0" y="0" font-size="11" fill="#333" font-weight="700">Parameter</text>
                            <text x="160" y="0" text-anchor="middle" font-size="11" fill="#1E64C8" font-weight="700">Color</text>
                            <text x="260" y="0" text-anchor="middle" font-size="11" fill="#FFA500" font-weight="700">Power</text>
                            
                            <line x1="0" y1="5" x2="320" y2="5" stroke="#ccc" stroke-width="1"/>
                            
                            <!-- Row 1 -->
                            <text x="0" y="22" font-size="10" fill="#333">Sensitivity to flow</text>
                            <text x="160" y="22" text-anchor="middle" font-size="10" fill="#666">Moderate</text>
                            <text x="260" y="22" text-anchor="middle" font-size="10" fill="#00AA00" font-weight="600">High</text>
                            
                            <!-- Row 2 -->
                            <text x="0" y="40" font-size="10" fill="#333">Direction info</text>
                            <text x="160" y="40" text-anchor="middle" font-size="10" fill="#00AA00" font-weight="600">Yes</text>
                            <text x="260" y="40" text-anchor="middle" font-size="10" fill="#CC0000" font-weight="600">No</text>
                            
                            <!-- Row 3 -->
                            <text x="0" y="58" font-size="10" fill="#333">Velocity info</text>
                            <text x="160" y="58" text-anchor="middle" font-size="10" fill="#00AA00" font-weight="600">Yes</text>
                            <text x="260" y="58" text-anchor="middle" font-size="10" fill="#CC0000" font-weight="600">No</text>
                            
                            <!-- Row 4 -->
                            <text x="0" y="76" font-size="10" fill="#333">Aliasing artifact</text>
                            <text x="160" y="76" text-anchor="middle" font-size="10" fill="#CC0000" font-weight="600">Yes</text>
                            <text x="260" y="76" text-anchor="middle" font-size="10" fill="#00AA00" font-weight="600">No</text>
                            
                            <!-- Row 5 -->
                            <text x="0" y="94" font-size="10" fill="#333">Angle dependency</text>
                            <text x="160" y="94" text-anchor="middle" font-size="10" fill="#CC0000" font-weight="600">High</text>
                            <text x="260" y="94" text-anchor="middle" font-size="10" fill="#00AA00" font-weight="600">Low</text>
                            
                            <!-- Row 6 -->
                            <text x="0" y="112" font-size="10" fill="#333">Frame rate</text>
                            <text x="160" y="112" text-anchor="middle" font-size="10" fill="#00AA00" font-weight="600">Fast</text>
                            <text x="260" y="112" text-anchor="middle" font-size="10" fill="#CC0000" font-weight="600">Slow</text>
                        </g>
                    </g>

                    <!-- Clinical example -->
                    <g transform="translate(20, 395)">
                        <rect x="0" y="0" width="340" height="45" fill="#e8f5e9" stroke="#4CAF50" stroke-width="2" rx="5"/>
                        <text x="170" y="18" text-anchor="middle" font-size="11" fill="#2E7D32" font-weight="700">Ideal Power Doppler Applications:</text>
                        <text x="170" y="32" text-anchor="middle" font-size="9" fill="#333">• Tumor vascularity • Testicular torsion • Synovitis</text>
                        <text x="170" y="43" text-anchor="middle" font-size="9" fill="#333">• Transplant perfusion • Small vessel disease</text>
                    </g>
                </svg>
            </div>
        </div>

        <div class="key-points">
            <strong style="color: #9C27B0; font-size: 16px;">When to Choose Power Doppler:</strong>
            <ul class="info-list">
                <li>Evaluating tissue perfusion (tumors, inflammation, transplants)</li>
                <li>Detecting low-flow states (testicular torsion, ovarian torsion)</li>
                <li>Imaging small vessel architecture</li>
                <li>When directional information is not required</li>
                <li>In situations with suboptimal Doppler angles</li>
            </ul>
        </div>
    </div>

    <!-- Detail Page 4: Spectral Analysis -->
    <div class="page">
        <div class="detail-title">4. Spectral Doppler Analysis</div>
        
        <div class="detail-content">
            <div class="detail-text">
                <p style="font-size: 16px; line-height: 1.8; margin-bottom: 15px;">
                    Spectral Doppler provides detailed quantitative information about blood flow by displaying velocity as a function of time. It analyzes the frequency distribution of reflected ultrasound signals and displays them as a waveform.
                </p>

                <div class="section-subtitle">Types of Spectral Doppler</div>
                <div class="info-box">
                    <div class="info-box-title">1. Pulsed Wave (PW) Doppler</div>
                    <ul class="info-list">
                        <li>Range-specific: samples flow at a specific depth (sample volume)</li>
                        <li>Subject to aliasing at high velocities</li>
                        <li>Nyquist limit: PRF/2</li>
                        <li>Best for: low-to-moderate velocities, specific location sampling</li>
                    </ul>
                </div>

                <div class="info-box">
                    <div class="info-box-title">2. Continuous Wave (CW) Doppler</div>
                    <ul class="info-list">
                        <li>No range resolution: samples all velocities along the beam</li>
                        <li>No aliasing: can measure very high velocities</li>
                        <li>Best for: high-velocity jets (stenosis, regurgitation)</li>
                        <li>Trade-off: cannot specify exact location of flow</li>
                    </ul>
                </div>

                <div class="section-subtitle">Waveform Analysis Components</div>
                <ul class="info-list">
                    <li><strong>Peak Systolic Velocity (PSV):</strong> Maximum velocity during systole</li>
                    <li><strong>End Diastolic Velocity (EDV):</strong> Minimum velocity at end of diastole</li>
                    <li><strong>Mean Velocity:</strong> Average velocity over cardiac cycle</li>
                    <li><strong>Spectral Broadening:</strong> Width of waveform (indicates flow disturbance)</li>
                    <li><strong>Spectral Window:</strong> Clear area under systolic peak (laminar flow)</li>
                </ul>
            </div>

            <div class="detail-diagram">
                <svg width="380" height="450" viewBox="0 0 380 450">
                    <!-- Title -->
                    <text x="190" y="25" text-anchor="middle" font-size="16" fill="#1E64C8" font-weight="700">Spectral Waveform Analysis</text>

                    <!-- Normal arterial waveform -->
                    <g transform="translate(20, 40)">
                        <rect x="0" y="0" width="340" height="120" fill="#1a1a1a" stroke="#666" stroke-width="2" rx="5"/>
                        <text x="170" y="-8" text-anchor="middle" font-size="12" fill="#00AA00" font-weight="700">Normal Arterial Waveform</text>
                        
                        <!-- Baseline -->
                        <line x1="20" y1="60" x2="320" y2="60" stroke="#666" stroke-width="1"/>
                        
                        <!-- Waveform (triphasic) -->
                        <path d="M 20 60 L 40 60 Q 50 20, 60 30 Q 65 35, 70 55 Q 75 70, 80 60 
                                 L 100 60 Q 110 20, 120 30 Q 125 35, 130 55 Q 135 70, 140 60
                                 L 160 60 Q 170 20, 180 30 Q 185 35, 190 55 Q 195 70, 200 60
                                 L 220 60 Q 230 20, 240 30 Q 245 35, 250 55 Q 255 70, 260 60
                                 L 280 60 Q 290 20, 300 30 Q 305 35, 310 55 Q 315 70, 320 60" 
                              stroke="#00FF00" stroke-width="2" fill="none"/>
                        
                        <!-- Labels -->
                        <text x="60" y="15" font-size="10" fill="#FFFF00" font-weight="600">PSV</text>
                        <line x1="60" y1="18" x2="60" y2="30" stroke="#FFFF00" stroke-width="1" marker-end="url(#arrowYellow)"/>
                        
                        <text x="70" y="52" font-size="10" fill="#FF8800" font-weight="600">EDV</text>
                        <line x1="78" y1="52" x2="78" y2="55" stroke="#FF8800" stroke-width="1"/>
                        
                        <text x="100" y="50" font-size="9" fill="#00FFFF">Clear window</text>
                        <text x="95" y="60" font-size="9" fill="#00FFFF">(laminar flow)</text>
                        
                        <text x="10" y="60" font-size="9" fill="#00FF00">+</text>
                        <text x="10" y="100" font-size="9" fill="#00FF00">−</text>
                        <text x="325" y="65" font-size="8" fill="#666">Time</text>
                        
                        <defs>
                            <marker id="arrowYellow" markerWidth="6" markerHeight="6" refX="5" refY="3" orient="auto">
                                <polygon points="0 0, 6 3, 0 6" fill="#FFFF00"/>
                            </marker>
                        </defs>
                    </g>

                    <!-- Stenotic waveform -->
                    <g transform="translate(20, 175)">
                        <rect x="0" y="0" width="340" height="120" fill="#1a1a1a" stroke="#666" stroke-width="2" rx="5"/>
                        <text x="170" y="-8" text-anchor="middle" font-size="12" fill="#FF0000" font-weight="700">Stenotic Flow (Turbulent)</text>
                        
                        <!-- Baseline -->
                        <line x1="20" y1="60" x2="320" y2="60" stroke="#666" stroke-width="1"/>
                        
                        <!-- High velocity, broad waveform -->
                        <path d="M 20 60 L 30 60 Q 40 5, 50 10 L 60 60 
                                 L 70 60 Q 80 5, 90 10 L 100 60
                                 L 110 60 Q 120 5, 130 10 L 140 60
                                 L 150 60 Q 160 5, 170 10 L 180 60
                                 L 190 60 Q 200 5, 210 10 L 220 60" 
                              stroke="#FF0000" stroke-width="2" fill="none"/>
                        
                        <!-- Spectral broadening (fill) -->
                        <path d="M 30 60 Q 40 10, 50 15 L 50 60 Z" fill="#FF0000" opacity="0.3"/>
                        <path d="M 70 60 Q 80 10, 90 15 L 90 60 Z" fill="#FF0000" opacity="0.3"/>
                        <path d="M 110 60 Q 120 10, 130 15 L 130 60 Z" fill="#FF0000" opacity="0.3"/>
                        <path d="M 150 60 Q 160 10, 170 15 L 170 60 Z" fill="#FF0000" opacity="0.3"/>
                        
                        <text x="50" y="95" font-size="9" fill="#FF8800">Spectral broadening</text>
                        <text x="50" y="105" font-size="9" fill="#FF8800">(turbulent flow)</text>
                        
                        <text x="200" y="95" font-size="9" fill="#FFFF00">Increased PSV</text>
                        <text x="200" y="105" font-size="9" fill="#FFFF00">(>2x normal)</text>
                        
                        <text x="10" y="60" font-size="9" fill="#FF0000">+</text>
                        <text x="325" y="65" font-size="8" fill="#666">Time</text>
                    </g>

                    <!-- Venous waveform -->
                    <g transform="translate(20, 310)">
                        <rect x="0" y="0" width="340" height="120" fill="#1a1a1a" stroke="#666" stroke-width="2" rx="5"/>
                        <text x="170" y="-8" text-anchor="middle" font-size="12" fill="#0088FF" font-weight="700">Normal Venous Waveform</text>
                        
                        <!-- Baseline -->
                        <line x1="20" y1="40" x2="320" y2="40" stroke="#666" stroke-width="1"/>
                        
                        <!-- Phasic venous flow -->
                        <path d="M 20 40 Q 40 25, 60 40 Q 80 25, 100 40 Q 120 25, 140 40 
                                 Q 160 25, 180 40 Q 200 25, 220 40 Q 240 25, 260 40 Q 280 25, 300 40 L 320 40" 
                              stroke="#0088FF" stroke-width="2.5" fill="none"/>
                        
                        <text x="170" y="70" text-anchor="middle" font-size="9" fill="#00FFFF">Phasic with respiration</text>
                        <text x="170" y="82" text-anchor="middle" font-size="9" fill="#00FFFF">Low velocity, continuous flow</text>
                        
                        <!-- Respiratory phases -->
                        <text x="50" y="95" font-size="8" fill="#888">Inspiration</text>
                        <text x="160" y="95" font-size="8" fill="#888">Expiration</text>
                        <text x="270" y="95" font-size="8" fill="#888">Inspiration</text>
                        
                        <text x="10" y="40" font-size="9" fill="#0088FF">+</text>
                        <text x="325" y="45" font-size="8" fill="#666">Time</text>
                    </g>
                </svg>
            </div>
        </div>

        <div class="key-points">
            <strong style="color: #9C27B0; font-size: 16px;">Important Indices:</strong>
            <ul class="info-list">
                <li><strong>Resistive Index (RI):</strong> (PSV - EDV) / PSV (normal: 0.5-0.7 in renal arteries)</li>
                <li><strong>Pulsatility Index (PI):</strong> (PSV - EDV) / Mean velocity</li>
                <li><strong>Velocity Ratio:</strong> PSV at stenosis / PSV proximal (>2.0 suggests ≥50% stenosis)</li>
                <li>These indices help assess vascular resistance and stenosis severity</li>
            </ul>
        </div>
    </div>

    <!-- Detail Page 5: Clinical Applications -->
    <div class="page">
        <div class="detail-title">5. Clinical Applications</div>
        
        <p style="font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
            Doppler ultrasound has revolutionized non-invasive vascular and cardiac assessment. Its applications span multiple medical specialties, providing real-time functional information that complements anatomical imaging.
        </p>

        <div class="section-subtitle">Vascular Applications</div>
        <div class="info-box">
            <div class="info-box-title">Carotid Artery Assessment</div>
            <ul class="info-list">
                <li><strong>Stenosis grading:</strong> Velocity measurements classify disease severity</li>
                <li>Normal ICA PSV: <125 cm/s</li>
                <li>50-69% stenosis: PSV 125-230 cm/s</li>
                <li>≥70% stenosis: PSV >230 cm/s</li>
                <li>Used for stroke risk stratification and surgical planning</li>
            </ul>
        </div>

        <div class="info-box">
            <div class="info-box-title">Deep Vein Thrombosis (DVT)</div>
            <ul class="info-list">
                <li>Absence of flow in compressible vein suggests acute thrombosis</li>
                <li>Augmentation testing: manual compression increases flow in patent veins</li>
                <li>Color filling defects indicate thrombus</li>
                <li>Chronic DVT shows recanalization patterns</li>
            </ul>
        </div>

        <div class="info-box">
            <div class="info-box-title">Peripheral Arterial Disease</div>
            <ul class="info-list">
                <li>Monophasic waveforms indicate distal stenosis/occlusion</li>
                <li>Ankle-brachial index (ABI) calculation support</li>
                <li>Post-stenotic turbulence detection</li>
                <li>Bypass graft surveillance</li>
            </ul>
        </div>

        <div class="section-subtitle">Cardiac Applications</div>
        <div class="info-box">
            <div class="info-box-title">Valvular Assessment</div>
            <ul class="info-list">
                <li><strong>Stenosis:</strong> Peak velocity through valve indicates severity</li>
                <li>Aortic stenosis: Velocity >4 m/s = severe</li>
                <li><strong>Regurgitation:</strong> Retrograde flow and jet characteristics</li>
                <li>Pressure gradient calculations using Bernoulli equation: ΔP = 4V²</li>
            </ul>
        </div>

        <div class="info-box">
            <div class="info-box-title">Cardiac Output Measurement</div>
            <ul class="info-list">
                <li>Stroke volume = VTI × CSA (velocity time integral × cross-sectional area)</li>
                <li>Cardiac output = Stroke volume × Heart rate</li>
                <li>Diastolic function assessment (E/A ratio, E/e' ratio)</li>
            </ul>
        </div>

        <div class="section-subtitle">Obstetric Applications</div>
        <div class="info-box">
            <div class="info-box-title">Fetal Assessment</div>
            <ul class="info-list">
                <li><strong>Umbilical artery:</strong> Placental resistance monitoring</li>
                <li>Absent or reversed end-diastolic flow = severe fetal compromise</li>
                <li><strong>Middle cerebral artery (MCA):</strong> Fetal anemia detection</li>
                <li>Increased PSV in MCA suggests fetal anemia</li>
                <li><strong>Ductus venosus:</strong> Cardiac function indicator</li>
            </ul>
        </div>

        <div class="section-subtitle">Abdominal Applications</div>
        <table class="comparison-table">
            <tr>
                <th>Application</th>
                <th>Key Findings</th>
                <th>Clinical Significance</th>
            </tr>
            <tr>
                <td><strong>Portal vein</strong></td>
                <td>Hepatopetal vs hepatofugal flow</td>
                <td>Portal hypertension diagnosis</td>
            </tr>
            <tr>
                <td><strong>Hepatic veins</strong></td>
                <td>Triphasic waveform</td>
                <td>Right heart function assessment</td>
            </tr>
            <tr>
                <td><strong>Renal arteries</strong></td>
                <td>PSV >180 cm/s, RI <0.5-0.7</td>
                <td>Renal artery stenosis screening</td>
            </tr>
            <tr>
                <td><strong>Transplant kidney</strong></td>
                <td>RI >0.8, absent diastolic flow</td>
                <td>Rejection or vascular complication</td>
            </tr>
            <tr>
                <td><strong>Testicular torsion</strong></td>
                <td>Absent intratesticular flow</td>
                <td>Surgical emergency confirmation</td>
            </tr>
        </table>

        <div class="section-subtitle">Emerging Applications</div>
        <ul class="info-list">
            <li><strong>Contrast-enhanced ultrasound:</strong> Microbubble agents enhance Doppler signals for tumor characterization</li>
            <li><strong>Elastography guidance:</strong> Doppler helps differentiate vessels from solid lesions</li>
            <li><strong>Interventional guidance:</strong> Real-time vascular access monitoring</li>
            <li><strong>Musculoskeletal:</strong> Inflammatory arthritis assessment via synovial hyperemia</li>
        </ul>

        <div class="highlight-box">
            <div class="highlight-title">Clinical Pearls</div>
            <ul class="info-list">
                <li>Always optimize Doppler angle (30-60°) for accurate velocity measurements</li>
                <li>Use appropriate PRF to avoid aliasing in spectral Doppler</li>
                <li>Color Doppler for rapid screening, spectral for quantification</li>
                <li>Power Doppler for slow flow and tissue perfusion assessment</li>
                <li>Consider patient factors: cardiac output, blood pressure, medications</li>
            </ul>
        </div>
    </div>

</body>
</html>