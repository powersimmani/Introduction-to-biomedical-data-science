<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MRI Physics Basics - Enhanced</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px 60px;
        }
        
        .title {
            font-size: 42px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 30px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #1E64C8;
        }
        
        .main-content {
            display: flex;
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .content-grid {
            display: flex;
            flex-direction: column;
            gap: 13px;
            flex: 1;
        }
        
        .content-card {
            background: #f8fbff;
            border-left: 5px solid #1E64C8;
            border-radius: 8px;
            padding: 13px 20px;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .content-card:hover {
            background: #e8f2ff;
            transform: translateX(5px);
        }
        
        .card-label {
            font-size: 17px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 4px;
        }
        
        .card-desc {
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }
        
        .diagram-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Detailed sections */
        .detailed-section {
            margin-bottom: 50px;
            padding: 30px;
            background: linear-gradient(135deg, #f8fbff 0%, #ffffff 100%);
            border-radius: 12px;
            border: 2px solid #e0e0e0;
        }
        
        .section-title {
            font-size: 28px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #1E64C8;
        }
        
        .section-content {
            display: flex;
            gap: 30px;
            align-items: flex-start;
        }
        
        .section-text {
            flex: 1;
        }
        
        .section-diagram {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .subsection {
            margin-bottom: 15px;
        }
        
        .subsection-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c5aa0;
            margin-bottom: 8px;
        }
        
        .subsection-text {
            font-size: 15px;
            color: #444;
            line-height: 1.6;
            margin-bottom: 10px;
        }
        
        .key-points {
            background: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #FFA500;
            margin-top: 15px;
        }
        
        .key-points-title {
            font-size: 16px;
            font-weight: 600;
            color: #FFA500;
            margin-bottom: 8px;
        }
        
        .key-points ul {
            margin-left: 20px;
        }
        
        .key-points li {
            font-size: 14px;
            color: #555;
            margin-bottom: 5px;
            line-height: 1.5;
        }
        
        .formula {
            background: #f0f0f0;
            padding: 12px 20px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: #1E64C8;
            font-weight: 600;
            text-align: center;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">MRI Physics Basics</div>
        
        <!-- Original Overview Section -->
        <div class="main-content">
            <div class="content-grid">
                <div class="content-card">
                    <div class="card-label">Nuclear magnetic resonance</div>
                    <div class="card-desc">Hydrogen protons align in magnetic field</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Gradient fields</div>
                    <div class="card-desc">Spatial encoding of signal</div>
                </div>
                <div class="content-card">
                    <div class="card-label">K-space</div>
                    <div class="card-desc">Frequency domain data representation</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Relaxation times (T1, T2)</div>
                    <div class="card-desc">Tissue-specific signal recovery</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Signal equation</div>
                    <div class="card-desc">S ∝ ρ·(1-e^(-TR/T1))·e^(-TE/T2)</div>
                </div>
            </div>
            
            <div class="diagram-container">
                <svg width="420" height="400" viewBox="0 0 420 400">
                    <!-- Three states: No field, B0 field, RF pulse -->
                    
                    <!-- State 1: Random orientation (No magnetic field) -->
                    <g id="state1">
                        <rect x="10" y="10" width="130" height="180" fill="#f8f8f8" stroke="#999" stroke-width="2" rx="5"/>
                        <text x="75" y="30" text-anchor="middle" font-size="11" fill="#333" font-weight="700">No Magnetic Field</text>
                        
                        <!-- Random proton spins -->
                        <g transform="translate(30, 60)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="20" y2="10" stroke="#1E64C8" stroke-width="2"/>
                        </g>
                        <g transform="translate(60, 50)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="10" y2="20" stroke="#1E64C8" stroke-width="2"/>
                        </g>
                        <g transform="translate(90, 65)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="20" y2="20" stroke="#1E64C8" stroke-width="2"/>
                        </g>
                        <g transform="translate(25, 110)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="10" y2="10" stroke="#1E64C8" stroke-width="2"/>
                        </g>
                        <g transform="translate(65, 120)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="18" y2="22" stroke="#1E64C8" stroke-width="2"/>
                        </g>
                        <g transform="translate(95, 105)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="12" y2="8" stroke="#1E64C8" stroke-width="2"/>
                        </g>
                        
                        <text x="75" y="175" text-anchor="middle" font-size="10" fill="#666">Random orientation</text>
                    </g>
                    
                    <!-- State 2: Aligned with B0 -->
                    <g id="state2">
                        <rect x="150" y="10" width="130" height="180" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="5"/>
                        <text x="215" y="30" text-anchor="middle" font-size="11" fill="#1E64C8" font-weight="700">B₀ Field Applied</text>
                        
                        <!-- B0 field arrow -->
                        <defs>
                            <marker id="b0arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#CC0000"/>
                            </marker>
                        </defs>
                        <line x1="290" y1="50" x2="290" y2="160" stroke="#CC0000" stroke-width="3" marker-end="url(#b0arrow)"/>
                        <text x="305" y="105" font-size="10" fill="#CC0000" font-weight="700">B₀</text>
                        
                        <!-- Aligned proton spins (parallel and anti-parallel) -->
                        <!-- Parallel (majority) -->
                        <g transform="translate(165, 60)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="15" y2="8" stroke="#1E64C8" stroke-width="2.5" marker-end="url(#spinup)"/>
                        </g>
                        <g transform="translate(200, 55)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="15" y2="8" stroke="#1E64C8" stroke-width="2.5" marker-end="url(#spinup)"/>
                        </g>
                        <g transform="translate(165, 105)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="15" y2="8" stroke="#1E64C8" stroke-width="2.5" marker-end="url(#spinup)"/>
                        </g>
                        <g transform="translate(200, 110)">
                            <circle cx="15" cy="15" r="6" fill="#4A90E2" stroke="#1E64C8" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="15" y2="8" stroke="#1E64C8" stroke-width="2.5" marker-end="url(#spinup)"/>
                        </g>
                        
                        <!-- Anti-parallel (minority) -->
                        <g transform="translate(235, 80)">
                            <circle cx="15" cy="15" r="6" fill="#FF6B6B" stroke="#CC0000" stroke-width="1.5"/>
                            <line x1="15" y1="15" x2="15" y2="22" stroke="#CC0000" stroke-width="2.5" marker-end="url(#spindown)"/>
                        </g>
                        
                        <defs>
                            <marker id="spinup" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                <polygon points="0 0, 8 3, 0 6" fill="#1E64C8"/>
                            </marker>
                            <marker id="spindown" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                <polygon points="0 0, 8 3, 0 6" fill="#CC0000"/>
                            </marker>
                        </defs>
                        
                        <text x="215" y="175" text-anchor="middle" font-size="10" fill="#666">Net magnetization M₀</text>
                    </g>
                    
                    <!-- State 3: RF excitation -->
                    <g id="state3">
                        <rect x="290" y="10" width="130" height="180" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                        <text x="355" y="30" text-anchor="middle" font-size="11" fill="#FFA500" font-weight="700">RF Pulse (B₁)</text>
                        
                        <!-- Precession -->
                        <circle cx="355" cy="100" r="35" fill="none" stroke="#FFA500" stroke-width="2" stroke-dasharray="3,3"/>
                        
                        <!-- Rotating magnetization -->
                        <line x1="355" y1="100" x2="380" y2="85" stroke="#FF1493" stroke-width="3"/>
                        <circle cx="380" cy="85" r="5" fill="#FF1493"/>
                        
                        <!-- Curved arrow showing rotation -->
                        <path d="M 360 70 A 30 30 0 0 1 385 95" fill="none" stroke="#FFA500" stroke-width="2" marker-end="url(#rotarrow)"/>
                        <defs>
                            <marker id="rotarrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                <polygon points="0 0, 8 3, 0 6" fill="#FFA500"/>
                            </marker>
                        </defs>
                        
                        <!-- B1 field -->
                        <path d="M 300 130 Q 310 120, 320 130 T 340 130" stroke="#FFA500" stroke-width="2" fill="none"/>
                        <text x="325" y="148" text-anchor="middle" font-size="9" fill="#FFA500" font-weight="600">RF ~MHz</text>
                        
                        <text x="355" y="175" text-anchor="middle" font-size="10" fill="#666">Flip angle (θ)</text>
                    </g>
                    
                    <!-- Relaxation curves -->
                    <g id="relaxation">
                        <rect x="10" y="210" width="195" height="180" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="5"/>
                        <text x="107" y="230" text-anchor="middle" font-size="12" fill="#1E64C8" font-weight="700">T1 Relaxation</text>
                        
                        <!-- T1 curve -->
                        <line x1="30" y1="360" x2="180" y2="360" stroke="#666" stroke-width="1.5"/>
                        <line x1="30" y1="360" x2="30" y2="250" stroke="#666" stroke-width="1.5"/>
                        <text x="105" y="378" text-anchor="middle" font-size="10" fill="#666">Time</text>
                        <text x="15" y="305" font-size="10" fill="#666">M₀</text>
                        
                        <path d="M 30 360 Q 80 290, 180 260" fill="none" stroke="#1E64C8" stroke-width="3"/>
                        <text x="140" y="280" font-size="10" fill="#1E64C8" font-weight="600">Recovery</text>
                        
                        <!-- T1 value marker -->
                        <line x1="105" y1="310" x2="105" y2="360" stroke="#CC0000" stroke-width="1" stroke-dasharray="3,3"/>
                        <text x="110" y="335" font-size="9" fill="#CC0000" font-weight="600">T1</text>
                    </g>
                    
                    <g id="t2relaxation">
                        <rect x="215" y="210" width="195" height="180" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                        <text x="312" y="230" text-anchor="middle" font-size="12" fill="#FFA500" font-weight="700">T2 Relaxation</text>
                        
                        <!-- T2 curve -->
                        <line x1="235" y1="360" x2="385" y2="360" stroke="#666" stroke-width="1.5"/>
                        <line x1="235" y1="360" x2="235" y2="250" stroke="#666" stroke-width="1.5"/>
                        <text x="310" y="378" text-anchor="middle" font-size="10" fill="#666">Time</text>
                        <text x="220" y="260" font-size="10" fill="#666">M₀</text>
                        
                        <path d="M 235 260 Q 285 290, 385 350" fill="none" stroke="#FFA500" stroke-width="3"/>
                        <text x="320" y="320" font-size="10" fill="#FFA500" font-weight="600">Decay</text>
                        
                        <!-- T2 value marker -->
                        <line x1="310" y1="305" x2="310" y2="360" stroke="#CC0000" stroke-width="1" stroke-dasharray="3,3"/>
                        <text x="315" y="325" font-size="9" fill="#CC0000" font-weight="600">T2</text>
                    </g>
                </svg>
            </div>
        </div>

        <!-- Detailed Section 1: Nuclear Magnetic Resonance -->
        <div class="detailed-section">
            <div class="section-title">1. Nuclear Magnetic Resonance (NMR)</div>
            <div class="section-content">
                <div class="section-text">
                    <div class="subsection">
                        <div class="subsection-title">Fundamental Principle</div>
                        <div class="subsection-text">
                            Nuclear Magnetic Resonance is the physical phenomenon where atomic nuclei with an odd number of protons or neutrons possess a magnetic moment and angular momentum (spin). In MRI, we primarily use hydrogen nuclei (¹H) because of their abundance in the human body, particularly in water and fat molecules.
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">The Process</div>
                        <div class="subsection-text">
                            <strong>Step 1 - Random State:</strong> Without an external magnetic field, hydrogen protons in tissue are randomly oriented, resulting in no net magnetization.
                        </div>
                        <div class="subsection-text">
                            <strong>Step 2 - Alignment:</strong> When placed in a strong static magnetic field (B₀, typically 1.5T or 3T), protons align either parallel (low energy) or anti-parallel (high energy) to the field. A slight excess aligns parallel, creating net magnetization (M₀).
                        </div>
                        <div class="subsection-text">
                            <strong>Step 3 - Precession:</strong> Aligned protons don't simply point along B₀; they precess around it at the Larmor frequency: ω₀ = γ·B₀, where γ is the gyromagnetic ratio (42.58 MHz/T for hydrogen).
                        </div>
                    </div>
                    
                    <div class="key-points">
                        <div class="key-points-title">Key Concepts:</div>
                        <ul>
                            <li>Hydrogen is the most abundant element in human tissue (about 63%)</li>
                            <li>Net magnetization is proportional to field strength</li>
                            <li>Larmor frequency at 1.5T: 63.87 MHz; at 3T: 127.74 MHz</li>
                            <li>The energy difference between spin states is extremely small</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section-diagram">
                    <svg width="400" height="450" viewBox="0 0 400 450">
                        <!-- Larmor Precession Diagram -->
                        <text x="200" y="20" text-anchor="middle" font-size="16" font-weight="700" fill="#1E64C8">Larmor Precession</text>
                        
                        <!-- B0 field -->
                        <defs>
                            <marker id="arrow1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#CC0000"/>
                            </marker>
                        </defs>
                        <line x1="200" y1="80" x2="200" y2="280" stroke="#CC0000" stroke-width="4" marker-end="url(#arrow1)"/>
                        <text x="220" y="180" font-size="18" fill="#CC0000" font-weight="700">B₀</text>
                        
                        <!-- Precession cone -->
                        <ellipse cx="200" cy="120" rx="60" ry="15" fill="none" stroke="#4A90E2" stroke-width="2" stroke-dasharray="5,5"/>
                        <ellipse cx="200" cy="200" rx="80" ry="20" fill="none" stroke="#4A90E2" stroke-width="2" stroke-dasharray="5,5"/>
                        <line x1="200" y1="120" x2="260" y2="120" stroke="#4A90E2" stroke-width="2"/>
                        <line x1="200" y1="120" x2="140" y2="120" stroke="#4A90E2" stroke-width="2"/>
                        
                        <!-- Magnetization vector -->
                        <line x1="200" y1="200" x2="270" y2="180" stroke="#1E64C8" stroke-width="4"/>
                        <circle cx="270" cy="180" r="6" fill="#1E64C8"/>
                        <text x="285" y="185" font-size="14" fill="#1E64C8" font-weight="600">M</text>
                        
                        <!-- Rotation arrow -->
                        <path d="M 240 190 A 50 50 0 0 1 260 210" fill="none" stroke="#FFA500" stroke-width="3" marker-end="url(#arrow2)"/>
                        <defs>
                            <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#FFA500"/>
                            </marker>
                        </defs>
                        <text x="270" y="215" font-size="12" fill="#FFA500" font-weight="600">ω₀</text>
                        
                        <!-- Formula -->
                        <rect x="50" y="310" width="300" height="60" fill="#f0f8ff" stroke="#1E64C8" stroke-width="2" rx="8"/>
                        <text x="200" y="335" text-anchor="middle" font-size="16" fill="#1E64C8" font-weight="700">Larmor Equation</text>
                        <text x="200" y="358" text-anchor="middle" font-size="18" fill="#1E64C8" font-weight="600">ω₀ = γ · B₀</text>
                        
                        <!-- Energy level diagram -->
                        <text x="200" y="400" text-anchor="middle" font-size="14" font-weight="700" fill="#333">Energy Levels</text>
                        <line x1="80" y1="430" x2="180" y2="430" stroke="#1E64C8" stroke-width="3"/>
                        <text x="50" y="435" font-size="11" fill="#1E64C8">Parallel (↑)</text>
                        
                        <line x1="220" y1="415" x2="320" y2="415" stroke="#CC0000" stroke-width="3"/>
                        <text x="330" y="420" font-size="11" fill="#CC0000">Anti-parallel (↓)</text>
                        
                        <line x1="190" y1="430" x2="210" y2="415" stroke="#666" stroke-width="2" stroke-dasharray="3,3"/>
                        <text x="200" y="447" text-anchor="middle" font-size="10" fill="#666">ΔE = ℏω₀</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Detailed Section 2: Gradient Fields -->
        <div class="detailed-section">
            <div class="section-title">2. Gradient Fields</div>
            <div class="section-content">
                <div class="section-text">
                    <div class="subsection">
                        <div class="subsection-title">Purpose and Function</div>
                        <div class="subsection-text">
                            Gradient fields are spatially varying magnetic fields superimposed on the main B₀ field. They create controlled variations in the magnetic field strength across different spatial locations, enabling spatial encoding of the MR signal. Without gradients, we would only detect a signal from the entire imaging volume without any spatial information.
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">Three Gradient Axes</div>
                        <div class="subsection-text">
                            <strong>Slice Selection Gradient (Gz):</strong> Applied during RF excitation to selectively excite a specific slice. By varying the magnetic field along the z-axis, different locations have different Larmor frequencies. An RF pulse at a specific frequency will only excite protons at the corresponding location.
                        </div>
                        <div class="subsection-text">
                            <strong>Phase Encoding Gradient (Gy):</strong> Applied briefly after excitation to introduce phase differences between rows of spins. Each application encodes one line of k-space. This gradient is stepped through different amplitudes for each phase encoding step.
                        </div>
                        <div class="subsection-text">
                            <strong>Frequency Encoding (Readout) Gradient (Gx):</strong> Applied during signal acquisition, creating a frequency spread across the field of view. Different positions along the x-axis emit signals at different frequencies, which can be separated by Fourier transformation.
                        </div>
                    </div>
                    
                    <div class="key-points">
                        <div class="key-points-title">Important Notes:</div>
                        <ul>
                            <li>Gradient strength is measured in mT/m (millitesla per meter)</li>
                            <li>Stronger gradients allow faster imaging and thinner slices</li>
                            <li>Gradient switching produces the characteristic MRI "knocking" sound</li>
                            <li>The combination of all three gradients determines spatial resolution</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section-diagram">
                    <svg width="400" height="500" viewBox="0 0 400 500">
                        <text x="200" y="25" text-anchor="middle" font-size="16" font-weight="700" fill="#1E64C8">Three Gradient Axes</text>
                        
                        <!-- 3D coordinate system -->
                        <g transform="translate(200, 150)">
                            <!-- Z axis (vertical) -->
                            <defs>
                                <marker id="arrowZ" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#CC0000"/>
                                </marker>
                            </defs>
                            <line x1="0" y1="80" x2="0" y2="-80" stroke="#CC0000" stroke-width="3" marker-end="url(#arrowZ)"/>
                            <text x="15" y="-70" font-size="16" fill="#CC0000" font-weight="700">Z (Gz)</text>
                            <text x="15" y="-50" font-size="11" fill="#CC0000">Slice Select</text>
                            
                            <!-- Y axis -->
                            <defs>
                                <marker id="arrowY" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#4A90E2"/>
                                </marker>
                            </defs>
                            <line x1="0" y1="0" x2="-70" y2="40" stroke="#4A90E2" stroke-width="3" marker-end="url(#arrowY)"/>
                            <text x="-90" y="50" font-size="16" fill="#4A90E2" font-weight="700">Y (Gy)</text>
                            <text x="-110" y="65" font-size="11" fill="#4A90E2">Phase Encode</text>
                            
                            <!-- X axis -->
                            <defs>
                                <marker id="arrowX" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#2ECC71"/>
                                </marker>
                            </defs>
                            <line x1="0" y1="0" x2="70" y2="40" stroke="#2ECC71" stroke-width="3" marker-end="url(#arrowX)"/>
                            <text x="50" y="60" font-size="16" fill="#2ECC71" font-weight="700">X (Gx)</text>
                            <text x="35" y="75" font-size="11" fill="#2ECC71">Freq Encode</text>
                            
                            <!-- Patient illustration -->
                            <ellipse cx="0" cy="20" rx="45" ry="15" fill="#e0e0e0" stroke="#999" stroke-width="2"/>
                            <rect x="-35" y="20" width="70" height="50" fill="#d0d0d0" stroke="#999" stroke-width="2" rx="5"/>
                            <circle cx="0" cy="35" r="12" fill="#ffdbac" stroke="#999" stroke-width="1.5"/>
                        </g>
                        
                        <!-- Gradient timing diagram -->
                        <g transform="translate(0, 320)">
                            <text x="200" y="0" text-anchor="middle" font-size="14" font-weight="700" fill="#333">Gradient Timing</text>
                            
                            <!-- RF -->
                            <text x="30" y="35" font-size="11" fill="#666">RF</text>
                            <rect x="80" y="25" width="40" height="15" fill="#FFA500" stroke="#CC6600" stroke-width="1.5"/>
                            
                            <!-- Gz -->
                            <text x="30" y="70" font-size="11" fill="#CC0000">Gz</text>
                            <rect x="70" y="60" width="60" height="15" fill="#ffcccc" stroke="#CC0000" stroke-width="1.5"/>
                            
                            <!-- Gy -->
                            <text x="30" y="105" font-size="11" fill="#4A90E2">Gy</text>
                            <rect x="140" y="95" width="30" height="15" fill="#cce5ff" stroke="#4A90E2" stroke-width="1.5"/>
                            
                            <!-- Gx -->
                            <text x="30" y="140" font-size="11" fill="#2ECC71">Gx</text>
                            <rect x="180" y="130" width="80" height="15" fill="#c7f5d9" stroke="#2ECC71" stroke-width="1.5"/>
                            
                            <!-- Signal -->
                            <text x="30" y="175" font-size="11" fill="#666">Signal</text>
                            <path d="M 180 168 Q 200 158, 220 168 T 260 168" stroke="#FF1493" stroke-width="2.5" fill="none"/>
                            
                            <!-- Time axis -->
                            <line x1="60" y1="185" x2="320" y2="185" stroke="#999" stroke-width="1.5"/>
                            <text x="190" y="200" text-anchor="middle" font-size="10" fill="#666">Time →</text>
                        </g>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Detailed Section 3: K-space -->
        <div class="detailed-section">
            <div class="section-title">3. K-space</div>
            <div class="section-content">
                <div class="section-text">
                    <div class="subsection">
                        <div class="subsection-title">Concept and Significance</div>
                        <div class="subsection-text">
                            K-space is a mathematical construct representing the spatial frequency domain of MR data. It is not a physical space but rather a data matrix where each point contains raw signal data encoded with specific spatial frequency information. The relationship between k-space and image space is defined by the Fourier transform.
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">Structure and Properties</div>
                        <div class="subsection-text">
                            <strong>Center of K-space:</strong> Contains low spatial frequency information, which determines image contrast, signal-to-noise ratio (SNR), and overall brightness. The center represents the bulk signal from the entire field of view.
                        </div>
                        <div class="subsection-text">
                            <strong>Periphery of K-space:</strong> Contains high spatial frequency information, which determines image detail, edges, and fine structures. The edges define spatial resolution and sharpness.
                        </div>
                        <div class="subsection-text">
                            <strong>Filling Patterns:</strong> K-space can be filled in various patterns: line-by-line (Cartesian), radially (radial imaging), or spirally (spiral imaging). Different filling strategies affect imaging speed and artifact patterns.
                        </div>
                    </div>
                    
                    <div class="formula">
                        Image(x,y) = ∬ K-space(kx,ky) · e^(i2π(kx·x + ky·y)) dkx dky
                    </div>
                    
                    <div class="key-points">
                        <div class="key-points-title">Clinical Implications:</div>
                        <ul>
                            <li>Undersampling k-space periphery reduces scan time but decreases resolution</li>
                            <li>Motion during center k-space acquisition causes severe artifacts</li>
                            <li>Parallel imaging techniques (SENSE, GRAPPA) skip k-space lines</li>
                            <li>Partial Fourier techniques collect only 60-75% of k-space</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section-diagram">
                    <svg width="400" height="500" viewBox="0 0 400 500">
                        <text x="200" y="25" text-anchor="middle" font-size="16" font-weight="700" fill="#1E64C8">K-space to Image</text>
                        
                        <!-- K-space representation -->
                        <g transform="translate(200, 80)">
                            <text x="0" y="-35" text-anchor="middle" font-size="13" font-weight="600" fill="#333">K-space</text>
                            
                            <!-- K-space grid -->
                            <rect x="-80" y="-80" width="160" height="160" fill="#1a1a1a" stroke="#666" stroke-width="2"/>
                            
                            <!-- Center bright region -->
                            <circle cx="0" cy="0" r="25" fill="#ffff00" opacity="0.9"/>
                            <circle cx="0" cy="0" r="40" fill="#ffaa00" opacity="0.6"/>
                            <circle cx="0" cy="0" r="55" fill="#ff6600" opacity="0.3"/>
                            
                            <!-- Random data points -->
                            <circle cx="-50" cy="-50" r="2" fill="#4A90E2"/>
                            <circle cx="60" cy="-40" r="2" fill="#4A90E2"/>
                            <circle cx="-35" cy="55" r="2" fill="#4A90E2"/>
                            <circle cx="45" cy="60" r="2" fill="#4A90E2"/>
                            
                            <!-- Axes -->
                            <line x1="-80" y1="0" x2="80" y2="0" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
                            <line x1="0" y1="-80" x2="0" y2="80" stroke="#999" stroke-width="1" stroke-dasharray="2,2"/>
                            
                            <text x="-95" y="5" font-size="11" fill="#999">ky</text>
                            <text x="5" y="-85" font-size="11" fill="#999">kx</text>
                            
                            <!-- Labels -->
                            <text x="0" y="-95" text-anchor="middle" font-size="10" fill="#ffff00" font-weight="600">Low freq</text>
                            <text x="0" y="105" text-anchor="middle" font-size="10" fill="#4A90E2" font-weight="600">High freq</text>
                        </g>
                        
                        <!-- Fourier Transform arrow -->
                        <g transform="translate(200, 260)">
                            <defs>
                                <marker id="ftarrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                    <polygon points="0 0, 10 3, 0 6" fill="#1E64C8"/>
                                </marker>
                            </defs>
                            <line x1="0" y1="-10" x2="0" y2="30" stroke="#1E64C8" stroke-width="3" marker-end="url(#ftarrow)"/>
                            <text x="35" y="15" font-size="13" fill="#1E64C8" font-weight="700">2D FFT</text>
                        </g>
                        
                        <!-- Image representation -->
                        <g transform="translate(200, 360)">
                            <text x="0" y="-35" text-anchor="middle" font-size="13" font-weight="600" fill="#333">Image Space</text>
                            
                            <!-- Image grid -->
                            <rect x="-80" y="-80" width="160" height="160" fill="#e0e0e0" stroke="#666" stroke-width="2"/>
                            
                            <!-- Simple brain outline -->
                            <ellipse cx="0" cy="-10" rx="50" ry="55" fill="#d0d0d0" stroke="#333" stroke-width="2"/>
                            <ellipse cx="-20" cy="-20" rx="12" ry="18" fill="#999" stroke="#333" stroke-width="1.5"/>
                            <ellipse cx="20" cy="-20" rx="12" ry="18" fill="#999" stroke="#333" stroke-width="1.5"/>
                            <path d="M -25 10 Q 0 25, 25 10" fill="none" stroke="#333" stroke-width="2"/>
                            
                            <text x="0" y="105" text-anchor="middle" font-size="10" fill="#666">Spatial Domain</text>
                        </g>
                        
                        <!-- Info boxes -->
                        <rect x="20" y="465" width="160" height="30" fill="#fff8e6" stroke="#FFA500" stroke-width="1.5" rx="4"/>
                        <text x="100" y="483" text-anchor="middle" font-size="10" fill="#666">Center: Contrast & SNR</text>
                        
                        <rect x="220" y="465" width="160" height="30" fill="#e6f3ff" stroke="#4A90E2" stroke-width="1.5" rx="4"/>
                        <text x="300" y="483" text-anchor="middle" font-size="10" fill="#666">Edges: Resolution</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Detailed Section 4: Relaxation Times (T1 & T2) -->
        <div class="detailed-section">
            <div class="section-title">4. Relaxation Times (T1 and T2)</div>
            <div class="section-content">
                <div class="section-text">
                    <div class="subsection">
                        <div class="subsection-title">T1 Relaxation (Longitudinal/Spin-Lattice)</div>
                        <div class="subsection-text">
                            T1 is the time constant for recovery of longitudinal magnetization (Mz) back to its equilibrium value (M₀) after RF excitation. It represents energy transfer from the excited spin system to the surrounding molecular lattice (thermal equilibrium). T1 recovery follows an exponential curve: Mz(t) = M₀(1 - e^(-t/T1)).
                        </div>
                        <div class="subsection-text">
                            <strong>Typical T1 values at 1.5T:</strong> Fat: 250ms, White matter: 780ms, Gray matter: 920ms, CSF: 4000ms, Muscle: 870ms. T1 increases with field strength.
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">T2 Relaxation (Transverse/Spin-Spin)</div>
                        <div class="subsection-text">
                            T2 is the time constant for decay of transverse magnetization (Mxy) due to dephasing of spins from interactions with neighboring spins. It represents the loss of phase coherence in the transverse plane. T2 decay follows: Mxy(t) = M₀·e^(-t/T2). T2 is always shorter than T1.
                        </div>
                        <div class="subsection-text">
                            <strong>Typical T2 values at 1.5T:</strong> Fat: 80ms, White matter: 90ms, Gray matter: 100ms, CSF: 2000ms, Muscle: 45ms. T2 is relatively independent of field strength.
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">T2* and Susceptibility Effects</div>
                        <div class="subsection-text">
                            T2* includes both T2 relaxation and additional dephasing from magnetic field inhomogeneities. It's always shorter than T2: 1/T2* = 1/T2 + 1/T2'. T2* effects are important in gradient echo sequences and functional MRI (BOLD contrast).
                        </div>
                    </div>
                    
                    <div class="key-points">
                        <div class="key-points-title">Clinical Applications:</div>
                        <ul>
                            <li>T1-weighted: Good anatomical detail, fat is bright, fluid is dark</li>
                            <li>T2-weighted: Sensitive to pathology, fluid is bright (edema, tumors)</li>
                            <li>FLAIR: T2-weighted with CSF suppression for periventricular lesions</li>
                            <li>T2*: Sensitive to hemorrhage, calcification, and iron deposition</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section-diagram">
                    <svg width="400" height="520" viewBox="0 0 400 520">
                        <text x="200" y="25" text-anchor="middle" font-size="16" font-weight="700" fill="#1E64C8">Relaxation Processes</text>
                        
                        <!-- T1 Recovery Curve -->
                        <g transform="translate(30, 60)">
                            <text x="80" y="0" text-anchor="middle" font-size="14" font-weight="600" fill="#1E64C8">T1 Recovery</text>
                            
                            <!-- Axes -->
                            <line x1="0" y1="150" x2="160" y2="150" stroke="#666" stroke-width="2"/>
                            <line x1="0" y1="150" x2="0" y2="20" stroke="#666" stroke-width="2"/>
                            
                            <!-- Curve -->
                            <path d="M 0 150 Q 40 100, 80 50 T 160 25" fill="none" stroke="#1E64C8" stroke-width="3"/>
                            
                            <!-- M0 line -->
                            <line x1="0" y1="25" x2="160" y2="25" stroke="#CC0000" stroke-width="1.5" stroke-dasharray="4,4"/>
                            <text x="165" y="30" font-size="11" fill="#CC0000">M₀</text>
                            
                            <!-- T1 marker -->
                            <line x1="60" y1="87" x2="60" y2="150" stroke="#FFA500" stroke-width="2" stroke-dasharray="3,3"/>
                            <circle cx="60" cy="87" r="4" fill="#FFA500"/>
                            <text x="60" y="170" text-anchor="middle" font-size="11" fill="#FFA500" font-weight="600">T1</text>
                            <text x="60" y="185" text-anchor="middle" font-size="9" fill="#666">63% recovery</text>
                            
                            <!-- Labels -->
                            <text x="80" y="165" text-anchor="middle" font-size="10" fill="#666">Time</text>
                            <text x="-15" y="90" font-size="10" fill="#666">Mz</text>
                            
                            <!-- Tissue examples -->
                            <rect x="0" y="200" width="160" height="60" fill="#f0f8ff" stroke="#1E64C8" stroke-width="1.5" rx="4"/>
                            <text x="80" y="218" text-anchor="middle" font-size="11" font-weight="600" fill="#333">T1 Values</text>
                            <text x="10" y="235" font-size="9" fill="#666">Fat: 250 ms</text>
                            <text x="10" y="248" font-size="9" fill="#666">WM: 780 ms</text>
                            <text x="90" y="235" font-size="9" fill="#666">GM: 920 ms</text>
                            <text x="90" y="248" font-size="9" fill="#666">CSF: 4000 ms</text>
                        </g>
                        
                        <!-- T2 Decay Curve -->
                        <g transform="translate(210, 60)">
                            <text x="80" y="0" text-anchor="middle" font-size="14" font-weight="600" fill="#FFA500">T2 Decay</text>
                            
                            <!-- Axes -->
                            <line x1="0" y1="150" x2="160" y2="150" stroke="#666" stroke-width="2"/>
                            <line x1="0" y1="150" x2="0" y2="20" stroke="#666" stroke-width="2"/>
                            
                            <!-- Curve -->
                            <path d="M 0 25 Q 40 50, 80 100 T 160 145" fill="none" stroke="#FFA500" stroke-width="3"/>
                            
                            <!-- M0 line -->
                            <line x1="0" y1="25" x2="160" y2="25" stroke="#CC0000" stroke-width="1.5" stroke-dasharray="4,4"/>
                            <text x="165" y="30" font-size="11" fill="#CC0000">M₀</text>
                            
                            <!-- T2 marker -->
                            <line x1="50" y1="87" x2="50" y2="150" stroke="#4A90E2" stroke-width="2" stroke-dasharray="3,3"/>
                            <circle cx="50" cy="87" r="4" fill="#4A90E2"/>
                            <text x="50" y="170" text-anchor="middle" font-size="11" fill="#4A90E2" font-weight="600">T2</text>
                            <text x="50" y="185" text-anchor="middle" font-size="9" fill="#666">37% remaining</text>
                            
                            <!-- Labels -->
                            <text x="80" y="165" text-anchor="middle" font-size="10" fill="#666">Time</text>
                            <text x="-15" y="90" font-size="10" fill="#666">Mxy</text>
                            
                            <!-- Tissue examples -->
                            <rect x="0" y="200" width="160" height="60" fill="#fff8f0" stroke="#FFA500" stroke-width="1.5" rx="4"/>
                            <text x="80" y="218" text-anchor="middle" font-size="11" font-weight="600" fill="#333">T2 Values</text>
                            <text x="10" y="235" font-size="9" fill="#666">Fat: 80 ms</text>
                            <text x="10" y="248" font-size="9" fill="#666">WM: 90 ms</text>
                            <text x="90" y="235" font-size="9" fill="#666">GM: 100 ms</text>
                            <text x="90" y="248" font-size="9" fill="#666">CSF: 2000 ms</text>
                        </g>
                        
                        <!-- Comparison diagram -->
                        <g transform="translate(50, 340)">
                            <rect x="0" y="0" width="300" height="160" fill="#f9f9f9" stroke="#999" stroke-width="2" rx="6"/>
                            <text x="150" y="25" text-anchor="middle" font-size="13" font-weight="700" fill="#333">Image Contrast Comparison</text>
                            
                            <!-- T1-weighted -->
                            <rect x="20" y="45" width="80" height="95" fill="white" stroke="#1E64C8" stroke-width="2" rx="4"/>
                            <text x="60" y="60" text-anchor="middle" font-size="11" fill="#1E64C8" font-weight="600">T1-weighted</text>
                            <rect x="30" y="70" width="60" height="15" fill="#f0f0f0" stroke="#999" stroke-width="1"/>
                            <text x="35" y="82" font-size="9" fill="#333">Fat: Bright</text>
                            <rect x="30" y="90" width="60" height="15" fill="#808080" stroke="#999" stroke-width="1"/>
                            <text x="35" y="102" font-size="9" fill="#fff">Gray: Mid</text>
                            <rect x="30" y="110" width="60" height="15" fill="#202020" stroke="#999" stroke-width="1"/>
                            <text x="35" y="122" font-size="9" fill="#fff">CSF: Dark</text>
                            
                            <!-- T2-weighted -->
                            <rect x="110" y="45" width="80" height="95" fill="white" stroke="#FFA500" stroke-width="2" rx="4"/>
                            <text x="150" y="60" text-anchor="middle" font-size="11" fill="#FFA500" font-weight="600">T2-weighted</text>
                            <rect x="120" y="70" width="60" height="15" fill="#e0e0e0" stroke="#999" stroke-width="1"/>
                            <text x="125" y="82" font-size="9" fill="#333">Fat: Mid</text>
                            <rect x="120" y="90" width="60" height="15" fill="#a0a0a0" stroke="#999" stroke-width="1"/>
                            <text x="125" y="102" font-size="9" fill="#fff">Gray: Mid</text>
                            <rect x="120" y="110" width="60" height="15" fill="#f5f5f5" stroke="#999" stroke-width="1"/>
                            <text x="125" y="122" font-size="9" fill="#333">CSF: Bright</text>
                            
                            <!-- PD-weighted -->
                            <rect x="200" y="45" width="80" height="95" fill="white" stroke="#9B59B6" stroke-width="2" rx="4"/>
                            <text x="240" y="60" text-anchor="middle" font-size="11" fill="#9B59B6" font-weight="600">PD-weighted</text>
                            <rect x="210" y="70" width="60" height="15" fill="#d8d8d8" stroke="#999" stroke-width="1"/>
                            <text x="215" y="82" font-size="9" fill="#333">Fat: Bright</text>
                            <rect x="210" y="90" width="60" height="15" fill="#b0b0b0" stroke="#999" stroke-width="1"/>
                            <text x="215" y="102" font-size="9" fill="#fff">Gray: Mid</text>
                            <rect x="210" y="110" width="60" height="15" fill="#e8e8e8" stroke="#999" stroke-width="1"/>
                            <text x="215" y="122" font-size="9" fill="#333">CSF: Bright</text>
                        </g>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Detailed Section 5: Signal Equation -->
        <div class="detailed-section">
            <div class="section-title">5. MRI Signal Equation</div>
            <div class="section-content">
                <div class="section-text">
                    <div class="subsection">
                        <div class="subsection-title">The Fundamental Equation</div>
                        <div class="subsection-text">
                            The MRI signal intensity is determined by a combination of tissue properties and imaging parameters. The basic signal equation for a spin echo sequence is:
                        </div>
                        <div class="formula">
                            S ∝ ρ · (1 - e^(-TR/T1)) · e^(-TE/T2)
                        </div>
                        <div class="subsection-text">
                            Where: <strong>S</strong> = Signal intensity, <strong>ρ</strong> = Proton density, <strong>TR</strong> = Repetition time, <strong>TE</strong> = Echo time, <strong>T1</strong> = Longitudinal relaxation time, <strong>T2</strong> = Transverse relaxation time
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">Parameter Effects</div>
                        <div class="subsection-text">
                            <strong>Proton Density (ρ):</strong> The concentration of hydrogen protons in tissue. Higher proton density produces stronger signal. Fat and water have high proton density, while cortical bone has very low density.
                        </div>
                        <div class="subsection-text">
                            <strong>TR (Repetition Time):</strong> Time between successive RF pulses. Short TR (< 600ms) emphasizes T1 differences, creating T1-weighted images. Long TR (> 2000ms) allows full T1 recovery, minimizing T1 contrast.
                        </div>
                        <div class="subsection-text">
                            <strong>TE (Echo Time):</strong> Time between RF excitation and signal acquisition. Short TE (< 20ms) minimizes T2 decay. Long TE (> 80ms) emphasizes T2 differences, creating T2-weighted images.
                        </div>
                    </div>
                    
                    <div class="subsection">
                        <div class="subsection-title">Image Weighting</div>
                        <div class="subsection-text">
                            <strong>T1-weighted:</strong> Short TR (400-600ms), Short TE (10-20ms). Highlights T1 differences, excellent anatomical detail.
                        </div>
                        <div class="subsection-text">
                            <strong>T2-weighted:</strong> Long TR (2000-6000ms), Long TE (80-120ms). Highlights T2 differences, sensitive to pathology.
                        </div>
                        <div class="subsection-text">
                            <strong>Proton Density (PD):</strong> Long TR (2000-6000ms), Short TE (10-20ms). Minimizes T1 and T2 effects, shows proton density differences.
                        </div>
                    </div>
                    
                    <div class="key-points">
                        <div class="key-points-title">Practical Considerations:</div>
                        <ul>
                            <li>Longer TR and TE increase scan time but improve SNR</li>
                            <li>Flip angle also affects signal: S ∝ sin(α) for gradient echo</li>
                            <li>Additional factors: receiver gain, coil sensitivity, voxel size</li>
                            <li>Modern sequences use multiple echoes and advanced techniques</li>
                        </ul>
                    </div>
                </div>
                
                <div class="section-diagram">
                    <svg width="400" height="550" viewBox="0 0 400 550">
                        <text x="200" y="25" text-anchor="middle" font-size="16" font-weight="700" fill="#1E64C8">Signal Equation Components</text>
                        
                        <!-- Main equation -->
                        <rect x="40" y="40" width="320" height="50" fill="#f0f8ff" stroke="#1E64C8" stroke-width="3" rx="8"/>
                        <text x="200" y="72" text-anchor="middle" font-size="20" fill="#1E64C8" font-weight="700">S ∝ ρ · (1 - e^(-TR/T1)) · e^(-TE/T2)</text>
                        
                        <!-- Component breakdown -->
                        <g transform="translate(50, 120)">
                            <!-- Proton density -->
                            <rect x="0" y="0" width="140" height="70" fill="#e8f5e9" stroke="#2ECC71" stroke-width="2" rx="6"/>
                            <text x="70" y="20" text-anchor="middle" font-size="13" font-weight="600" fill="#2ECC71">Proton Density (ρ)</text>
                            <text x="70" y="40" text-anchor="middle" font-size="10" fill="#666">Number of H atoms</text>
                            <text x="70" y="55" text-anchor="middle" font-size="10" fill="#666">per unit volume</text>
                            
                            <!-- T1 component -->
                            <rect x="160" y="0" width="140" height="70" fill="#e3f2fd" stroke="#1E64C8" stroke-width="2" rx="6"/>
                            <text x="230" y="20" text-anchor="middle" font-size="13" font-weight="600" fill="#1E64C8">T1 Component</text>
                            <text x="230" y="40" text-anchor="middle" font-size="11" fill="#666">(1 - e^(-TR/T1))</text>
                            <text x="230" y="55" text-anchor="middle" font-size="10" fill="#666">Recovery factor</text>
                        </g>
                        
                        <g transform="translate(50, 210)">
                            <!-- T2 component -->
                            <rect x="0" y="0" width="140" height="70" fill="#fff3e0" stroke="#FFA500" stroke-width="2" rx="6"/>
                            <text x="70" y="20" text-anchor="middle" font-size="13" font-weight="600" fill="#FFA500">T2 Component</text>
                            <text x="70" y="40" text-anchor="middle" font-size="11" fill="#666">e^(-TE/T2)</text>
                            <text x="70" y="55" text-anchor="middle" font-size="10" fill="#666">Decay factor</text>
                            
                            <!-- Flip angle -->
                            <rect x="160" y="0" width="140" height="70" fill="#f3e5f5" stroke="#9B59B6" stroke-width="2" rx="6"/>
                            <text x="230" y="20" text-anchor="middle" font-size="13" font-weight="600" fill="#9B59B6">Flip Angle (α)</text>
                            <text x="230" y="40" text-anchor="middle" font-size="11" fill="#666">sin(α) for GRE</text>
                            <text x="230" y="55" text-anchor="middle" font-size="10" fill="#666">Excitation efficiency</text>
                        </g>
                        
                        <!-- Parameter effects graph -->
                        <g transform="translate(50, 310)">
                            <rect x="0" y="0" width="300" height="220" fill="#fafafa" stroke="#999" stroke-width="2" rx="6"/>
                            <text x="150" y="25" text-anchor="middle" font-size="13" font-weight="700" fill="#333">Image Weighting Matrix</text>
                            
                            <!-- Table header -->
                            <text x="100" y="50" text-anchor="middle" font-size="11" font-weight="600" fill="#666">TR</text>
                            <text x="200" y="50" text-anchor="middle" font-size="11" font-weight="600" fill="#666">TE</text>
                            
                            <!-- T1-weighted -->
                            <text x="20" y="75" font-size="11" font-weight="600" fill="#1E64C8">T1-W</text>
                            <rect x="70" y="62" width="60" height="20" fill="#ffcccc" stroke="#CC0000" stroke-width="1.5" rx="3"/>
                            <text x="100" y="77" text-anchor="middle" font-size="10" fill="#333">Short</text>
                            <rect x="170" y="62" width="60" height="20" fill="#ccccff" stroke="#0000CC" stroke-width="1.5" rx="3"/>
                            <text x="200" y="77" text-anchor="middle" font-size="10" fill="#333">Short</text>
                            <text x="250" y="77" font-size="9" fill="#666">400-600ms / 10-20ms</text>
                            
                            <!-- T2-weighted -->
                            <text x="20" y="110" font-size="11" font-weight="600" fill="#FFA500">T2-W</text>
                            <rect x="70" y="97" width="60" height="20" fill="#ccffcc" stroke="#00CC00" stroke-width="1.5" rx="3"/>
                            <text x="100" y="112" text-anchor="middle" font-size="10" fill="#333">Long</text>
                            <rect x="170" y="97" width="60" height="20" fill="#ffcccc" stroke="#CC0000" stroke-width="1.5" rx="3"/>
                            <text x="200" y="112" text-anchor="middle" font-size="10" fill="#333">Long</text>
                            <text x="250" y="112" font-size="9" fill="#666">2000-6000 / 80-120</text>
                            
                            <!-- PD-weighted -->
                            <text x="20" y="145" font-size="11" font-weight="600" fill="#9B59B6">PD-W</text>
                            <rect x="70" y="132" width="60" height="20" fill="#ccffcc" stroke="#00CC00" stroke-width="1.5" rx="3"/>
                            <text x="100" y="147" text-anchor="middle" font-size="10" fill="#333">Long</text>
                            <rect x="170" y="132" width="60" height="20" fill="#ccccff" stroke="#0000CC" stroke-width="1.5" rx="3"/>
                            <text x="200" y="147" text-anchor="middle" font-size="10" fill="#333">Short</text>
                            <text x="250" y="147" font-size="9" fill="#666">2000-6000 / 10-20</text>
                            
                            <!-- SNR vs Time trade-off -->
                            <line x1="20" y1="175" x2="280" y2="175" stroke="#ccc" stroke-width="1"/>
                            <text x="150" y="195" text-anchor="middle" font-size="12" font-weight="600" fill="#CC0000">Trade-offs</text>
                            <text x="30" y="212" font-size="9" fill="#666">↑ TR, TE → ↑ Scan Time</text>
                            <text x="170" y="212" font-size="9" fill="#666">↑ TR, TE → ↑ SNR</text>
                        </g>
                    </svg>
                </div>
            </div>
        </div>
        
        <!-- Footer -->
        <div style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #e0e0e0; text-align: center; color: #666; font-size: 14px;">
            <p>MRI Physics Basics - Comprehensive Educational Material</p>
            <p style="font-size: 12px; margin-top: 10px;">Understanding the fundamental principles of magnetic resonance imaging</p>
        </div>
    </div>
</body>
</html>