<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Preprocessing - Detailed Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            line-height: 1.6;
        }
        
        .page {
            width: 960px;
            min-height: 540px;
            margin: 0 auto;
            padding: 40px 60px;
            background: white;
            page-break-after: always;
        }
        
        .title {
            font-size: 36px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 30px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #1E64C8;
        }
        
        .main-content {
            display: flex;
            gap: 30px;
        }
        
        .content-grid {
            display: flex;
            flex-direction: column;
            gap: 13px;
            flex: 1;
        }
        
        .content-card {
            background: #f8fbff;
            border-left: 5px solid #1E64C8;
            border-radius: 8px;
            padding: 13px 20px;
            transition: all 0.3s;
        }
        
        .content-card:hover {
            background: #e8f2ff;
            transform: translateX(5px);
        }
        
        .card-label {
            font-size: 17px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 4px;
        }
        
        .card-desc {
            font-size: 15px;
            color: #333;
            line-height: 1.4;
        }
        
        .diagram-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Detailed section styles */
        .section-title {
            font-size: 28px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #1E64C8;
        }
        
        .subsection-title {
            font-size: 22px;
            font-weight: 600;
            color: #2E7D32;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        .detail-content {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .text-content {
            flex: 1;
        }
        
        .visual-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .description {
            font-size: 15px;
            color: #333;
            margin-bottom: 12px;
        }
        
        .key-points {
            background: #f0f8ff;
            border-left: 4px solid #4A90E2;
            padding: 15px;
            margin: 15px 0;
        }
        
        .key-points h4 {
            color: #1E64C8;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .key-points ul {
            margin-left: 20px;
            color: #333;
        }
        
        .key-points li {
            margin-bottom: 5px;
            font-size: 14px;
        }
        
        .formula {
            background: #fff8f0;
            border: 1px solid #FFA500;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            text-align: center;
        }
        
        .application-box {
            background: #e8f5e9;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .application-box h4 {
            color: #2E7D32;
            font-size: 16px;
            margin-bottom: 8px;
        }
        
        .application-box p {
            font-size: 14px;
            color: #333;
        }
        
        @media print {
            .page {
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <!-- Original Overview Page -->
    <div class="page">
        <div class="title">Image Preprocessing</div>
        
        <div class="main-content">
            <div class="content-grid">
                <div class="content-card">
                    <div class="card-label">Noise reduction</div>
                    <div class="card-desc">Gaussian, median, bilateral filtering</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Contrast enhancement</div>
                    <div class="card-desc">Stretching, adaptive methods</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Histogram equalization</div>
                    <div class="card-desc">Uniform intensity distribution</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Morphological operations</div>
                    <div class="card-desc">Erosion, dilation, opening, closing</div>
                </div>
                <div class="content-card">
                    <div class="card-label">Registration basics</div>
                    <div class="card-desc">Aligning multiple images</div>
                </div>
            </div>
            
            <div class="diagram-container">
                <svg width="420" height="400" viewBox="0 0 420 400">
                    <!-- Preprocessing Pipeline -->
                    <text x="210" y="15" text-anchor="middle" font-size="12" fill="#1E64C8" font-weight="700">Preprocessing Pipeline</text>
                    
                    <!-- Original Image -->
                    <g id="original">
                        <rect x="170" y="25" width="80" height="60" fill="#E8E8E8" stroke="#666" stroke-width="2"/>
                        <!-- Simulated noisy image -->
                        <circle cx="190" cy="45" r="8" fill="#999" opacity="0.6"/>
                        <circle cx="210" cy="60" r="6" fill="#999" opacity="0.5"/>
                        <circle cx="230" cy="50" r="7" fill="#999" opacity="0.4"/>
                        <!-- Noise dots -->
                        <circle cx="180" cy="40" r="1" fill="#333"/>
                        <circle cx="195" cy="55" r="1" fill="#333"/>
                        <circle cx="220" cy="45" r="1" fill="#333"/>
                        <circle cx="185" cy="70" r="1" fill="#333"/>
                        <circle cx="240" cy="65" r="1" fill="#333"/>
                        <text x="210" y="98" text-anchor="middle" font-size="10" fill="#666" font-weight="600">Original (Noisy)</text>
                    </g>
                    
                    <!-- Arrow down -->
                    <defs>
                        <marker id="arrowDown" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                            <polygon points="0 0, 8 3, 0 6" fill="#4A90E2"/>
                        </marker>
                    </defs>
                    <line x1="210" y1="100" x2="210" y2="118" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                    
                    <!-- Noise Reduction -->
                    <g id="denoised" transform="translate(0, 20)">
                        <rect x="170" y="100" width="80" height="60" fill="#E8F4F8" stroke="#4A90E2" stroke-width="2"/>
                        <!-- Cleaner circles -->
                        <circle cx="190" cy="120" r="8" fill="#999" opacity="0.3"/>
                        <circle cx="210" cy="135" r="6" fill="#999" opacity="0.25"/>
                        <circle cx="230" cy="125" r="7" fill="#999" opacity="0.2"/>
                        <text x="210" y="173" text-anchor="middle" font-size="10" fill="#4A90E2" font-weight="600">Denoised</text>
                    </g>
                    
                    <!-- Arrow down -->
                    <line x1="210" y1="183" x2="210" y2="195" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                    
                    <!-- Contrast Enhancement -->
                    <g id="enhanced">
                        <rect x="10" y="200" width="400" height="60" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                        <text x="210" y="218" text-anchor="middle" font-size="11" fill="#FFA500" font-weight="700">Contrast Enhancement</text>
                        
                        <!-- Before -->
                        <g transform="translate(30, 225)">
                            <rect x="0" y="0" width="50" height="30" fill="#C0C0C0" stroke="#666" stroke-width="1"/>
                            <rect x="10" y="5" width="30" height="20" fill="#888"/>
                            <text x="25" y="38" text-anchor="middle" font-size="8" fill="#666">Low Contrast</text>
                        </g>
                        
                        <!-- Arrow -->
                        <text x="100" y="247" text-anchor="middle" font-size="14" fill="#FFA500">→</text>
                        
                        <!-- After -->
                        <g transform="translate(120, 225)">
                            <rect x="0" y="0" width="50" height="30" fill="#F0F0F0" stroke="#666" stroke-width="1"/>
                            <rect x="10" y="5" width="30" height="20" fill="#222"/>
                            <text x="25" y="38" text-anchor="middle" font-size="8" fill="#666">High Contrast</text>
                        </g>
                        
                        <!-- Before histogram -->
                        <g transform="translate(230, 225)">
                            <rect x="0" y="25" width="5" height="10" fill="#999"/>
                            <rect x="6" y="20" width="5" height="15" fill="#999"/>
                            <rect x="12" y="15" width="5" height="20" fill="#999"/>
                            <rect x="18" y="18" width="5" height="17" fill="#999"/>
                            <rect x="24" y="28" width="5" height="7" fill="#999"/>
                            <rect x="30" y="32" width="5" height="3" fill="#999"/>
                            <text x="17" y="44" text-anchor="middle" font-size="7" fill="#666">Before</text>
                        </g>
                        
                        <!-- Arrow -->
                        <text x="275" y="242" text-anchor="middle" font-size="10" fill="#FFA500">→</text>
                        
                        <!-- After histogram -->
                        <g transform="translate(285, 225)">
                            <rect x="0" y="20" width="5" height="15" fill="#FFA500"/>
                            <rect x="6" y="18" width="5" height="17" fill="#FFA500"/>
                            <rect x="12" y="17" width="5" height="18" fill="#FFA500"/>
                            <rect x="18" y="17" width="5" height="18" fill="#FFA500"/>
                            <rect x="24" y="18" width="5" height="17" fill="#FFA500"/>
                            <rect x="30" y="20" width="5" height="15" fill="#FFA500"/>
                            <text x="17" y="44" text-anchor="middle" font-size="7" fill="#666">After</text>
                        </g>
                    </g>
                    
                    <!-- Histogram Equalization -->
                    <g id="histogram" transform="translate(10, 140)">
                        <rect x="0" y="0" width="120" height="60" fill="#E8F4F8" stroke="#CC0000" stroke-width="2" rx="5"/>
                        <text x="60" y="15" text-anchor="middle" font-size="10" fill="#CC0000" font-weight="700">Histogram Equalization</text>
                        
                        <!-- Before histogram -->
                        <g transform="translate(10, 25)">
                            <rect x="0" y="25" width="5" height="10" fill="#999"/>
                            <rect x="6" y="20" width="5" height="15" fill="#999"/>
                            <rect x="12" y="15" width="5" height="20" fill="#999"/>
                            <rect x="18" y="18" width="5" height="17" fill="#999"/>
                            <rect x="24" y="28" width="5" height="7" fill="#999"/>
                            <rect x="30" y="32" width="5" height="3" fill="#999"/>
                            <text x="17" y="44" text-anchor="middle" font-size="7" fill="#666">Before</text>
                        </g>
                        
                        <!-- Arrow -->
                        <text x="50" y="42" text-anchor="middle" font-size="10" fill="#CC0000">→</text>
                        
                        <!-- After histogram -->
                        <g transform="translate(55, 25)">
                            <rect x="0" y="20" width="5" height="15" fill="#4A90E2"/>
                            <rect x="6" y="18" width="5" height="17" fill="#4A90E2"/>
                            <rect x="12" y="17" width="5" height="18" fill="#4A90E2"/>
                            <rect x="18" y="17" width="5" height="18" fill="#4A90E2"/>
                            <rect x="24" y="18" width="5" height="17" fill="#4A90E2"/>
                            <rect x="30" y="20" width="5" height="15" fill="#4A90E2"/>
                            <text x="17" y="44" text-anchor="middle" font-size="7" fill="#666">After</text>
                        </g>
                    </g>
                    
                    <!-- Morphological Operations -->
                    <g id="morphology" transform="translate(10, 210)">
                        <rect x="0" y="0" width="400" height="80" fill="#f8f8ff" stroke="#9C27B0" stroke-width="2" rx="5"/>
                        <text x="200" y="18" text-anchor="middle" font-size="11" fill="#9C27B0" font-weight="700">Morphological Operations</text>
                        
                        <!-- Erosion -->
                        <g transform="translate(10, 25)">
                            <text x="40" y="8" text-anchor="middle" font-size="9" fill="#9C27B0" font-weight="600">Erosion</text>
                            <rect x="10" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="15" y="17" width="15" height="15" fill="white"/>
                            <text x="22" y="45" text-anchor="middle" font-size="10" fill="#666">→</text>
                            <rect x="35" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="42" y="19" width="11" height="11" fill="white"/>
                            <text x="35" y="50" text-anchor="middle" font-size="8" fill="#666">Shrinks</text>
                        </g>
                        
                        <!-- Dilation -->
                        <g transform="translate(110, 25)">
                            <text x="40" y="8" text-anchor="middle" font-size="9" fill="#9C27B0" font-weight="600">Dilation</text>
                            <rect x="10" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="17" y="19" width="11" height="11" fill="white"/>
                            <text x="22" y="45" text-anchor="middle" font-size="10" fill="#666">→</text>
                            <rect x="35" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="40" y="17" width="15" height="15" fill="white"/>
                            <text x="35" y="50" text-anchor="middle" font-size="8" fill="#666">Expands</text>
                        </g>
                        
                        <!-- Opening -->
                        <g transform="translate(210, 25)">
                            <text x="40" y="8" text-anchor="middle" font-size="9" fill="#9C27B0" font-weight="600">Opening</text>
                            <rect x="10" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="15" y="17" width="6" height="15" fill="white"/>
                            <rect x="22" y="17" width="8" height="15" fill="white"/>
                            <text x="22" y="45" text-anchor="middle" font-size="10" fill="#666">→</text>
                            <rect x="35" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="40" y="17" width="6" height="15" fill="white"/>
                            <rect x="49" y="17" width="6" height="15" fill="white"/>
                            <text x="35" y="50" text-anchor="middle" font-size="8" fill="#666">Separates</text>
                        </g>
                        
                        <!-- Closing -->
                        <g transform="translate(310, 25)">
                            <text x="40" y="8" text-anchor="middle" font-size="9" fill="#9C27B0" font-weight="600">Closing</text>
                            <rect x="10" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="14" y="17" width="7" height="15" fill="white"/>
                            <rect x="24" y="17" width="7" height="15" fill="white"/>
                            <text x="22" y="45" text-anchor="middle" font-size="10" fill="#666">→</text>
                            <rect x="35" y="12" width="25" height="25" fill="#666" stroke="#333" stroke-width="1"/>
                            <rect x="40" y="17" width="15" height="15" fill="white"/>
                            <text x="35" y="50" text-anchor="middle" font-size="8" fill="#666">Connects</text>
                        </g>
                    </g>
                    
                    <!-- Complete Pipeline Flow -->
                    <g id="pipeline">
                        <rect x="10" y="300" width="400" height="85" fill="#E3F2FD" stroke="#1E64C8" stroke-width="2" rx="5"/>
                        <text x="210" y="318" text-anchor="middle" font-size="11" fill="#1E64C8" font-weight="700">Complete Pipeline Example</text>
                        
                        <!-- Flow diagram -->
                        <g transform="translate(20, 325)">
                            <!-- Input -->
                            <rect x="0" y="0" width="50" height="30" fill="white" stroke="#666" stroke-width="1.5" rx="3"/>
                            <text x="25" y="12" text-anchor="middle" font-size="8" fill="#333">Raw</text>
                            <text x="25" y="22" text-anchor="middle" font-size="8" fill="#333">Image</text>
                            
                            <!-- Arrow 1 -->
                            <line x1="52" y1="15" x2="68" y2="15" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                            
                            <!-- Denoise -->
                            <rect x="70" y="0" width="50" height="30" fill="#f0f8ff" stroke="#4A90E2" stroke-width="1.5" rx="3"/>
                            <text x="95" y="12" text-anchor="middle" font-size="8" fill="#4A90E2">Denoise</text>
                            <text x="95" y="22" text-anchor="middle" font-size="7" fill="#666">(Median)</text>
                            
                            <!-- Arrow 2 -->
                            <line x1="122" y1="15" x2="138" y2="15" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                            
                            <!-- Enhance -->
                            <rect x="140" y="0" width="50" height="30" fill="#fff8f0" stroke="#FFA500" stroke-width="1.5" rx="3"/>
                            <text x="165" y="12" text-anchor="middle" font-size="8" fill="#FFA500">Enhance</text>
                            <text x="165" y="22" text-anchor="middle" font-size="7" fill="#666">(Hist. Eq.)</text>
                            
                            <!-- Arrow 3 -->
                            <line x1="192" y1="15" x2="208" y2="15" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                            
                            <!-- Segment -->
                            <rect x="210" y="0" width="50" height="30" fill="#f0fff0" stroke="#28a745" stroke-width="1.5" rx="3"/>
                            <text x="235" y="12" text-anchor="middle" font-size="8" fill="#28a745">Segment</text>
                            <text x="235" y="22" text-anchor="middle" font-size="7" fill="#666">(Threshold)</text>
                            
                            <!-- Arrow 4 -->
                            <line x1="262" y1="15" x2="278" y2="15" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                            
                            <!-- Morphology -->
                            <rect x="280" y="0" width="50" height="30" fill="#FFE5FF" stroke="#9C27B0" stroke-width="1.5" rx="3"/>
                            <text x="305" y="12" text-anchor="middle" font-size="8" fill="#9C27B0">Morph.</text>
                            <text x="305" y="22" text-anchor="middle" font-size="7" fill="#666">(Clean)</text>
                            
                            <!-- Arrow 5 -->
                            <line x1="332" y1="15" x2="348" y2="15" stroke="#4A90E2" stroke-width="2" marker-end="url(#arrowDown)"/>
                            
                            <!-- Output -->
                            <rect x="350" y="0" width="50" height="30" fill="#D4EDDA" stroke="#28a745" stroke-width="2" rx="3"/>
                            <text x="375" y="12" text-anchor="middle" font-size="8" fill="#28a745" font-weight="600">Ready</text>
                            <text x="375" y="22" text-anchor="middle" font-size="8" fill="#28a745" font-weight="600">Image</text>
                        </g>
                        
                        <text x="210" y="370" text-anchor="middle" font-size="9" fill="#666">Each step targets specific image quality issues</text>
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <!-- Detailed Section 1: Noise Reduction -->
    <div class="page">
        <div class="section-title">1. Noise Reduction</div>
        
        <div class="detail-content">
            <div class="text-content">
                <p class="description">
                    Noise reduction is a fundamental preprocessing step that removes unwanted random variations in pixel intensities. Image noise can originate from various sources including sensor limitations, poor lighting conditions, electronic interference, and transmission errors.
                </p>
                
                <div class="key-points">
                    <h4>Common Noise Types:</h4>
                    <ul>
                        <li><strong>Gaussian Noise:</strong> Random variations following normal distribution</li>
                        <li><strong>Salt-and-Pepper Noise:</strong> Random white and black pixels</li>
                        <li><strong>Poisson Noise:</strong> Signal-dependent noise from photon counting</li>
                        <li><strong>Speckle Noise:</strong> Multiplicative noise common in radar/ultrasound</li>
                    </ul>
                </div>
            </div>
            
            <div class="visual-content">
                <svg width="380" height="250" viewBox="0 0 380 250">
                    <text x="190" y="15" text-anchor="middle" font-size="14" fill="#1E64C8" font-weight="700">Noise Types Comparison</text>
                    
                    <!-- Original -->
                    <g transform="translate(10, 30)">
                        <text x="50" y="10" text-anchor="middle" font-size="11" fill="#333" font-weight="600">Original</text>
                        <rect x="5" y="15" width="90" height="70" fill="#888" stroke="#333" stroke-width="1"/>
                        <circle cx="30" cy="35" r="12" fill="#666"/>
                        <circle cx="55" cy="55" r="15" fill="#666"/>
                        <circle cx="70" cy="40" r="10" fill="#666"/>
                    </g>
                    
                    <!-- Gaussian Noise -->
                    <g transform="translate(130, 30)">
                        <text x="50" y="10" text-anchor="middle" font-size="11" fill="#4A90E2" font-weight="600">Gaussian</text>
                        <rect x="5" y="15" width="90" height="70" fill="#888" stroke="#333" stroke-width="1"/>
                        <circle cx="30" cy="35" r="12" fill="#666"/>
                        <circle cx="55" cy="55" r="15" fill="#666"/>
                        <circle cx="70" cy="40" r="10" fill="#666"/>
                        <!-- Noise pattern -->
                        <circle cx="20" cy="25" r="1" fill="#fff" opacity="0.7"/>
                        <circle cx="35" cy="45" r="1" fill="#000" opacity="0.7"/>
                        <circle cx="60" cy="30" r="1" fill="#fff" opacity="0.7"/>
                        <circle cx="75" cy="60" r="1" fill="#000" opacity="0.7"/>
                        <circle cx="45" cy="70" r="1" fill="#fff" opacity="0.7"/>
                    </g>
                    
                    <!-- Salt and Pepper -->
                    <g transform="translate(250, 30)">
                        <text x="60" y="10" text-anchor="middle" font-size="11" fill="#4A90E2" font-weight="600">Salt & Pepper</text>
                        <rect x="5" y="15" width="90" height="70" fill="#888" stroke="#333" stroke-width="1"/>
                        <circle cx="30" cy="35" r="12" fill="#666"/>
                        <circle cx="55" cy="55" r="15" fill="#666"/>
                        <circle cx="70" cy="40" r="10" fill="#666"/>
                        <!-- Salt and pepper -->
                        <rect x="15" y="25" width="2" height="2" fill="#fff"/>
                        <rect x="40" y="45" width="2" height="2" fill="#000"/>
                        <rect x="65" y="30" width="2" height="2" fill="#fff"/>
                        <rect x="80" cy="60" width="2" height="2" fill="#000"/>
                        <rect x="50" y="70" width="2" height="2" fill="#fff"/>
                    </g>
                    
                    <!-- Filtering Methods -->
                    <text x="190" y="130" text-anchor="middle" font-size="14" fill="#2E7D32" font-weight="700">Filtering Methods</text>
                    
                    <g transform="translate(10, 150)">
                        <rect x="0" y="0" width="110" height="80" fill="#f0f8ff" stroke="#4A90E2" stroke-width="2" rx="5"/>
                        <text x="55" y="18" text-anchor="middle" font-size="12" fill="#4A90E2" font-weight="700">Gaussian Filter</text>
                        <text x="55" y="35" text-anchor="middle" font-size="10" fill="#333">• Smooths uniformly</text>
                        <text x="55" y="50" text-anchor="middle" font-size="10" fill="#333">• Blurs edges</text>
                        <text x="55" y="65" text-anchor="middle" font-size="10" fill="#333">• Best for Gaussian</text>
                        <text x="55" y="78" text-anchor="middle" font-size="10" fill="#333">noise</text>
                    </g>
                    
                    <g transform="translate(135, 150)">
                        <rect x="0" y="0" width="110" height="80" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                        <text x="55" y="18" text-anchor="middle" font-size="12" fill="#FFA500" font-weight="700">Median Filter</text>
                        <text x="55" y="35" text-anchor="middle" font-size="10" fill="#333">• Preserves edges</text>
                        <text x="55" y="50" text-anchor="middle" font-size="10" fill="#333">• Removes outliers</text>
                        <text x="55" y="65" text-anchor="middle" font-size="10" fill="#333">• Best for salt &</text>
                        <text x="55" y="78" text-anchor="middle" font-size="10" fill="#333">pepper noise</text>
                    </g>
                    
                    <g transform="translate(260, 150)">
                        <rect x="0" y="0" width="110" height="80" fill="#f0fff0" stroke="#28a745" stroke-width="2" rx="5"/>
                        <text x="55" y="18" text-anchor="middle" font-size="12" fill="#28a745" font-weight="700">Bilateral Filter</text>
                        <text x="55" y="35" text-anchor="middle" font-size="10" fill="#333">• Edge-preserving</text>
                        <text x="55" y="50" text-anchor="middle" font-size="10" fill="#333">• Spatial + intensity</text>
                        <text x="55" y="65" text-anchor="middle" font-size="10" fill="#333">• Best quality but</text>
                        <text x="55" y="78" text-anchor="middle" font-size="10" fill="#333">slower</text>
                    </g>
                </svg>
            </div>
        </div>
        
        <div class="subsection-title">Filter Details</div>
        
        <div class="description">
            <strong>Gaussian Filter:</strong> Applies weighted averaging using a Gaussian kernel. The weight decreases with distance from the center pixel, creating a smooth blur effect. Excellent for reducing Gaussian noise but can blur important edges.
        </div>
        
        <div class="formula">
            G(x,y) = (1/(2πσ²)) × e^(-(x²+y²)/(2σ²))
        </div>
        
        <div class="description">
            <strong>Median Filter:</strong> Replaces each pixel with the median value of neighboring pixels. Non-linear operation that effectively removes impulse noise while preserving edges better than Gaussian filtering.
        </div>
        
        <div class="description">
            <strong>Bilateral Filter:</strong> Combines spatial and intensity information. Smooths regions with similar intensities while preserving sharp edges. Computationally more expensive but produces superior results for edge preservation.
        </div>
        
        <div class="application-box">
            <h4>Practical Applications:</h4>
            <p>Medical imaging (MRI, CT scans), astronomical photography, surveillance systems, smartphone cameras (computational photography), and any scenario where sensor noise degrades image quality.</p>
        </div>
    </div>

    <!-- Detailed Section 2: Contrast Enhancement -->
    <div class="page">
        <div class="section-title">2. Contrast Enhancement</div>
        
        <div class="detail-content">
            <div class="text-content">
                <p class="description">
                    Contrast enhancement improves the visual quality of images by expanding the range of intensity levels. Images captured in poor lighting conditions or with limited dynamic range often appear washed out or too dark, making features difficult to distinguish.
                </p>
                
                <div class="key-points">
                    <h4>Main Techniques:</h4>
                    <ul>
                        <li><strong>Linear Stretching:</strong> Maps original intensity range to full available range</li>
                        <li><strong>Piecewise Linear:</strong> Different stretching for different intensity regions</li>
                        <li><strong>Gamma Correction:</strong> Non-linear adjustment for display devices</li>
                        <li><strong>Adaptive Methods:</strong> Local contrast enhancement based on neighborhood</li>
                    </ul>
                </div>
            </div>
            
            <div class="visual-content">
                <svg width="380" height="280" viewBox="0 0 380 280">
                    <text x="190" y="15" text-anchor="middle" font-size="14" fill="#1E64C8" font-weight="700">Contrast Enhancement Methods</text>
                    
                    <!-- Linear Stretching Example -->
                    <g transform="translate(10, 30)">
                        <text x="95" y="10" text-anchor="middle" font-size="12" fill="#FFA500" font-weight="600">Linear Stretching</text>
                        
                        <!-- Before -->
                        <rect x="10" y="20" width="80" height="60" fill="#999" stroke="#333" stroke-width="2"/>
                        <rect x="25" y="30" width="50" height="40" fill="#666"/>
                        <text x="50" y="90" text-anchor="middle" font-size="10" fill="#666">Before: Limited Range</text>
                        
                        <!-- Arrow -->
                        <text x="100" y="55" text-anchor="middle" font-size="18" fill="#FFA500">→</text>
                        
                        <!-- After -->
                        <rect x="120" y="20" width="80" height="60" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                        <rect x="135" y="30" width="50" height="40" fill="#111"/>
                        <text x="160" y="90" text-anchor="middle" font-size="10" fill="#666">After: Full Range</text>
                    </g>
                    
                    <!-- Intensity Transformation Graph -->
                    <g transform="translate(220, 30)">
                        <text x="75" y="10" text-anchor="middle" font-size="11" fill="#333" font-weight="600">Transformation Curve</text>
                        
                        <!-- Axes -->
                        <line x1="10" y1="70" x2="140" y2="70" stroke="#333" stroke-width="1"/>
                        <line x1="10" y1="10" x2="10" y2="70" stroke="#333" stroke-width="1"/>
                        
                        <!-- Linear transformation line -->
                        <line x1="10" y1="70" x2="140" y2="10" stroke="#FFA500" stroke-width="2"/>
                        
                        <!-- Original range -->
                        <line x1="30" y1="70" x2="30" y2="50" stroke="#999" stroke-width="2" stroke-dasharray="2,2"/>
                        <line x1="10" y1="50" x2="30" y2="50" stroke="#999" stroke-width="2" stroke-dasharray="2,2"/>
                        
                        <line x1="120" y1="70" x2="120" y2="20" stroke="#999" stroke-width="2" stroke-dasharray="2,2"/>
                        <line x1="10" y1="20" x2="120" y2="20" stroke="#999" stroke-width="2" stroke-dasharray="2,2"/>
                        
                        <!-- Labels -->
                        <text x="75" y="85" text-anchor="middle" font-size="9" fill="#666">Input Intensity</text>
                        <text x="-5" y="40" text-anchor="end" font-size="9" fill="#666" transform="rotate(-90 -5 40)">Output</text>
                    </g>
                    
                    <!-- Comparison of Methods -->
                    <g transform="translate(10, 120)">
                        <text x="185" y="10" text-anchor="middle" font-size="13" fill="#2E7D32" font-weight="700">Comparison of Enhancement Methods</text>
                        
                        <!-- Low Contrast -->
                        <g transform="translate(0, 20)">
                            <rect x="0" y="0" width="85" height="110" fill="#f8f8f8" stroke="#ccc" stroke-width="1" rx="4"/>
                            <text x="42" y="15" text-anchor="middle" font-size="10" fill="#666" font-weight="600">Low Contrast</text>
                            <rect x="10" y="25" width="65" height="50" fill="#888" stroke="#333" stroke-width="1"/>
                            <rect x="20" y="35" width="45" height="30" fill="#777"/>
                            
                            <!-- Histogram -->
                            <g transform="translate(15, 85)">
                                <rect x="15" y="0" width="3" height="12" fill="#666"/>
                                <rect x="19" y="2" width="3" height="10" fill="#666"/>
                                <rect x="23" y="1" width="3" height="11" fill="#666"/>
                                <rect x="27" y="3" width="3" height="9" fill="#666"/>
                                <rect x="31" y="4" width="3" height="8" fill="#666"/>
                            </g>
                        </g>
                        
                        <!-- Linear Stretch -->
                        <g transform="translate(95, 20)">
                            <rect x="0" y="0" width="85" height="110" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="4"/>
                            <text x="42" y="15" text-anchor="middle" font-size="10" fill="#FFA500" font-weight="600">Linear Stretch</text>
                            <rect x="10" y="25" width="65" height="50" fill="#ddd" stroke="#333" stroke-width="1"/>
                            <rect x="20" y="35" width="45" height="30" fill="#222"/>
                            
                            <!-- Histogram -->
                            <g transform="translate(15, 85)">
                                <rect x="5" y="3" width="3" height="9" fill="#FFA500"/>
                                <rect x="10" y="2" width="3" height="10" fill="#FFA500"/>
                                <rect x="15" y="1" width="3" height="11" fill="#FFA500"/>
                                <rect x="20" y="0" width="3" height="12" fill="#FFA500"/>
                                <rect x="25" y="1" width="3" height="11" fill="#FFA500"/>
                                <rect x="30" y="2" width="3" height="10" fill="#FFA500"/>
                                <rect x="35" y="3" width="3" height="9" fill="#FFA500"/>
                            </g>
                        </g>
                        
                        <!-- Gamma Correction -->
                        <g transform="translate(190, 20)">
                            <rect x="0" y="0" width="85" height="110" fill="#f0f8ff" stroke="#4A90E2" stroke-width="2" rx="4"/>
                            <text x="42" y="15" text-anchor="middle" font-size="10" fill="#4A90E2" font-weight="600">Gamma γ=0.5</text>
                            <rect x="10" y="25" width="65" height="50" fill="#bbb" stroke="#333" stroke-width="1"/>
                            <rect x="20" y="35" width="45" height="30" fill="#444"/>
                            
                            <!-- Histogram -->
                            <g transform="translate(15, 85)">
                                <rect x="5" y="5" width="3" height="7" fill="#4A90E2"/>
                                <rect x="10" y="3" width="3" height="9" fill="#4A90E2"/>
                                <rect x="15" y="0" width="3" height="12" fill="#4A90E2"/>
                                <rect x="20" y="1" width="3" height="11" fill="#4A90E2"/>
                                <rect x="25" y="3" width="3" height="9" fill="#4A90E2"/>
                                <rect x="30" y="4" width="3" height="8" fill="#4A90E2"/>
                                <rect x="35" y="6" width="3" height="6" fill="#4A90E2"/>
                            </g>
                        </g>
                        
                        <!-- Adaptive -->
                        <g transform="translate(285, 20)">
                            <rect x="0" y="0" width="85" height="110" fill="#f0fff0" stroke="#28a745" stroke-width="2" rx="4"/>
                            <text x="42" y="15" text-anchor="middle" font-size="10" fill="#28a745" font-weight="600">Adaptive CLAHE</text>
                            <rect x="10" y="25" width="65" height="50" fill="#ccc" stroke="#333" stroke-width="1"/>
                            <rect x="20" y="35" width="45" height="30" fill="#333"/>
                            
                            <!-- Histogram -->
                            <g transform="translate(15, 85)">
                                <rect x="5" y="2" width="3" height="10" fill="#28a745"/>
                                <rect x="10" y="1" width="3" height="11" fill="#28a745"/>
                                <rect x="15" y="1" width="3" height="11" fill="#28a745"/>
                                <rect x="20" y="0" width="3" height="12" fill="#28a745"/>
                                <rect x="25" y="1" width="3" height="11" fill="#28a745"/>
                                <rect x="30" y="1" width="3" height="11" fill="#28a745"/>
                                <rect x="35" y="2" width="3" height="10" fill="#28a745"/>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
        </div>
        
        <div class="subsection-title">Detailed Method Descriptions</div>
        
        <div class="description">
            <strong>Linear Contrast Stretching:</strong> The simplest method that maps the minimum and maximum intensities in the image to the full available range (typically 0-255 for 8-bit images). Formula: Output = (Input - Min) × (255 / (Max - Min))
        </div>
        
        <div class="description">
            <strong>Gamma Correction:</strong> Applies a non-linear power-law transformation. Values of γ < 1 brighten dark regions, while γ > 1 darkens bright regions. Essential for compensating display device characteristics and human perception.
        </div>
        
        <div class="formula">
            Output = Input^γ, where γ is the correction factor
        </div>
        
        <div class="description">
            <strong>CLAHE (Contrast Limited Adaptive Histogram Equalization):</strong> Divides the image into small tiles and applies histogram equalization to each tile separately. Limits contrast enhancement to prevent noise amplification. Superior for images with varying local contrast.
        </div>
        
        <div class="application-box">
            <h4>Practical Applications:</h4>
            <p>Medical imaging (X-rays, mammography), underwater photography, satellite imagery analysis, low-light photography enhancement, document image processing, and any scenario requiring improved visual interpretation of details.</p>
        </div>
    </div>

    <!-- Detailed Section 3: Histogram Equalization -->
    <div class="page">
        <div class="section-title">3. Histogram Equalization</div>
        
        <div class="detail-content">
            <div class="text-content">
                <p class="description">
                    Histogram equalization is a powerful technique that redistributes pixel intensities to achieve a more uniform distribution across the entire intensity range. Unlike simple contrast stretching, it considers the frequency distribution of intensities and aims to maximize image entropy.
                </p>
                
                <div class="key-points">
                    <h4>Key Concepts:</h4>
                    <ul>
                        <li><strong>Histogram:</strong> Graphical representation of pixel intensity distribution</li>
                        <li><strong>Cumulative Distribution:</strong> Running sum of histogram values</li>
                        <li><strong>Transform Function:</strong> Maps original to equalized intensities</li>
                        <li><strong>Global vs. Local:</strong> Applied to entire image or local regions</li>
                    </ul>
                </div>
                
                <div class="formula">
                    h(v) = number of pixels with intensity v<br/>
                    CDF(v) = Σ h(i) for i = 0 to v<br/>
                    Output(v) = round((CDF(v) - CDF_min) × (L-1) / (M×N - CDF_min))
                </div>
            </div>
            
            <div class="visual-content">
                <svg width="380" height="320" viewBox="0 0 380 320">
                    <text x="190" y="15" text-anchor="middle" font-size="14" fill="#1E64C8" font-weight="700">Histogram Equalization Process</text>
                    
                    <!-- Original Image & Histogram -->
                    <g transform="translate(10, 30)">
                        <text x="80" y="10" text-anchor="middle" font-size="11" fill="#666" font-weight="600">Original Image</text>
                        <rect x="20" y="20" width="120" height="80" fill="#777" stroke="#333" stroke-width="2"/>
                        <rect x="40" y="35" width="80" height="50" fill="#555"/>
                        
                        <text x="80" y="115" text-anchor="middle" font-size="10" fill="#666" font-weight="600">Original Histogram</text>
                        
                        <!-- Histogram bars (skewed) -->
                        <g transform="translate(30, 125)">
                            <rect x="0" y="30" width="8" height="10" fill="#CC0000"/>
                            <rect x="10" y="25" width="8" height="15" fill="#CC0000"/>
                            <rect x="20" y="15" width="8" height="25" fill="#CC0000"/>
                            <rect x="30" y="10" width="8" height="30" fill="#CC0000"/>
                            <rect x="40" y="12" width="8" height="28" fill="#CC0000"/>
                            <rect x="50" y="20" width="8" height="20" fill="#CC0000"/>
                            <rect x="60" y="28" width="8" height="12" fill="#CC0000"/>
                            <rect x="70" y="33" width="8" height="7" fill="#CC0000"/>
                            <rect x="80" y="36" width="8" height="4" fill="#CC0000"/>
                            <rect x="90" y="38" width="8" height="2" fill="#CC0000"/>
                            
                            <line x1="0" y1="40" x2="100" y2="40" stroke="#333" stroke-width="1"/>
                            <line x1="0" y1="0" x2="0" y2="40" stroke="#333" stroke-width="1"/>
                            
                            <text x="50" y="55" text-anchor="middle" font-size="8" fill="#666">Intensity</text>
                            <text x="-5" y="20" text-anchor="middle" font-size="8" fill="#666" transform="rotate(-90 -5 20)">Frequency</text>
                        </g>
                    </g>
                    
                    <!-- Arrow -->
                    <g transform="translate(170, 100)">
                        <line x1="0" y1="0" x2="30" y2="0" stroke="#4A90E2" stroke-width="3" marker-end="url(#arrow)"/>
                        <text x="15" y="-5" text-anchor="middle" font-size="10" fill="#4A90E2" font-weight="600">Equalize</text>
                        <defs>
                            <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#4A90E2"/>
                            </marker>
                        </defs>
                    </g>
                    
                    <!-- Equalized Image & Histogram -->
                    <g transform="translate(220, 30)">
                        <text x="75" y="10" text-anchor="middle" font-size="11" fill="#28a745" font-weight="600">Equalized Image</text>
                        <rect x="15" y="20" width="120" height="80" fill="#ccc" stroke="#333" stroke-width="2"/>
                        <rect x="35" y="35" width="80" height="50" fill="#222"/>
                        
                        <text x="75" y="115" text-anchor="middle" font-size="10" fill="#28a745" font-weight="600">Equalized Histogram</text>
                        
                        <!-- Histogram bars (uniform) -->
                        <g transform="translate(25, 125)">
                            <rect x="0" y="20" width="8" height="20" fill="#4A90E2"/>
                            <rect x="10" y="18" width="8" height="22" fill="#4A90E2"/>
                            <rect x="20" y="17" width="8" height="23" fill="#4A90E2"/>
                            <rect x="30" y="16" width="8" height="24" fill="#4A90E2"/>
                            <rect x="40" y="16" width="8" height="24" fill="#4A90E2"/>
                            <rect x="50" y="17" width="8" height="23" fill="#4A90E2"/>
                            <rect x="60" y="18" width="8" height="22" fill="#4A90E2"/>
                            <rect x="70" y="19" width="8" height="21" fill="#4A90E2"/>
                            <rect x="80" y="20" width="8" height="20" fill="#4A90E2"/>
                            <rect x="90" y="21" width="8" height="19" fill="#4A90E2"/>
                            
                            <line x1="0" y1="40" x2="100" y2="40" stroke="#333" stroke-width="1"/>
                            <line x1="0" y1="0" x2="0" y2="40" stroke="#333" stroke-width="1"/>
                            
                            <text x="50" y="55" text-anchor="middle" font-size="8" fill="#666">Intensity</text>
                        </g>
                    </g>
                    
                    <!-- Transformation Function -->
                    <g transform="translate(10, 210)">
                        <rect x="0" y="0" width="360" height="100" fill="#f8f8ff" stroke="#9C27B0" stroke-width="2" rx="5"/>
                        <text x="180" y="18" text-anchor="middle" font-size="12" fill="#9C27B0" font-weight="700">Cumulative Distribution Function (CDF) Transformation</text>
                        
                        <!-- CDF Graph -->
                        <g transform="translate(20, 30)">
                            <text x="70" y="5" text-anchor="middle" font-size="10" fill="#666" font-weight="600">Transformation Curve</text>
                            
                            <!-- Axes -->
                            <line x1="10" y1="60" x2="130" y2="60" stroke="#333" stroke-width="1"/>
                            <line x1="10" y1="5" x2="10" y2="60" stroke="#333" stroke-width="1"/>
                            
                            <!-- CDF Curve (non-linear) -->
                            <path d="M 10 60 Q 30 55, 50 40 T 90 15 L 130 5" stroke="#9C27B0" stroke-width="2.5" fill="none"/>
                            
                            <!-- Linear reference -->
                            <line x1="10" y1="60" x2="130" y2="5" stroke="#ccc" stroke-width="1" stroke-dasharray="3,3"/>
                            
                            <text x="70" y="75" text-anchor="middle" font-size="8" fill="#666">Input Intensity</text>
                            <text x="-5" y="32" text-anchor="middle" font-size="8" fill="#666" transform="rotate(-90 -5 32)">Output Intensity</text>
                        </g>
                        
                        <!-- Benefits List -->
                        <g transform="translate(160, 30)">
                            <text x="90" y="8" text-anchor="middle" font-size="11" fill="#2E7D32" font-weight="600">Benefits</text>
                            <text x="10" y="23" font-size="9" fill="#333">✓ Automatic process (no parameters)</text>
                            <text x="10" y="36" font-size="9" fill="#333">✓ Maximizes image entropy</text>
                            <text x="10" y="49" font-size="9" fill="#333">✓ Reveals hidden details</text>
                            <text x="10" y="62" font-size="9" fill="#333">✓ Works well for unimodal histograms</text>
                        </g>
                    </g>
                </svg>
            </div>
        </div>
        
        <div class="subsection-title">Algorithm Steps</div>
        
        <div class="description">
            <strong>Step 1:</strong> Calculate the histogram of the input image, which shows the frequency of each intensity level from 0 to 255 (for 8-bit images).
        </div>
        
        <div class="description">
            <strong>Step 2:</strong> Compute the cumulative distribution function (CDF) by summing the histogram values progressively. The CDF represents the probability that a pixel has an intensity less than or equal to a given value.
        </div>
        
        <div class="description">
            <strong>Step 3:</strong> Normalize the CDF to the full intensity range (0-255). This creates the transformation function that maps original intensities to new equalized intensities.
        </div>
        
        <div class="description">
            <strong>Step 4:</strong> Apply the transformation to each pixel in the original image using the normalized CDF as a lookup table.
        </div>
        
        <div class="key-points">
            <h4>Advantages and Limitations:</h4>
            <ul>
                <li><strong>Advantages:</strong> Fully automatic, no parameter tuning required, effective for low-contrast images, reveals hidden details in shadows and highlights</li>
                <li><strong>Limitations:</strong> May over-enhance noise, can create artifacts in images with bimodal histograms, may produce unnatural-looking results for some images</li>
            </ul>
        </div>
        
        <div class="application-box">
            <h4>Practical Applications:</h4>
            <p>Medical image enhancement (X-rays, CT scans), astronomical image processing, remote sensing and satellite imagery, document scanning and OCR preprocessing, surveillance video enhancement, and scientific visualization.</p>
        </div>
    </div>

    <!-- Detailed Section 4: Morphological Operations -->
    <div class="page">
        <div class="section-title">4. Morphological Operations</div>
        
        <div class="detail-content">
            <div class="text-content">
                <p class="description">
                    Morphological operations are shape-based image processing techniques that operate on the geometric structure of objects in binary or grayscale images. These operations use a structuring element (kernel) to probe and modify the shape of features in the image.
                </p>
                
                <div class="key-points">
                    <h4>Fundamental Operations:</h4>
                    <ul>
                        <li><strong>Erosion:</strong> Shrinks bright regions, removes small objects</li>
                        <li><strong>Dilation:</strong> Expands bright regions, fills small holes</li>
                        <li><strong>Opening:</strong> Erosion followed by dilation (removes noise)</li>
                        <li><strong>Closing:</strong> Dilation followed by erosion (fills gaps)</li>
                    </ul>
                </div>
            </div>
            
            <div class="visual-content">
                <svg width="380" height="300" viewBox="0 0 380 300">
                    <text x="190" y="15" text-anchor="middle" font-size="14" fill="#1E64C8" font-weight="700">Morphological Operations Overview</text>
                    
                    <!-- Structuring Element -->
                    <g transform="translate(10, 30)">
                        <text x="85" y="10" text-anchor="middle" font-size="11" fill="#9C27B0" font-weight="600">Structuring Element (Kernel)</text>
                        
                        <rect x="30" y="20" width="110" height="60" fill="#f8f8ff" stroke="#9C27B0" stroke-width="2" rx="4"/>
                        
                        <!-- 3x3 kernel -->
                        <g transform="translate(50, 35)">
                            <rect x="0" y="0" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="22" y="0" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="44" y="0" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="0" y="22" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="22" y="22" width="20" height="20" fill="#ff9999" stroke="white" stroke-width="2"/>
                            <rect x="44" y="22" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="0" y="44" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="22" y="44" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            <rect x="44" y="44" width="20" height="20" fill="#9C27B0" stroke="white" stroke-width="1"/>
                            
                            <text x="32" y="15" text-anchor="middle" font-size="10" fill="white" font-weight="600">3×3</text>
                        </g>
                    </g>
                    
                    <!-- Common Kernels -->
                    <g transform="translate(190, 30)">
                        <text x="85" y="10" text-anchor="middle" font-size="11" fill="#9C27B0" font-weight="600">Common Kernel Shapes</text>
                        
                        <rect x="10" y="20" width="170" height="60" fill="#f8f8ff" stroke="#9C27B0" stroke-width="2" rx="4"/>
                        
                        <!-- Square -->
                        <g transform="translate(20, 35)">
                            <rect x="0" y="0" width="12" height="12" fill="#9C27B0"/>
                            <rect x="14" y="0" width="12" height="12" fill="#9C27B0"/>
                            <rect x="0" y="14" width="12" height="12" fill="#9C27B0"/>
                            <rect x="14" y="14" width="12" height="12" fill="#9C27B0"/>
                            <text x="13" y="38" text-anchor="middle" font-size="8" fill="#666">Square</text>
                        </g>
                        
                        <!-- Cross -->
                        <g transform="translate(70, 35)">
                            <rect x="6" y="0" width="12" height="12" fill="#9C27B0"/>
                            <rect x="0" y="6" width="12" height="12" fill="#9C27B0"/>
                            <rect x="6" y="6" width="12" height="12" fill="#9C27B0"/>
                            <rect x="12" y="6" width="12" height="12" fill="#9C27B0"/>
                            <rect x="6" y="12" width="12" height="12" fill="#9C27B0"/>
                            <text x="12" y="38" text-anchor="middle" font-size="8" fill="#666">Cross</text>
                        </g>
                        
                        <!-- Circle -->
                        <g transform="translate(125, 35)">
                            <circle cx="13" cy="13" r="13" fill="#9C27B0"/>
                            <text x="13" y="38" text-anchor="middle" font-size="8" fill="#666">Circle</text>
                        </g>
                    </g>
                    
                    <!-- Erosion -->
                    <g transform="translate(10, 110)">
                        <rect x="0" y="0" width="175" height="85" fill="#fff8f0" stroke="#FFA500" stroke-width="2" rx="5"/>
                        <text x="87" y="18" text-anchor="middle" font-size="12" fill="#FFA500" font-weight="700">Erosion: Shrinking</text>
                        
                        <!-- Before -->
                        <g transform="translate(15, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="10" y="8" width="40" height="24" fill="#333"/>
                            <circle cx="48" cy="12" r="3" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">Before</text>
                        </g>
                        
                        <text x="85" y="50" text-anchor="middle" font-size="14" fill="#FFA500">→</text>
                        
                        <!-- After -->
                        <g transform="translate(100, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="15" y="12" width="30" height="16" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">After</text>
                        </g>
                    </g>
                    
                    <!-- Dilation -->
                    <g transform="translate(195, 110)">
                        <rect x="0" y="0" width="175" height="85" fill="#f0f8ff" stroke="#4A90E2" stroke-width="2" rx="5"/>
                        <text x="87" y="18" text-anchor="middle" font-size="12" fill="#4A90E2" font-weight="700">Dilation: Expanding</text>
                        
                        <!-- Before -->
                        <g transform="translate(15, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="15" y="12" width="30" height="16" fill="#333"/>
                            <circle cx="20" cy="32" r="2" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">Before</text>
                        </g>
                        
                        <text x="85" y="50" text-anchor="middle" font-size="14" fill="#4A90E2">→</text>
                        
                        <!-- After -->
                        <g transform="translate(100, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="10" y="8" width="40" height="24" fill="#333"/>
                            <circle cx="18" cy="32" r="4" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">After</text>
                        </g>
                    </g>
                    
                    <!-- Opening -->
                    <g transform="translate(10, 205)">
                        <rect x="0" y="0" width="175" height="85" fill="#f0fff0" stroke="#28a745" stroke-width="2" rx="5"/>
                        <text x="87" y="18" text-anchor="middle" font-size="12" fill="#28a745" font-weight="700">Opening: Noise Removal</text>
                        
                        <!-- Before -->
                        <g transform="translate(15, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="15" y="12" width="30" height="16" fill="#333"/>
                            <circle cx="10" cy="8" r="2" fill="#333"/>
                            <circle cx="50" cy="32" r="2" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">Noisy</text>
                        </g>
                        
                        <text x="85" y="50" text-anchor="middle" font-size="14" fill="#28a745">→</text>
                        
                        <!-- After -->
                        <g transform="translate(100, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="15" y="12" width="30" height="16" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">Clean</text>
                        </g>
                    </g>
                    
                    <!-- Closing -->
                    <g transform="translate(195, 205)">
                        <rect x="0" y="0" width="175" height="85" fill="#fff0f8" stroke="#CC0000" stroke-width="2" rx="5"/>
                        <text x="87" y="18" text-anchor="middle" font-size="12" fill="#CC0000" font-weight="700">Closing: Gap Filling</text>
                        
                        <!-- Before -->
                        <g transform="translate(15, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="10" y="12" width="15" height="16" fill="#333"/>
                            <rect x="30" y="12" width="20" height="16" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">Broken</text>
                        </g>
                        
                        <text x="85" y="50" text-anchor="middle" font-size="14" fill="#CC0000">→</text>
                        
                        <!-- After -->
                        <g transform="translate(100, 30)">
                            <rect x="0" y="0" width="60" height="40" fill="white" stroke="#333" stroke-width="1"/>
                            <rect x="10" y="12" width="40" height="16" fill="#333"/>
                            <text x="30" y="50" text-anchor="middle" font-size="9" fill="#666">Connected</text>
                        </g>
                    </g>
                </svg>
            </div>
        </div>
        
        <div class="subsection-title">Detailed Operations</div>
        
        <div class="description">
            <strong>Erosion:</strong> The structuring element slides across the image. At each position, if all pixels under the kernel match the foreground, the center pixel remains; otherwise, it becomes background. This operation shrinks objects, removes small protrusions, and separates connected components.
        </div>
        
        <div class="description">
            <strong>Dilation:</strong> The opposite of erosion. If any pixel under the kernel matches the foreground, the center pixel becomes foreground. This operation expands objects, fills small holes, and connects nearby components.
        </div>
        
        <div class="description">
            <strong>Opening:</strong> Erosion followed by dilation with the same structuring element. Removes small bright objects (noise) while preserving the shape and size of larger objects. Effective for removing isolated bright pixels without significantly affecting larger structures.
        </div>
        
        <div class="description">
            <strong>Closing:</strong> Dilation followed by erosion. Fills small dark holes and connects nearby bright regions while maintaining object boundaries. Useful for closing gaps in contours and smoothing object boundaries.
        </div>
        
        <div class="key-points">
            <h4>Advanced Morphological Operations:</h4>
            <ul>
                <li><strong>Morphological Gradient:</strong> Difference between dilation and erosion, highlights object boundaries</li>
                <li><strong>Top Hat:</strong> Difference between input and opening, extracts bright objects on dark background</li>
                <li><strong>Black Hat:</strong> Difference between closing and input, extracts dark objects on bright background</li>
                <li><strong>Hit-or-Miss:</strong> Template matching for finding specific patterns</li>
            </ul>
        </div>
        
        <div class="application-box">
            <h4>Practical Applications:</h4>
            <p>Fingerprint analysis, text recognition and OCR, medical image segmentation, defect detection in manufacturing, object counting, boundary extraction, noise reduction in binary images, and shape analysis in computer vision systems.</p>
        </div>
    </div>

    <!-- Detailed Section 5: Image Registration -->
    <div class="page">
        <div class="section-title">5. Image Registration Basics</div>
        
        <div class="detail-content">
            <div class="text-content">
                <p class="description">
                    Image registration is the process of geometrically aligning two or more images of the same scene taken at different times, from different viewpoints, or by different sensors. The goal is to establish spatial correspondence between images so that they can be analyzed, compared, or integrated.
                </p>
                
                <div class="key-points">
                    <h4>Registration Components:</h4>
                    <ul>
                        <li><strong>Feature Detection:</strong> Identifying distinctive points or regions</li>
                        <li><strong>Feature Matching:</strong> Establishing correspondences between features</li>
                        <li><strong>Transform Estimation:</strong> Computing the geometric transformation</li>
                        <li><strong>Image Resampling:</strong> Applying transformation to align images</li>
                    </ul>
                </div>
            </div>
            
            <div class="visual-content">
                <svg width="380" height="300" viewBox="0 0 380 300">
                    <text x="190" y="15" text-anchor="middle" font-size="14" fill="#1E64C8" font-weight="700">Image Registration Process</text>
                    
                    <!-- Registration Pipeline -->
                    <g transform="translate(10, 30)">
                        <!-- Reference Image -->
                        <g>
                            <text x="60" y="10" text-anchor="middle" font-size="10" fill="#666" font-weight="600">Reference Image</text>
                            <rect x="10" y="15" width="100" height="75" fill="#e8e8e8" stroke="#333" stroke-width="2"/>
                            <circle cx="40" cy="40" r="8" fill="#CC0000"/>
                            <circle cx="70" cy="55" r="6" fill="#CC0000"/>
                            <circle cx="50" cy="70" r="7" fill="#CC0000"/>
                            <text x="60" y="100" text-anchor="middle" font-size="9" fill="#CC0000" font-weight="600">Fixed</text>
                        </g>
                        
                        <!-- Target Image -->
                        <g transform="translate(130, 0)">
                            <text x="60" y="10" text-anchor="middle" font-size="10" fill="#666" font-weight="600">Target Image</text>
                            <rect x="10" y="15" width="100" height="75" fill="#e8e8e8" stroke="#333" stroke-width="2"/>
                            <!-- Slightly rotated/shifted points -->
                            <circle cx="50" cy="35" r="8" fill="#4A90E2"/>
                            <circle cx="75" cy="50" r="6" fill="#4A90E2"/>
                            <circle cx="60" cy="70" r="7" fill="#4A90E2"/>
                            <text x="60" y="100" text-anchor="middle" font-size="9" fill="#4A90E2" font-weight="600">Moving</text>
                        </g>
                        
                        <!-- Arrow down -->
                        <g transform="translate(130, 110)">
                            <line x1="0" y1="0" x2="0" y2="20" stroke="#28a745" stroke-width="2" marker-end="url(#arrowGreen)"/>
                            <text x="20" y="12" font-size="9" fill="#28a745" font-weight="600">Register</text>
                            <defs>
                                <marker id="arrowGreen" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#28a745"/>
                                </marker>
                            </defs>
                        </g>
                        
                        <!-- Aligned Result -->
                        <g transform="translate(65, 135)">
                            <text x="60" y="10" text-anchor="middle" font-size="10" fill="#28a745" font-weight="600">Aligned Images</text>
                            <rect x="10" y="15" width="100" height="75" fill="#e8e8e8" stroke="#28a745" stroke-width="2"/>
                            <circle cx="40" cy="40" r="8" fill="#CC0000" opacity="0.6"/>
                            <circle cx="70" cy="55" r="6" fill="#CC0000" opacity="0.6"/>
                            <circle cx="50" cy="70" r="7" fill="#CC0000" opacity="0.6"/>
                            <circle cx="40" cy="40" r="8" fill="none" stroke="#4A90E2" stroke-width="2"/>
                            <circle cx="70" cy="55" r="6" fill="none" stroke="#4A90E2" stroke-width="2"/>
                            <circle cx="50" cy="70" r="7" fill="none" stroke="#4A90E2" stroke-width="2"/>
                            <text x="60" y="100" text-anchor="middle" font-size="9" fill="#28a745" font-weight="600">Registered</text>
                        </g>
                    </g>
                    
                    <!-- Transformation Types -->
                    <g transform="translate(270, 30)">
                        <rect x="0" y="0" width="100" height="210" fill="#f8f8ff" stroke="#9C27B0" stroke-width="2" rx="5"/>
                        <text x="50" y="18" text-anchor="middle" font-size="11" fill="#9C27B0" font-weight="700">Transformations</text>
                        
                        <!-- Translation -->
                        <g transform="translate(10, 30)">
                            <rect x="10" y="0" width="20" height="20" fill="none" stroke="#666" stroke-width="1"/>
                            <rect x="15" y="5" width="20" height="20" fill="#4A90E2" opacity="0.3" stroke="#4A90E2" stroke-width="1"/>
                            <text x="40" y="13" font-size="8" fill="#333">Translation</text>
                        </g>
                        
                        <!-- Rotation -->
                        <g transform="translate(10, 60)">
                            <rect x="15" y="5" width="20" height="20" fill="none" stroke="#666" stroke-width="1"/>
                            <rect x="15" y="5" width="20" height="20" fill="#4A90E2" opacity="0.3" stroke="#4A90E2" stroke-width="1" transform="rotate(15 25 15)"/>
                            <text x="40" y="18" font-size="8" fill="#333">Rotation</text>
                        </g>
                        
                        <!-- Scaling -->
                        <g transform="translate(10, 90)">
                            <rect x="13" y="7" width="20" height="20" fill="none" stroke="#666" stroke-width="1"/>
                            <rect x="17" y="11" width="14" height="14" fill="#4A90E2" opacity="0.3" stroke="#4A90E2" stroke-width="1"/>
                            <text x="40" y="20" font-size="8" fill="#333">Scaling</text>
                        </g>
                        
                        <!-- Affine -->
                        <g transform="translate(10, 120)">
                            <rect x="15" y="8" width="20" height="20" fill="none" stroke="#666" stroke-width="1"/>
                            <path d="M 17 10 L 30 13 L 28 27 L 15 24 Z" fill="#4A90E2" opacity="0.3" stroke="#4A90E2" stroke-width="1"/>
                            <text x="40" y="21" font-size="8" fill="#333">Affine</text>
                        </g>
                        
                        <!-- Perspective -->
                        <g transform="translate(10, 150)">
                            <rect x="15" y="8" width="20" height="20" fill="none" stroke="#666" stroke-width="1"/>
                            <path d="M 18 10 L 32 12 L 30 26 L 16 24 Z" fill="#4A90E2" opacity="0.3" stroke="#4A90E2" stroke-width="1"/>
                            <text x="40" y="21" font-size="8" fill="#333">Perspective</text>
                        </g>
                        
                        <!-- Non-rigid -->
                        <g transform="translate(10, 180)">
                            <rect x="15" y="8" width="20" height="20" fill="none" stroke="#666" stroke-width="1"/>
                            <path d="M 17 10 Q 20 12, 28 13 Q 32 15, 30 20 Q 28 25, 20 26 Q 15 27, 15 20 Q 14 15, 17 10" fill="#4A90E2" opacity="0.3" stroke="#4A90E2" stroke-width="1"/>
                            <text x="40" y="21" font-size="8" fill="#333">Non-rigid</text>
                        </g>
                    </g>
                </svg>
            </div>
        </div>
        
        <div class="subsection-title">Registration Methods</div>
        
        <div class="description">
            <strong>Feature-Based Registration:</strong> Identifies distinctive features (corners, edges, blobs) in both images, matches corresponding features, and estimates the transformation. Common algorithms include SIFT (Scale-Invariant Feature Transform), SURF (Speeded Up Robust Features), and ORB (Oriented FAST and Rotated BRIEF).
        </div>
        
        <div class="description">
            <strong>Intensity-Based Registration:</strong> Directly uses pixel intensity values without extracting explicit features. Optimizes a similarity metric (like mutual information or correlation) between the images. More robust for images without distinctive features but computationally intensive.
        </div>
        
        <div class="key-points">
            <h4>Transformation Types:</h4>
            <ul>
                <li><strong>Rigid:</strong> Translation + rotation (preserves distances and angles) - 3 DOF</li>
                <li><strong>Similarity:</strong> Rigid + uniform scaling - 4 DOF</li>
                <li><strong>Affine:</strong> Similarity + shearing (preserves parallel lines) - 6 DOF</li>
                <li><strong>Perspective:</strong> Projects 3D world onto 2D plane - 8 DOF</li>
                <li><strong>Non-rigid:</strong> Local deformations, most complex - many DOF</li>
            </ul>
        </div>
        
        <div class="description">
            <strong>Similarity Metrics:</strong> The quality of registration is evaluated using metrics like Sum of Squared Differences (SSD), Normalized Cross-Correlation (NCC), Mutual Information (MI), or Mean Squared Error (MSE). These metrics quantify how well the registered images align.
        </div>
        
        <div class="application-box">
            <h4>Practical Applications:</h4>
            <p>Medical imaging (aligning CT and MRI scans), panoramic image stitching, change detection in satellite imagery, motion tracking and video stabilization, multi-modal image fusion, template matching, augmented reality, and autonomous vehicle navigation.</p>
        </div>
        
        <div class="key-points" style="margin-top: 20px;">
            <h4>Challenges in Registration:</h4>
            <ul>
                <li>Handling different imaging modalities with different intensity characteristics</li>
                <li>Dealing with occlusions and missing data</li>
                <li>Computational complexity for high-resolution images</li>
                <li>Selecting appropriate transformation models</li>
                <li>Achieving sub-pixel accuracy when required</li>
            </ul>
        </div>
    </div>

</body>
</html>