<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pharmacogenomics - Enhanced</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: #f5f5f5;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 960px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .title {
            font-size: 28px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .pgx-diagram {
            display: flex;
            gap: 25px;
            margin-bottom: 20px;
        }
        
        .diagram-flow {
            flex: 1.2;
            background: #f8f9fb;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .flow-svg {
            width: 100%;
            height: 320px;
        }
        
        .dna-path {
            stroke: #1E64C8;
            stroke-width: 3;
            fill: none;
            stroke-linecap: round;
            animation: dash 3s linear infinite;
        }
        
        @keyframes dash {
            to {
                stroke-dashoffset: -50;
            }
        }
        
        .enzyme-circle {
            fill: #5088d4;
            stroke: white;
            stroke-width: 3;
            filter: drop-shadow(0 4px 8px rgba(30, 100, 200, 0.3));
        }
        
        .mutation-marker {
            fill: #ff6b6b;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.1); }
        }
        
        .drug-molecule {
            fill: #4CAF50;
            stroke: white;
            stroke-width: 2;
        }
        
        .flow-arrow {
            stroke: #1E64C8;
            stroke-width: 2.5;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .process-label {
            fill: #333;
            font-size: 13px;
            font-weight: 600;
        }
        
        .icon-text {
            font-size: 24px;
        }
        
        .content-grid {
            flex: 1;
            display: grid;
            grid-template-columns: 1fr;
            gap: 14px;
        }
        
        .content-card {
            background: #f8f9fb;
            border-left: 5px solid #1E64C8;
            padding: 14px 18px;
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .content-card:hover {
            background: #e8f2ff;
            transform: translateX(5px);
        }
        
        .card-title {
            font-size: 15px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 6px;
        }
        
        .card-content {
            font-size: 13px;
            color: #333;
            line-height: 1.5;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #1E64C8 0%, #5088d4 100%);
            color: white;
            padding: 16px 25px;
            border-radius: 10px;
            text-align: center;
            font-size: 15px;
            font-weight: 500;
            line-height: 1.6;
            margin-bottom: 40px;
        }
        
        .metabolic-path {
            stroke: #1E64C8;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 5,3;
            opacity: 0.6;
        }
        
        .outcome-box {
            fill: white;
            stroke: #1E64C8;
            stroke-width: 2;
            rx: 8;
        }
        
        .outcome-good {
            fill: #e8f8e8;
            stroke: #4CAF50;
        }
        
        .outcome-bad {
            fill: #ffe8e8;
            stroke: #ff6b6b;
        }
        
        /* Detailed sections styling */
        .detailed-sections {
            margin-top: 40px;
        }
        
        .section {
            margin-bottom: 50px;
            padding: 30px;
            background: #f8f9fb;
            border-radius: 12px;
            border: 2px solid #e0e6ed;
        }
        
        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #1E64C8;
        }
        
        .section-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #1E64C8 0%, #5088d4 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: 700;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .section-title {
            font-size: 24px;
            font-weight: 700;
            color: #1E64C8;
        }
        
        .section-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .section-text {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .section-description {
            font-size: 15px;
            color: #333;
            line-height: 1.7;
        }
        
        .key-points {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }
        
        .key-points-title {
            font-size: 16px;
            font-weight: 700;
            color: #4CAF50;
            margin-bottom: 12px;
        }
        
        .key-points ul {
            list-style: none;
            padding-left: 0;
        }
        
        .key-points li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            font-size: 14px;
            color: #555;
            line-height: 1.6;
        }
        
        .key-points li:before {
            content: "‚ñ∏";
            position: absolute;
            left: 0;
            color: #4CAF50;
            font-weight: 700;
        }
        
        .example-box {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin-top: 15px;
        }
        
        .example-title {
            font-size: 14px;
            font-weight: 700;
            color: #856404;
            margin-bottom: 8px;
        }
        
        .example-content {
            font-size: 13px;
            color: #856404;
            line-height: 1.6;
        }
        
        .section-diagram {
            background: white;
            padding: 20px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .diagram-svg {
            width: 100%;
            height: 100%;
        }
        
        /* Variant types styling */
        .variant-box {
            fill: #e3f2fd;
            stroke: #1E64C8;
            stroke-width: 2;
            rx: 8;
        }
        
        .variant-normal {
            fill: #e8f5e9;
            stroke: #4CAF50;
        }
        
        .variant-mutant {
            fill: #ffebee;
            stroke: #ff6b6b;
        }
        
        .gene-label {
            fill: #333;
            font-size: 12px;
            font-weight: 600;
        }
        
        .allele-label {
            fill: #666;
            font-size: 10px;
        }
        
        /* Enzyme activity visualization */
        .activity-bar {
            fill: #4CAF50;
            transition: all 0.3s;
        }
        
        .activity-bar-low {
            fill: #ff6b6b;
        }
        
        .activity-bar-intermediate {
            fill: #ffc107;
        }
        
        /* Drug metabolism pathways */
        .substrate-molecule {
            fill: #64B5F6;
            stroke: #1E64C8;
            stroke-width: 2;
        }
        
        .metabolite-molecule {
            fill: #81C784;
            stroke: #4CAF50;
            stroke-width: 2;
        }
        
        .enzyme-label {
            fill: #5088d4;
            font-size: 11px;
            font-weight: 700;
        }
        
        /* Guidelines visualization */
        .guideline-level {
            fill: #f5f5f5;
            stroke: #999;
            stroke-width: 2;
        }
        
        .level-a {
            fill: #4CAF50;
        }
        
        .level-b {
            fill: #8BC34A;
        }
        
        .level-c {
            fill: #FFC107;
        }
        
        .level-d {
            fill: #FF9800;
        }
        
        .recommendation-text {
            fill: white;
            font-size: 11px;
            font-weight: 600;
            text-anchor: middle;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Pharmacogenomics (PGx)</div>
        
        <div class="pgx-diagram">
            <div class="diagram-flow">
                <svg class="flow-svg" viewBox="0 0 400 320">
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#1E64C8" />
                        </marker>
                    </defs>
                    
                    <!-- Stage 1: DNA with variant -->
                    <g transform="translate(50, 30)">
                        <path class="dna-path" d="M0,0 Q10,-10 20,0 T40,0 T60,0 T80,0" stroke-dasharray="5,5"/>
                        <path class="dna-path" d="M0,5 Q10,15 20,5 T40,5 T60,5 T80,5" stroke-dasharray="5,5"/>
                        <line x1="10" y1="-5" x2="10" y2="10" stroke="#1E64C8" stroke-width="1" opacity="0.5"/>
                        <line x1="30" y1="-5" x2="30" y2="10" stroke="#1E64C8" stroke-width="1" opacity="0.5"/>
                        <line x1="50" y1="-5" x2="50" y2="10" stroke="#1E64C8" stroke-width="1" opacity="0.5"/>
                        <line x1="70" y1="-5" x2="70" y2="10" stroke="#1E64C8" stroke-width="1" opacity="0.5"/>
                        
                        <circle class="mutation-marker" cx="40" cy="2" r="8"/>
                        <text x="40" y="6" fill="white" font-size="10" font-weight="bold" text-anchor="middle">!</text>
                        
                        <text class="process-label" x="40" y="30">Genetic Variant</text>
                        <text class="process-label" x="40" y="45" font-size="11" opacity="0.8">CYP2D6*4</text>
                    </g>
                    
                    <path class="flow-arrow" d="M130,40 L170,80"/>
                    
                    <!-- Stage 2: Enzyme -->
                    <g transform="translate(170, 80)">
                        <circle class="enzyme-circle" cx="30" cy="20" r="25"/>
                        <text class="icon-text" x="30" y="28" text-anchor="middle">‚öóÔ∏è</text>
                        
                        <g opacity="0.5">
                            <line x1="10" y1="20" x2="0" y2="20" stroke="#ff6b6b" stroke-width="3" stroke-linecap="round"/>
                            <line x1="50" y1="20" x2="60" y2="20" stroke="#ff6b6b" stroke-width="3" stroke-linecap="round"/>
                            <line x1="30" y1="0" x2="30" y2="-10" stroke="#ff6b6b" stroke-width="3" stroke-linecap="round"/>
                        </g>
                        
                        <text class="process-label" x="30" y="60">Altered Function</text>
                        <text class="process-label" x="30" y="75" font-size="11" opacity="0.8">‚Üì Activity</text>
                    </g>
                    
                    <path class="flow-arrow" d="M230,120 L270,160"/>
                    
                    <!-- Stage 3: Drug Metabolism -->
                    <g transform="translate(250, 160)">
                        <circle class="drug-molecule" cx="20" cy="10" r="8"/>
                        <circle class="drug-molecule" cx="35" cy="15" r="8"/>
                        <circle class="drug-molecule" cx="50" cy="10" r="8"/>
                        <text class="icon-text" x="35" y="20" text-anchor="middle">üíä</text>
                        
                        <path class="metabolic-path" d="M60,15 Q80,5 100,15"/>
                        <path class="metabolic-path" d="M60,15 Q80,25 100,15"/>
                        
                        <text class="process-label" x="35" y="45">Drug Metabolism</text>
                        <text class="process-label" x="35" y="60" font-size="11" opacity="0.8">Modified exposure</text>
                    </g>
                    
                    <path class="flow-arrow" d="M320,200 L320,240"/>
                    
                    <!-- Stage 4: Clinical Outcomes -->
                    <g transform="translate(260, 240)">
                        <rect class="outcome-good" x="0" y="0" width="50" height="30" rx="5"/>
                        <text x="25" y="18" font-size="11" text-anchor="middle">Efficacy</text>
                        
                        <rect class="outcome-bad" x="60" y="0" width="50" height="30" rx="5"/>
                        <text x="85" y="18" font-size="11" text-anchor="middle">Toxicity</text>
                        
                        <text class="process-label" x="55" y="50">Clinical Outcome</text>
                    </g>
                    
                    <path class="flow-arrow" d="M320,270 Q380,270 380,200 Q380,100 340,60" stroke-dasharray="8,4" opacity="0.6"/>
                    <text class="process-label" x="350" y="180" font-size="11" fill="#1E64C8">Dose</text>
                    <text class="process-label" x="350" y="195" font-size="11" fill="#1E64C8">Adjustment</text>
                </svg>
            </div>
            
            <div class="content-grid">
                <div class="content-card">
                    <div class="card-title">PGx Variants</div>
                    <div class="card-content">
                        Genetic variations affecting drug response, metabolism, and efficacy
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">Drug Metabolism</div>
                    <div class="card-content">
                        CYP450 enzymes and transporter polymorphisms impact drug levels
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">Dosing Algorithms</div>
                    <div class="card-content">
                        Genotype-guided dosing for warfarin, clopidogrel, and more
                    </div>
                </div>
                
                <div class="content-card">
                    <div class="card-title">CPIC Guidelines</div>
                    <div class="card-content">
                        Clinical Pharmacogenetics Implementation Consortium standards
                    </div>
                </div>
            </div>
        </div>
        
        <div class="highlight-box">
            Implementation Barriers: Cost, infrastructure, education, and workflow integration remain challenges for widespread PGx adoption
        </div>
        
        <!-- Detailed Sections -->
        <div class="detailed-sections">
            
            <!-- Section 1: PGx Variants -->
            <div class="section">
                <div class="section-header">
                    <div class="section-number">1</div>
                    <div class="section-title">Pharmacogenomic Variants</div>
                </div>
                
                <div class="section-content">
                    <div class="section-text">
                        <div class="section-description">
                            Pharmacogenomic variants are genetic differences that influence how individuals respond to medications. These variations can occur in genes encoding drug-metabolizing enzymes, drug transporters, drug targets, or genes involved in immunological responses.
                        </div>
                        
                        <div class="key-points">
                            <div class="key-points-title">Key Concepts:</div>
                            <ul>
                                <li><strong>SNPs (Single Nucleotide Polymorphisms):</strong> Most common type of genetic variation</li>
                                <li><strong>Star Alleles (*):</strong> Nomenclature system for categorizing variant combinations</li>
                                <li><strong>Copy Number Variations:</strong> Gene duplications or deletions affecting enzyme expression</li>
                                <li><strong>Phenotype Prediction:</strong> Variants determine metabolizer status (PM, IM, NM, RM, UM)</li>
                                <li><strong>Ethnic Differences:</strong> Variant frequencies vary significantly across populations</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <div class="example-title">Clinical Example: CYP2C19</div>
                            <div class="example-content">
                                A patient with CYP2C19*2/*2 genotype (poor metabolizer) cannot effectively convert clopidogrel to its active form, increasing risk of cardiovascular events. Alternative antiplatelet therapy should be considered.
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-diagram">
                        <svg class="diagram-svg" viewBox="0 0 350 300">
                            <!-- Title -->
                            <text x="175" y="20" text-anchor="middle" font-size="14" font-weight="700" fill="#1E64C8">Allele Variants & Phenotypes</text>
                            
                            <!-- Normal Allele -->
                            <g transform="translate(30, 50)">
                                <rect class="variant-normal" x="0" y="0" width="120" height="40" rx="8"/>
                                <text class="gene-label" x="60" y="18" text-anchor="middle">CYP2D6*1</text>
                                <text class="allele-label" x="60" y="32" text-anchor="middle">Wild-type / Normal</text>
                            </g>
                            
                            <!-- Loss of Function Alleles -->
                            <g transform="translate(180, 50)">
                                <rect class="variant-mutant" x="0" y="0" width="120" height="40" rx="8"/>
                                <text class="gene-label" x="60" y="18" text-anchor="middle">CYP2D6*4</text>
                                <text class="allele-label" x="60" y="32" text-anchor="middle">Loss of function</text>
                            </g>
                            
                            <!-- Decreased Function -->
                            <g transform="translate(30, 110)">
                                <rect x="0" y="0" width="120" height="40" rx="8" fill="#fff3cd" stroke="#ffc107" stroke-width="2"/>
                                <text class="gene-label" x="60" y="18" text-anchor="middle">CYP2D6*10</text>
                                <text class="allele-label" x="60" y="32" text-anchor="middle">Decreased function</text>
                            </g>
                            
                            <!-- Increased Function -->
                            <g transform="translate(180, 110)">
                                <rect x="0" y="0" width="120" height="40" rx="8" fill="#e1f5fe" stroke="#03a9f4" stroke-width="2"/>
                                <text class="gene-label" x="60" y="18" text-anchor="middle">CYP2D6*1xN</text>
                                <text class="allele-label" x="60" y="32" text-anchor="middle">Gene duplication</text>
                            </g>
                            
                            <!-- Phenotype Spectrum -->
                            <line x1="30" y1="180" x2="320" y2="180" stroke="#666" stroke-width="2"/>
                            <line x1="30" y1="175" x2="30" y2="185" stroke="#666" stroke-width="2"/>
                            <line x1="320" y1="175" x2="320" y2="185" stroke="#666" stroke-width="2"/>
                            
                            <!-- Phenotype markers -->
                            <g transform="translate(30, 200)">
                                <circle cx="0" cy="0" r="6" fill="#ff6b6b"/>
                                <text x="0" y="20" font-size="10" text-anchor="middle" fill="#333">PM</text>
                                <text x="0" y="35" font-size="8" text-anchor="middle" fill="#666">Poor</text>
                            </g>
                            
                            <g transform="translate(102, 200)">
                                <circle cx="0" cy="0" r="6" fill="#ffc107"/>
                                <text x="0" y="20" font-size="10" text-anchor="middle" fill="#333">IM</text>
                                <text x="0" y="35" font-size="8" text-anchor="middle" fill="#666">Intermediate</text>
                            </g>
                            
                            <g transform="translate(175, 200)">
                                <circle cx="0" cy="0" r="6" fill="#4CAF50"/>
                                <text x="0" y="20" font-size="10" text-anchor="middle" fill="#333">NM</text>
                                <text x="0" y="35" font-size="8" text-anchor="middle" fill="#666">Normal</text>
                            </g>
                            
                            <g transform="translate(247, 200)">
                                <circle cx="0" cy="0" r="6" fill="#2196F3"/>
                                <text x="0" y="20" font-size="10" text-anchor="middle" fill="#333">RM</text>
                                <text x="0" y="35" font-size="8" text-anchor="middle" fill="#666">Rapid</text>
                            </g>
                            
                            <g transform="translate(320, 200)">
                                <circle cx="0" cy="0" r="6" fill="#9C27B0"/>
                                <text x="0" y="20" font-size="10" text-anchor="middle" fill="#333">UM</text>
                                <text x="0" y="35" font-size="8" text-anchor="middle" fill="#666">Ultrarapid</text>
                            </g>
                            
                            <!-- Activity arrow -->
                            <defs>
                                <marker id="arrow-activity" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#1E64C8" />
                                </marker>
                            </defs>
                            <line x1="50" y1="265" x2="300" y2="265" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow-activity)"/>
                            <text x="175" y="280" text-anchor="middle" font-size="11" font-weight="600" fill="#1E64C8">Increasing Enzyme Activity</text>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Section 2: Drug Metabolism -->
            <div class="section">
                <div class="section-header">
                    <div class="section-number">2</div>
                    <div class="section-title">Drug Metabolism & Enzyme Polymorphisms</div>
                </div>
                
                <div class="section-content">
                    <div class="section-text">
                        <div class="section-description">
                            The cytochrome P450 (CYP) enzyme family is responsible for metabolizing approximately 75% of all drugs. Genetic polymorphisms in CYP genes can significantly alter enzyme activity, leading to altered drug plasma concentrations and clinical effects. Transporters also play crucial roles in drug absorption, distribution, and elimination.
                        </div>
                        
                        <div class="key-points">
                            <div class="key-points-title">Major Drug-Metabolizing Enzymes:</div>
                            <ul>
                                <li><strong>CYP2D6:</strong> Metabolizes antidepressants, antipsychotics, beta-blockers, opioids</li>
                                <li><strong>CYP2C19:</strong> Processes PPIs, clopidogrel, some antidepressants</li>
                                <li><strong>CYP2C9:</strong> Metabolizes warfarin, NSAIDs, phenytoin</li>
                                <li><strong>CYP3A4/5:</strong> Most abundant, metabolizes >50% of drugs</li>
                                <li><strong>Transporters (SLCO1B1, ABCB1):</strong> Affect drug uptake and efflux</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <div class="example-title">Clinical Example: Codeine Metabolism</div>
                            <div class="example-content">
                                CYP2D6 converts codeine to morphine (active form). Poor metabolizers get minimal pain relief, while ultrarapid metabolizers risk morphine toxicity. This is particularly dangerous in children and breastfeeding mothers.
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-diagram">
                        <svg class="diagram-svg" viewBox="0 0 350 300">
                            <!-- Title -->
                            <text x="175" y="20" text-anchor="middle" font-size="14" font-weight="700" fill="#1E64C8">Drug Metabolism Pathway</text>
                            
                            <!-- Prodrug (Inactive) -->
                            <g transform="translate(50, 50)">
                                <circle class="substrate-molecule" cx="0" cy="0" r="25"/>
                                <text x="0" y="5" text-anchor="middle" font-size="20">üíä</text>
                                <text x="0" y="45" text-anchor="middle" font-size="12" font-weight="600" fill="#333">Prodrug</text>
                                <text x="0" y="60" text-anchor="middle" font-size="10" fill="#666">(Inactive)</text>
                            </g>
                            
                            <!-- Enzyme with variants -->
                            <g transform="translate(175, 50)">
                                <ellipse cx="0" cy="0" rx="45" ry="30" fill="#5088d4" stroke="white" stroke-width="3" opacity="0.9"/>
                                <text x="0" y="5" text-anchor="middle" font-size="18">‚öóÔ∏è</text>
                                <text x="0" y="45" text-anchor="middle" class="enzyme-label">CYP2D6</text>
                                
                                <!-- Activity indicators -->
                                <g transform="translate(0, 70)">
                                    <text x="0" y="0" text-anchor="middle" font-size="9" fill="#666">Activity Level:</text>
                                    
                                    <!-- Poor Metabolizer -->
                                    <rect x="-40" y="8" width="25" height="6" class="activity-bar-low" rx="3"/>
                                    <text x="-27" y="22" text-anchor="middle" font-size="8" fill="#666">PM</text>
                                    
                                    <!-- Normal Metabolizer -->
                                    <rect x="-12" y="8" width="25" height="6" class="activity-bar" rx="3"/>
                                    <text x="0" y="22" text-anchor="middle" font-size="8" fill="#666">NM</text>
                                    
                                    <!-- Ultrarapid Metabolizer -->
                                    <rect x="15" y="8" width="25" height="6" fill="#9C27B0" rx="3"/>
                                    <text x="27" y="22" text-anchor="middle" font-size="8" fill="#666">UM</text>
                                </g>
                            </g>
                            
                            <!-- Active Drug -->
                            <g transform="translate(300, 50)">
                                <circle class="metabolite-molecule" cx="0" cy="0" r="25"/>
                                <text x="0" y="5" text-anchor="middle" font-size="20">‚úì</text>
                                <text x="0" y="45" text-anchor="middle" font-size="12" font-weight="600" fill="#333">Active Drug</text>
                                <text x="0" y="60" text-anchor="middle" font-size="10" fill="#666">(Metabolite)</text>
                            </g>
                            
                            <!-- Arrows showing conversion -->
                            <defs>
                                <marker id="arrow-meta" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#1E64C8" />
                                </marker>
                            </defs>
                            <path d="M 85,50 L 120,50" stroke="#1E64C8" stroke-width="2.5" fill="none" marker-end="url(#arrow-meta)"/>
                            <path d="M 230,50 L 265,50" stroke="#1E64C8" stroke-width="2.5" fill="none" marker-end="url(#arrow-meta)"/>
                            
                            <!-- Clinical Outcomes based on metabolizer status -->
                            <g transform="translate(25, 170)">
                                <text x="0" y="0" font-size="12" font-weight="700" fill="#1E64C8">Clinical Outcomes:</text>
                                
                                <!-- PM Outcome -->
                                <g transform="translate(0, 25)">
                                    <rect x="0" y="0" width="280" height="30" fill="#ffebee" stroke="#ff6b6b" stroke-width="2" rx="5"/>
                                    <text x="10" y="18" font-size="11" font-weight="600" fill="#333">Poor Metabolizer (PM):</text>
                                    <text x="145" y="18" font-size="10" fill="#666">‚Üì Active drug ‚Üí Reduced efficacy</text>
                                </g>
                                
                                <!-- NM Outcome -->
                                <g transform="translate(0, 60)">
                                    <rect x="0" y="0" width="280" height="30" fill="#e8f5e9" stroke="#4CAF50" stroke-width="2" rx="5"/>
                                    <text x="10" y="18" font-size="11" font-weight="600" fill="#333">Normal Metabolizer (NM):</text>
                                    <text x="155" y="18" font-size="10" fill="#666">Normal drug levels</text>
                                </g>
                                
                                <!-- UM Outcome -->
                                <g transform="translate(0, 95)">
                                    <rect x="0" y="0" width="280" height="30" fill="#f3e5f5" stroke="#9C27B0" stroke-width="2" rx="5"/>
                                    <text x="10" y="18" font-size="11" font-weight="600" fill="#333">Ultrarapid Metabolizer (UM):</text>
                                    <text x="175" y="18" font-size="10" fill="#666">‚Üë Active drug ‚Üí Risk of toxicity</text>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Section 3: Dosing Algorithms -->
            <div class="section">
                <div class="section-header">
                    <div class="section-number">3</div>
                    <div class="section-title">Genotype-Guided Dosing Algorithms</div>
                </div>
                
                <div class="section-content">
                    <div class="section-text">
                        <div class="section-description">
                            Pharmacogenomic-guided dosing algorithms integrate genetic information with clinical factors to optimize drug dosing. These algorithms have been validated for several high-risk medications and are increasingly being implemented in clinical practice to improve efficacy and reduce adverse events.
                        </div>
                        
                        <div class="key-points">
                            <div class="key-points-title">Key Dosing Applications:</div>
                            <ul>
                                <li><strong>Warfarin:</strong> VKORC1 and CYP2C9 variants guide initial dosing (30-40% dose variation)</li>
                                <li><strong>Clopidogrel:</strong> CYP2C19 LOF alleles indicate need for alternative agents</li>
                                <li><strong>Thiopurines:</strong> TPMT and NUDT15 variants prevent severe myelosuppression</li>
                                <li><strong>Fluoropyrimidines:</strong> DPYD variants reduce 5-FU/capecitabine toxicity risk</li>
                                <li><strong>Tacrolimus:</strong> CYP3A5 genotype optimizes immunosuppression dosing</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <div class="example-title">Clinical Example: Warfarin Dosing</div>
                            <div class="example-content">
                                Patient with VKORC1 -1639 AA and CYP2C9 *1/*3 genotypes requires ~30% lower warfarin dose than wild-type patients. Genotype-guided dosing reduces time to therapeutic INR and bleeding events.
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-diagram">
                        <svg class="diagram-svg" viewBox="0 0 350 300">
                            <!-- Title -->
                            <text x="175" y="20" text-anchor="middle" font-size="14" font-weight="700" fill="#1E64C8">Warfarin Dosing Algorithm</text>
                            
                            <!-- Input factors -->
                            <g transform="translate(30, 45)">
                                <text x="0" y="0" font-size="11" font-weight="700" fill="#333">Input Factors:</text>
                                
                                <!-- Genetic factors -->
                                <rect x="0" y="10" width="130" height="60" fill="#e3f2fd" stroke="#1E64C8" stroke-width="2" rx="6"/>
                                <text x="65" y="28" text-anchor="middle" font-size="10" font-weight="600" fill="#1E64C8">Genetic Factors</text>
                                <text x="10" y="43" font-size="9" fill="#333">‚Ä¢ VKORC1 genotype</text>
                                <text x="10" y="55" font-size="9" fill="#333">‚Ä¢ CYP2C9 variants</text>
                                <text x="10" y="67" font-size="9" fill="#333">‚Ä¢ CYP4F2 variants</text>
                                
                                <!-- Clinical factors -->
                                <rect x="0" y="80" width="130" height="75" fill="#fff3cd" stroke="#ffc107" stroke-width="2" rx="6"/>
                                <text x="65" y="98" text-anchor="middle" font-size="10" font-weight="600" fill="#856404">Clinical Factors</text>
                                <text x="10" y="113" font-size="9" fill="#333">‚Ä¢ Age, weight, height</text>
                                <text x="10" y="125" font-size="9" fill="#333">‚Ä¢ Medications</text>
                                <text x="10" y="137" font-size="9" fill="#333">‚Ä¢ Indication</text>
                                <text x="10" y="149" font-size="9" fill="#333">‚Ä¢ Target INR</text>
                            </g>
                            
                            <!-- Algorithm processor -->
                            <g transform="translate(190, 80)">
                                <rect x="0" y="0" width="100" height="70" fill="url(#alg-gradient)" stroke="#1E64C8" stroke-width="3" rx="8"/>
                                <text x="50" y="25" text-anchor="middle" font-size="11" font-weight="700" fill="white">Dosing</text>
                                <text x="50" y="40" text-anchor="middle" font-size="11" font-weight="700" fill="white">Algorithm</text>
                                <text x="50" y="60" text-anchor="middle" font-size="18">üßÆ</text>
                                
                                <defs>
                                    <linearGradient id="alg-gradient" x1="0%" y1="0%" x2="0%" y2="100%">
                                        <stop offset="0%" style="stop-color:#1E64C8;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#5088d4;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                            </g>
                            
                            <!-- Output: Dose recommendations -->
                            <g transform="translate(30, 185)">
                                <text x="0" y="0" font-size="11" font-weight="700" fill="#333">Recommended Doses:</text>
                                
                                <!-- Low dose -->
                                <g transform="translate(0, 15)">
                                    <rect x="0" y="0" width="90" height="28" fill="#e8f5e9" stroke="#4CAF50" stroke-width="2" rx="5"/>
                                    <text x="45" y="12" text-anchor="middle" font-size="9" font-weight="600" fill="#333">Low Sensitivity</text>
                                    <text x="45" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#4CAF50">2-3 mg/day</text>
                                </g>
                                
                                <!-- Intermediate dose -->
                                <g transform="translate(105, 15)">
                                    <rect x="0" y="0" width="90" height="28" fill="#fff8e1" stroke="#FFC107" stroke-width="2" rx="5"/>
                                    <text x="45" y="12" text-anchor="middle" font-size="9" font-weight="600" fill="#333">Intermediate</text>
                                    <text x="45" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#F57C00">3-5 mg/day</text>
                                </g>
                                
                                <!-- High dose -->
                                <g transform="translate(210, 15)">
                                    <rect x="0" y="0" width="90" height="28" fill="#fce4ec" stroke="#E91E63" stroke-width="2" rx="5"/>
                                    <text x="45" y="12" text-anchor="middle" font-size="9" font-weight="600" fill="#333">Low Sensitivity</text>
                                    <text x="45" y="22" text-anchor="middle" font-size="10" font-weight="700" fill="#C2185B">5-7 mg/day</text>
                                </g>
                                
                                <!-- Benefits box -->
                                <g transform="translate(0, 55)">
                                    <rect x="0" y="0" width="300" height="45" fill="#f1f8ff" stroke="#0366d6" stroke-width="2" rx="6" stroke-dasharray="4,2"/>
                                    <text x="10" y="15" font-size="10" font-weight="600" fill="#0366d6">Benefits:</text>
                                    <text x="10" y="28" font-size="9" fill="#333">‚úì 25-30% improvement in time to therapeutic INR</text>
                                    <text x="10" y="40" font-size="9" fill="#333">‚úì Reduced risk of adverse events (bleeding/clotting)</text>
                                </g>
                            </g>
                            
                            <!-- Connecting arrows -->
                            <defs>
                                <marker id="arrow-dose" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
                                    <polygon points="0 0, 8 3, 0 6" fill="#1E64C8" />
                                </marker>
                            </defs>
                            <path d="M 165,80 L 185,95" stroke="#1E64C8" stroke-width="2" fill="none" marker-end="url(#arrow-dose)"/>
                            <path d="M 165,130 L 185,120" stroke="#1E64C8" stroke-width="2" fill="none" marker-end="url(#arrow-dose)"/>
                            <path d="M 240,155 L 175,185" stroke="#1E64C8" stroke-width="2" fill="none" marker-end="url(#arrow-dose)"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Section 4: CPIC Guidelines -->
            <div class="section">
                <div class="section-header">
                    <div class="section-number">4</div>
                    <div class="section-title">CPIC Guidelines & Implementation</div>
                </div>
                
                <div class="section-content">
                    <div class="section-text">
                        <div class="section-description">
                            The Clinical Pharmacogenetics Implementation Consortium (CPIC) provides peer-reviewed, evidence-based guidelines for translating genetic test results into actionable prescribing decisions. These guidelines are freely available and regularly updated to reflect current evidence.
                        </div>
                        
                        <div class="key-points">
                            <div class="key-points-title">CPIC Framework:</div>
                            <ul>
                                <li><strong>Level A:</strong> Strong recommendation - preponderance of evidence supports action</li>
                                <li><strong>Level B:</strong> Moderate recommendation - evidence supports action</li>
                                <li><strong>Level C:</strong> Optional - evidence is weak/conflicting</li>
                                <li><strong>Level D:</strong> No recommendation - insufficient or no evidence</li>
                                <li><strong>Gene-Drug Pairs:</strong> >460 guidelines covering 24 genes and 100+ drugs</li>
                            </ul>
                        </div>
                        
                        <div class="example-box">
                            <div class="example-title">Clinical Example: HLA-B*57:01 & Abacavir</div>
                            <div class="example-content">
                                CPIC Level A recommendation: DO NOT prescribe abacavir to patients positive for HLA-B*57:01 due to nearly 100% risk of severe hypersensitivity reaction. Pre-emptive testing is standard of care.
                            </div>
                        </div>
                    </div>
                    
                    <div class="section-diagram">
                        <svg class="diagram-svg" viewBox="0 0 350 300">
                            <!-- Title -->
                            <text x="175" y="20" text-anchor="middle" font-size="14" font-weight="700" fill="#1E64C8">CPIC Guideline Levels</text>
                            
                            <!-- Guideline levels pyramid -->
                            <g transform="translate(100, 40)">
                                <!-- Level A - Top (highest priority) -->
                                <g transform="translate(0, 0)">
                                    <path d="M 75,0 L 150,40 L 0,40 Z" class="level-a"/>
                                    <text x="75" y="25" class="recommendation-text">Level A</text>
                                    <text x="75" y="70" text-anchor="middle" font-size="10" font-weight="600" fill="#333">Strong Evidence</text>
                                    <text x="75" y="82" text-anchor="middle" font-size="8" fill="#666">Alter prescribing</text>
                                </g>
                                
                                <!-- Level B -->
                                <g transform="translate(0, 50)">
                                    <path d="M 50,0 L 100,50 L 0,50 Z" class="level-b"/>
                                    <text x="50" y="30" class="recommendation-text">Level B</text>
                                    <text x="50" y="75" text-anchor="middle" font-size="10" font-weight="600" fill="#333">Moderate</text>
                                </g>
                                
                                <!-- Level C -->
                                <g transform="translate(0, 110)">
                                    <path d="M 25,0 L 50,40 L 0,40 Z" class="level-c"/>
                                    <text x="25" y="25" class="recommendation-text">C</text>
                                    <text x="25" y="60" text-anchor="middle" font-size="10" font-weight="600" fill="#333">Optional</text>
                                </g>
                                
                                <!-- Level D - Base -->
                                <g transform="translate(0, 160)">
                                    <rect x="0" y="0" width="20" height="20" class="level-d"/>
                                    <text x="10" y="14" class="recommendation-text">D</text>
                                    <text x="10" y="35" text-anchor="middle" font-size="9" font-weight="600" fill="#333">No Rec.</text>
                                </g>
                            </g>
                            
                            <!-- Example gene-drug pairs -->
                            <g transform="translate(20, 210)">
                                <text x="0" y="0" font-size="11" font-weight="700" fill="#1E64C8">Key Gene-Drug Pairs:</text>
                                
                                <!-- Examples with levels -->
                                <g transform="translate(0, 15)">
                                    <circle cx="5" cy="0" r="4" fill="#4CAF50"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">TPMT</tspan> - Thiopurines (A)</text>
                                </g>
                                
                                <g transform="translate(0, 30)">
                                    <circle cx="5" cy="0" r="4" fill="#4CAF50"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">HLA-B*57:01</tspan> - Abacavir (A)</text>
                                </g>
                                
                                <g transform="translate(0, 45)">
                                    <circle cx="5" cy="0" r="4" fill="#8BC34A"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">CYP2C19</tspan> - Clopidogrel (A)</text>
                                </g>
                                
                                <g transform="translate(0, 60)">
                                    <circle cx="5" cy="0" r="4" fill="#8BC34A"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">DPYD</tspan> - Fluoropyrimidines (A)</text>
                                </g>
                                
                                <g transform="translate(180, 15)">
                                    <circle cx="5" cy="0" r="4" fill="#FFC107"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">CYP2C9</tspan> - Warfarin (A/B)</text>
                                </g>
                                
                                <g transform="translate(180, 30)">
                                    <circle cx="5" cy="0" r="4" fill="#8BC34A"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">CYP2D6</tspan> - Codeine (A)</text>
                                </g>
                                
                                <g transform="translate(180, 45)">
                                    <circle cx="5" cy="0" r="4" fill="#4CAF50"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">G6PD</tspan> - Rasburicase (A)</text>
                                </g>
                                
                                <g transform="translate(180, 60)">
                                    <circle cx="5" cy="0" r="4" fill="#8BC34A"/>
                                    <text x="15" y="4" font-size="10" fill="#333"><tspan font-weight="600">SLCO1B1</tspan> - Simvastatin (A)</text>
                                </g>
                            </g>
                        </svg>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</body>
</html>