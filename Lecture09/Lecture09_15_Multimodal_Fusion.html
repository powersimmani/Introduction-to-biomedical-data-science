<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-modal Fusion - Comprehensive Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 40px 20px;
        }
        
        .container {
            width: 960px;
            padding: 35px 45px;
            background: white;
        }
        
        .title {
            font-size: 28px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .fusion-section {
            background: #f8fbff;
            border: 2.5px solid #1E64C8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .fusion-title {
            font-size: 18px;
            font-weight: 700;
            color: #1E64C8;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
            margin-bottom: 30px;
        }
        
        .concept-card {
            background: white;
            border: 2.5px solid #1E64C8;
            border-radius: 10px;
            padding: 16px;
            transition: all 0.3s;
            min-height: 100px;
        }
        
        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(30, 100, 200, 0.2);
            background: #f8fbff;
        }
        
        .concept-name {
            font-size: 17px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .concept-desc {
            font-size: 14px;
            color: #333;
            line-height: 1.5;
        }
        
        .detailed-section {
            background: white;
            border: 2.5px solid #1E64C8;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .section-header {
            font-size: 22px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #1E64C8;
        }
        
        .subsection {
            margin-bottom: 20px;
        }
        
        .subsection-title {
            font-size: 16px;
            font-weight: 700;
            color: #2c5aa0;
            margin-bottom: 10px;
            margin-top: 15px;
        }
        
        .description-text {
            font-size: 14px;
            line-height: 1.7;
            color: #333;
            margin-bottom: 12px;
        }
        
        .bullet-list {
            margin-left: 20px;
            margin-bottom: 12px;
        }
        
        .bullet-list li {
            font-size: 14px;
            line-height: 1.6;
            color: #333;
            margin-bottom: 8px;
        }
        
        .example-box {
            background: #f0f7ff;
            border-left: 4px solid #1E64C8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .example-title {
            font-size: 14px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .example-text {
            font-size: 13px;
            line-height: 1.6;
            color: #333;
        }
        
        .diagram-container {
            background: #fafafa;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .pros-cons-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .pros-box, .cons-box {
            padding: 15px;
            border-radius: 8px;
        }
        
        .pros-box {
            background: #e8f5e9;
            border: 2px solid #4caf50;
        }
        
        .cons-box {
            background: #ffebee;
            border: 2px solid #f44336;
        }
        
        .box-title {
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .pros-box .box-title {
            color: #2e7d32;
        }
        
        .cons-box .box-title {
            color: #c62828;
        }
        
        .box-item {
            font-size: 13px;
            line-height: 1.5;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Multi-modal Fusion: Comprehensive Guide</div>
        
        <div class="fusion-section">
            <div class="fusion-title">Fusion Strategies Comparison</div>
            <svg width="880" height="260" viewBox="0 0 880 260">
                <!-- Early Fusion -->
                <g transform="translate(20, 20)">
                    <text x="120" y="0" font-size="13" fill="#1E64C8" font-weight="700" text-anchor="middle">Early Fusion</text>
                    
                    <!-- Modality 1 -->
                    <rect x="20" y="15" width="80" height="40" rx="5" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="60" y="38" font-size="11" fill="#1E64C8" font-weight="600" text-anchor="middle">MRI T1</text>
                    
                    <!-- Modality 2 -->
                    <rect x="120" y="15" width="80" height="40" rx="5" fill="#d4e7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="160" y="38" font-size="11" fill="#1E64C8" font-weight="600" text-anchor="middle">MRI T2</text>
                    
                    <!-- Concatenation -->
                    <path d="M 60 55 L 60 75 L 110 75" stroke="#1E64C8" stroke-width="2"/>
                    <path d="M 160 55 L 160 75 L 110 75" stroke="#1E64C8" stroke-width="2"/>
                    <circle cx="110" cy="75" r="8" fill="#1E64C8"/>
                    <text x="110" y="79" font-size="10" fill="white" font-weight="700" text-anchor="middle">⊕</text>
                    
                    <path d="M 110 83 L 110 100" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Joint processing -->
                    <rect x="50" y="100" width="120" height="50" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="110" y="120" font-size="11" fill="#1E64C8" font-weight="600" text-anchor="middle">Joint CNN</text>
                    <text x="110" y="135" font-size="9" fill="#666" text-anchor="middle">Shared Features</text>
                    
                    <path d="M 110 150 L 110 170" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Output -->
                    <rect x="70" y="170" width="80" height="30" rx="5" fill="#90ee90" opacity="0.5" stroke="#1E64C8" stroke-width="2"/>
                    <text x="110" y="190" font-size="11" fill="#333" font-weight="600" text-anchor="middle">Prediction</text>
                    
                    <!-- Pros/Cons -->
                    <text x="120" y="215" font-size="8" fill="#28a745" font-weight="600" text-anchor="middle">✓ Learn joint features</text>
                    <text x="120" y="227" font-size="8" fill="#dc3545" font-weight="600" text-anchor="middle">✗ Missing data issues</text>
                </g>
                
                <!-- Middle Fusion -->
                <g transform="translate(300, 20)">
                    <text x="120" y="0" font-size="13" fill="#1E64C8" font-weight="700" text-anchor="middle">Intermediate Fusion</text>
                    
                    <!-- Modality 1 Path -->
                    <rect x="20" y="15" width="80" height="30" rx="5" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="60" y="33" font-size="10" fill="#1E64C8" font-weight="600" text-anchor="middle">CT</text>
                    
                    <path d="M 60 45 L 60 70" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <rect x="30" y="70" width="60" height="35" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="60" y="85" font-size="9" fill="#333" text-anchor="middle">CNN</text>
                    <text x="60" y="97" font-size="8" fill="#666" text-anchor="middle">Features</text>
                    
                    <!-- Modality 2 Path -->
                    <rect x="140" y="15" width="80" height="30" rx="5" fill="#d4e7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="180" y="33" font-size="10" fill="#1E64C8" font-weight="600" text-anchor="middle">PET</text>
                    
                    <path d="M 180 45 L 180 70" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <rect x="150" y="70" width="60" height="35" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="180" y="85" font-size="9" fill="#333" text-anchor="middle">CNN</text>
                    <text x="180" y="97" font-size="8" fill="#666" text-anchor="middle">Features</text>
                    
                    <!-- Fusion -->
                    <path d="M 60 105 L 60 125 L 120 125" stroke="#1E64C8" stroke-width="2"/>
                    <path d="M 180 105 L 180 125 L 120 125" stroke="#1E64C8" stroke-width="2"/>
                    <circle cx="120" cy="125" r="8" fill="#1E64C8"/>
                    <text x="120" y="129" font-size="10" fill="white" font-weight="700" text-anchor="middle">⊕</text>
                    
                    <path d="M 120 133 L 120 145" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Joint processing -->
                    <rect x="70" y="145" width="100" height="35" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="120" y="165" font-size="10" fill="#1E64C8" font-weight="600" text-anchor="middle">Fusion Layer</text>
                    
                    <path d="M 120 180 L 120 195" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Output -->
                    <rect x="80" y="195" width="80" height="25" rx="5" fill="#90ee90" opacity="0.5" stroke="#1E64C8" stroke-width="2"/>
                    <text x="120" y="211" font-size="10" fill="#333" font-weight="600" text-anchor="middle">Prediction</text>
                    
                    <!-- Pros/Cons -->
                    <text x="120" y="235" font-size="8" fill="#ffc107" font-weight="600" text-anchor="middle">~ Balanced approach</text>
                </g>
                
                <!-- Late Fusion -->
                <g transform="translate(600, 20)">
                    <text x="120" y="0" font-size="13" fill="#1E64C8" font-weight="700" text-anchor="middle">Late Fusion</text>
                    
                    <!-- Modality 1 Complete Path -->
                    <rect x="20" y="15" width="80" height="30" rx="5" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="60" y="33" font-size="10" fill="#1E64C8" font-weight="600" text-anchor="middle">X-ray</text>
                    
                    <path d="M 60 45 L 60 60" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <rect x="30" y="60" width="60" height="45" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="60" y="78" font-size="9" fill="#333" text-anchor="middle">CNN</text>
                    <text x="60" y="90" font-size="8" fill="#666" text-anchor="middle">Complete</text>
                    <text x="60" y="100" font-size="8" fill="#666" text-anchor="middle">Model</text>
                    
                    <path d="M 60 105 L 60 125" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <rect x="30" y="125" width="60" height="25" rx="5" fill="#ffe6cc" stroke="#1E64C8" stroke-width="2"/>
                    <text x="60" y="141" font-size="9" fill="#333" text-anchor="middle">Score 1</text>
                    
                    <!-- Modality 2 Complete Path -->
                    <rect x="140" y="15" width="80" height="30" rx="5" fill="#d4e7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="180" y="33" font-size="10" fill="#1E64C8" font-weight="600" text-anchor="middle">Clinical</text>
                    
                    <path d="M 180 45 L 180 60" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <rect x="150" y="60" width="60" height="45" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="180" y="78" font-size="9" fill="#333" text-anchor="middle">MLP</text>
                    <text x="180" y="90" font-size="8" fill="#666" text-anchor="middle">Complete</text>
                    <text x="180" y="100" font-size="8" fill="#666" text-anchor="middle">Model</text>
                    
                    <path d="M 180 105 L 180 125" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <rect x="150" y="125" width="60" height="25" rx="5" fill="#ffe6cc" stroke="#1E64C8" stroke-width="2"/>
                    <text x="180" y="141" font-size="9" fill="#333" text-anchor="middle">Score 2</text>
                    
                    <!-- Decision fusion -->
                    <path d="M 60 150 L 60 170 L 120 170" stroke="#1E64C8" stroke-width="2"/>
                    <path d="M 180 150 L 180 170 L 120 170" stroke="#1E64C8" stroke-width="2"/>
                    <circle cx="120" cy="170" r="8" fill="#1E64C8"/>
                    <text x="120" y="174" font-size="10" fill="white" font-weight="700" text-anchor="middle">Σ</text>
                    
                    <path d="M 120 178 L 120 195" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Output -->
                    <rect x="70" y="195" width="100" height="25" rx="5" fill="#90ee90" opacity="0.5" stroke="#1E64C8" stroke-width="2"/>
                    <text x="120" y="211" font-size="10" fill="#333" font-weight="600" text-anchor="middle">Final Decision</text>
                    
                    <!-- Pros/Cons -->
                    <text x="120" y="235" font-size="8" fill="#28a745" font-weight="600" text-anchor="middle">✓ Handles missing data</text>
                    <text x="120" y="247" font-size="8" fill="#dc3545" font-weight="600" text-anchor="middle">✗ No joint learning</text>
                </g>
                
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#1E64C8" />
                    </marker>
                </defs>
            </svg>
        </div>
        
        <div class="concept-grid">
            <div class="concept-card">
                <div class="concept-name">Early vs Late Fusion</div>
                <div class="concept-desc">Early: Combine at input/features. Late: Combine predictions. Depends on modality complementarity</div>
            </div>
            
            <div class="concept-card">
                <div class="concept-name">Attention Mechanisms</div>
                <div class="concept-desc">Learn importance of each modality. Dynamic weighting based on input</div>
            </div>
            
            <div class="concept-card">
                <div class="concept-name">Cross-Modal Learning</div>
                <div class="concept-desc">Transfer knowledge between modalities. Co-training and contrastive learning</div>
            </div>
            
            <div class="concept-card">
                <div class="concept-name">Missing Modalities</div>
                <div class="concept-desc">Handling incomplete data. Imputation or modality-specific pathways</div>
            </div>
        </div>

        <!-- Detailed Section 1: Attention Mechanisms -->
        <div class="detailed-section">
            <div class="section-header">1. Attention Mechanisms in Multimodal Fusion</div>
            
            <div class="description-text">
                Attention mechanisms enable the model to dynamically weight the importance of different modalities based on the input data. Rather than treating all modalities equally, attention learns which modality is most relevant for a given prediction task.
            </div>

            <div class="subsection-title">Key Concepts</div>
            <ul class="bullet-list">
                <li><strong>Self-Attention:</strong> Computes relationships within a single modality to identify important features</li>
                <li><strong>Cross-Attention:</strong> Models interactions between different modalities, allowing one modality to query information from another</li>
                <li><strong>Channel Attention:</strong> Weights different feature channels to emphasize relevant information</li>
                <li><strong>Spatial Attention:</strong> Focuses on specific spatial regions within image modalities</li>
            </ul>

            <div class="diagram-container">
                <svg width="800" height="280" viewBox="0 0 800 280">
                    <!-- Title -->
                    <text x="400" y="20" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Attention-Based Multimodal Fusion</text>
                    
                    <!-- Modality 1: MRI -->
                    <rect x="50" y="50" width="120" height="60" rx="5" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="110" y="75" font-size="12" font-weight="600" fill="#1E64C8" text-anchor="middle">MRI Features</text>
                    <text x="110" y="95" font-size="10" fill="#666" text-anchor="middle">[B, 512, H, W]</text>
                    
                    <!-- Modality 2: PET -->
                    <rect x="250" y="50" width="120" height="60" rx="5" fill="#d4e7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="310" y="75" font-size="12" font-weight="600" fill="#1E64C8" text-anchor="middle">PET Features</text>
                    <text x="310" y="95" font-size="10" fill="#666" text-anchor="middle">[B, 512, H, W]</text>
                    
                    <!-- Modality 3: Clinical -->
                    <rect x="450" y="50" width="120" height="60" rx="5" fill="#c8e6c9" stroke="#1E64C8" stroke-width="2"/>
                    <text x="510" y="75" font-size="12" font-weight="600" fill="#1E64C8" text-anchor="middle">Clinical Data</text>
                    <text x="510" y="95" font-size="10" fill="#666" text-anchor="middle">[B, 128]</text>
                    
                    <!-- Arrows to attention -->
                    <path d="M 110 110 L 110 145" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow)"/>
                    <path d="M 310 110 L 310 145" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow)"/>
                    <path d="M 510 110 L 510 145" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <!-- Attention Module -->
                    <rect x="150" y="145" width="300" height="50" rx="8" fill="#fff3cd" stroke="#ff9800" stroke-width="2.5"/>
                    <text x="300" y="165" font-size="13" font-weight="700" fill="#ff6f00" text-anchor="middle">Multi-Head Attention Module</text>
                    <text x="300" y="185" font-size="10" fill="#666" text-anchor="middle">Compute α₁, α₂, α₃ weights</text>
                    
                    <!-- Attention weights visualization -->
                    <g transform="translate(630, 50)">
                        <text x="60" y="0" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">Attention Weights</text>
                        <rect x="10" y="10" width="100" height="20" rx="3" fill="#e8f2ff" stroke="#1E64C8" stroke-width="1.5"/>
                        <rect x="10" y="10" width="60" height="20" rx="3" fill="#1E64C8" opacity="0.7"/>
                        <text x="15" y="24" font-size="9" fill="#333">α₁=0.6 (MRI)</text>
                        
                        <rect x="10" y="35" width="100" height="20" rx="3" fill="#d4e7ff" stroke="#1E64C8" stroke-width="1.5"/>
                        <rect x="10" y="35" width="30" height="20" rx="3" fill="#1E64C8" opacity="0.7"/>
                        <text x="15" y="49" font-size="9" fill="#333">α₂=0.3 (PET)</text>
                        
                        <rect x="10" y="60" width="100" height="20" rx="3" fill="#c8e6c9" stroke="#1E64C8" stroke-width="1.5"/>
                        <rect x="10" y="60" width="10" height="20" rx="3" fill="#1E64C8" opacity="0.7"/>
                        <text x="15" y="74" font-size="9" fill="#333">α₃=0.1 (Clin)</text>
                    </g>
                    
                    <!-- Arrow to fusion -->
                    <path d="M 300 195 L 300 220" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow)"/>
                    
                    <!-- Weighted Fusion -->
                    <rect x="200" y="220" width="200" height="40" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="300" y="238" font-size="12" font-weight="600" fill="#1E64C8" text-anchor="middle">Weighted Fusion</text>
                    <text x="300" y="253" font-size="10" fill="#666" text-anchor="middle">F = α₁·MRI + α₂·PET + α₃·Clinical</text>
                    
                    <defs>
                        <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#1E64C8" />
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="example-box">
                <div class="example-title">Clinical Example: Brain Tumor Diagnosis</div>
                <div class="example-text">
                    In brain tumor classification, the attention mechanism might assign high weight (α₁=0.7) to T1-weighted MRI showing tumor structure, moderate weight (α₂=0.2) to FLAIR sequence showing edema, and low weight (α₃=0.1) to patient age. For a hemorrhagic lesion, the weights might shift to emphasize T2* sequences instead.
                </div>
            </div>

            <div class="subsection-title">Mathematical Formulation</div>
            <div class="description-text">
                For modalities M₁, M₂, ..., Mₙ, the attention-weighted fusion is computed as:
            </div>
            <div class="example-box">
                <div class="example-text">
                    <strong>Attention Score:</strong> e_i = w^T · tanh(W_m · M_i + b)<br>
                    <strong>Attention Weight:</strong> α_i = exp(e_i) / Σⱼ exp(e_j)<br>
                    <strong>Fused Feature:</strong> F = Σᵢ α_i · M_i
                </div>
            </div>

            <div class="pros-cons-grid">
                <div class="pros-box">
                    <div class="box-title">✓ Advantages</div>
                    <div class="box-item">• Interpretable: Can visualize which modality contributes most</div>
                    <div class="box-item">• Adaptive: Weights adjust based on input quality</div>
                    <div class="box-item">• Robust: Can downweight noisy or missing modalities</div>
                    <div class="box-item">• Performance: Often improves accuracy over simple concatenation</div>
                </div>
                <div class="cons-box">
                    <div class="box-title">✗ Challenges</div>
                    <div class="box-item">• Computational cost: Additional parameters and operations</div>
                    <div class="box-item">• Training complexity: May require careful initialization</div>
                    <div class="box-item">• Overfitting risk: More parameters to tune</div>
                    <div class="box-item">• Design choices: Many architectural variants to choose from</div>
                </div>
            </div>
        </div>

        <!-- Detailed Section 2: Cross-Modal Learning -->
        <div class="detailed-section">
            <div class="section-header">2. Cross-Modal Learning</div>
            
            <div class="description-text">
                Cross-modal learning enables knowledge transfer between different modalities. The key idea is that modalities often share semantic information despite having different input formats. By learning shared representations, models can leverage complementary information and even handle missing modalities.
            </div>

            <div class="subsection-title">Approaches to Cross-Modal Learning</div>
            <ul class="bullet-list">
                <li><strong>Contrastive Learning:</strong> Pulls representations of corresponding multimodal samples together while pushing apart non-corresponding pairs</li>
                <li><strong>Co-training:</strong> Multiple modality-specific networks teach each other through consistency regularization</li>
                <li><strong>Knowledge Distillation:</strong> A teacher model trained on all modalities transfers knowledge to student models with fewer modalities</li>
                <li><strong>Shared Representation Learning:</strong> Projects different modalities into a common latent space</li>
            </ul>

            <div class="diagram-container">
                <svg width="800" height="320" viewBox="0 0 800 320">
                    <!-- Title -->
                    <text x="400" y="20" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Contrastive Cross-Modal Learning</text>
                    
                    <!-- Image Modality Branch -->
                    <g transform="translate(50, 50)">
                        <rect x="0" y="0" width="100" height="80" rx="5" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                        <text x="50" y="30" font-size="11" font-weight="600" fill="#1E64C8" text-anchor="middle">X-ray Image</text>
                        <text x="50" y="50" font-size="9" fill="#666" text-anchor="middle">[H×W×C]</text>
                        
                        <path d="M 50 80 L 50 110" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow2)"/>
                        
                        <rect x="0" y="110" width="100" height="60" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                        <text x="50" y="135" font-size="10" font-weight="600" fill="#333" text-anchor="middle">Image</text>
                        <text x="50" y="150" font-size="10" font-weight="600" fill="#333" text-anchor="middle">Encoder</text>
                        <text x="50" y="163" font-size="8" fill="#666" text-anchor="middle">(CNN)</text>
                        
                        <path d="M 50 170 L 50 200" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow2)"/>
                        
                        <ellipse cx="50" cy="220" rx="45" ry="25" fill="#ffccbc" stroke="#ff5722" stroke-width="2"/>
                        <text x="50" y="218" font-size="9" font-weight="600" fill="#333" text-anchor="middle">Image</text>
                        <text x="50" y="230" font-size="9" font-weight="600" fill="#333" text-anchor="middle">Embedding</text>
                    </g>
                    
                    <!-- Text Modality Branch -->
                    <g transform="translate(250, 50)">
                        <rect x="0" y="0" width="100" height="80" rx="5" fill="#c8e6c9" stroke="#1E64C8" stroke-width="2"/>
                        <text x="50" y="30" font-size="11" font-weight="600" fill="#1E64C8" text-anchor="middle">Clinical Report</text>
                        <text x="50" y="50" font-size="9" fill="#666" text-anchor="middle">[Text]</text>
                        
                        <path d="M 50 80 L 50 110" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow2)"/>
                        
                        <rect x="0" y="110" width="100" height="60" rx="5" fill="#a5d6a7" stroke="#1E64C8" stroke-width="2"/>
                        <text x="50" y="135" font-size="10" font-weight="600" fill="#333" text-anchor="middle">Text</text>
                        <text x="50" y="150" font-size="10" font-weight="600" fill="#333" text-anchor="middle">Encoder</text>
                        <text x="50" y="163" font-size="8" fill="#666" text-anchor="middle">(BERT/GPT)</text>
                        
                        <path d="M 50 170 L 50 200" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrow2)"/>
                        
                        <ellipse cx="50" cy="220" rx="45" ry="25" fill="#c5e1a5" stroke="#7cb342" stroke-width="2"/>
                        <text x="50" y="218" font-size="9" font-weight="600" fill="#333" text-anchor="middle">Text</text>
                        <text x="50" y="230" font-size="9" font-weight="600" fill="#333" text-anchor="middle">Embedding</text>
                    </g>
                    
                    <!-- Contrastive Loss Illustration -->
                    <g transform="translate(450, 50)">
                        <text x="150" y="10" font-size="12" font-weight="700" fill="#d32f2f" text-anchor="middle">Contrastive Loss</text>
                        
                        <!-- Positive pair -->
                        <circle cx="80" cy="60" r="20" fill="#ffccbc" stroke="#ff5722" stroke-width="2"/>
                        <text x="80" y="65" font-size="8" fill="#333" text-anchor="middle">Img</text>
                        
                        <circle cx="140" cy="60" r="20" fill="#c5e1a5" stroke="#7cb342" stroke-width="2"/>
                        <text x="140" y="65" font-size="8" fill="#333" text-anchor="middle">Text</text>
                        
                        <path d="M 100 60 L 120 60" stroke="#4caf50" stroke-width="3"/>
                        <text x="110" y="52" font-size="9" fill="#4caf50" font-weight="700" text-anchor="middle">Pull</text>
                        <text x="200" y="65" font-size="9" fill="#333">Same patient</text>
                        
                        <!-- Negative pair -->
                        <circle cx="80" cy="130" r="20" fill="#ffccbc" stroke="#ff5722" stroke-width="2"/>
                        <text x="80" y="135" font-size="8" fill="#333" text-anchor="middle">Img</text>
                        
                        <circle cx="220" cy="130" r="20" fill="#c5e1a5" stroke="#7cb342" stroke-width="2"/>
                        <text x="220" y="135" font-size="8" fill="#333" text-anchor="middle">Text</text>
                        
                        <path d="M 100 130 L 200 130" stroke="#f44336" stroke-width="3" stroke-dasharray="5,5"/>
                        <text x="150" y="122" font-size="9" fill="#f44336" font-weight="700" text-anchor="middle">Push</text>
                        <text x="150" y="155" font-size="9" fill="#333" text-anchor="middle">Different patients</text>
                    </g>
                    
                    <!-- Shared Space Visualization -->
                    <g transform="translate(50, 260)">
                        <rect x="0" y="0" width="700" height="50" rx="5" fill="#f5f5f5" stroke="#1E64C8" stroke-width="2" stroke-dasharray="5,5"/>
                        <text x="350" y="20" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">Shared Semantic Space</text>
                        <text x="350" y="38" font-size="9" fill="#666" text-anchor="middle">Images and text with similar meanings are close together</text>
                    </g>
                    
                    <defs>
                        <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#1E64C8" />
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="example-box">
                <div class="example-title">Clinical Example: Chest X-ray and Radiology Reports</div>
                <div class="example-text">
                    A contrastive learning model is trained on chest X-rays paired with their radiology reports. The model learns that an X-ray showing "bilateral infiltrates" should have similar embedding to the text phrase "bilateral infiltrates present." During inference, even if the report is missing, the image encoder can still produce meaningful features that capture the semantic content learned from the text during training.
                </div>
            </div>

            <div class="subsection-title">Knowledge Distillation for Missing Modalities</div>
            <div class="description-text">
                Knowledge distillation allows a model trained with all modalities (teacher) to guide training of models with subset of modalities (student), enabling robust performance even when some modalities are unavailable at test time.
            </div>

            <div class="diagram-container">
                <svg width="800" height="220" viewBox="0 0 800 220">
                    <text x="400" y="20" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Knowledge Distillation Framework</text>
                    
                    <!-- Teacher Model (All Modalities) -->
                    <g transform="translate(50, 50)">
                        <rect x="0" y="0" width="250" height="140" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2.5"/>
                        <text x="125" y="25" font-size="12" font-weight="700" fill="#1976d2" text-anchor="middle">Teacher Model (All Modalities)</text>
                        
                        <rect x="20" y="40" width="60" height="30" rx="3" fill="#bbdefb" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="50" y="59" font-size="9" fill="#333" text-anchor="middle">MRI</text>
                        
                        <rect x="95" y="40" width="60" height="30" rx="3" fill="#bbdefb" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="125" y="59" font-size="9" fill="#333" text-anchor="middle">CT</text>
                        
                        <rect x="170" y="40" width="60" height="30" rx="3" fill="#bbdefb" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="200" y="59" font-size="9" fill="#333" text-anchor="middle">PET</text>
                        
                        <path d="M 125 70 L 125 85" stroke="#1976d2" stroke-width="2"/>
                        
                        <rect x="75" y="85" width="100" height="35" rx="3" fill="#90caf9" stroke="#1976d2" stroke-width="2"/>
                        <text x="125" y="107" font-size="10" font-weight="600" fill="#333" text-anchor="middle">Rich Features</text>
                    </g>
                    
                    <!-- Student Model (Subset) -->
                    <g transform="translate(450, 50)">
                        <rect x="0" y="0" width="250" height="140" rx="8" fill="#fff3e0" stroke="#f57c00" stroke-width="2.5"/>
                        <text x="125" y="25" font-size="12" font-weight="700" fill="#f57c00" text-anchor="middle">Student Model (MRI Only)</text>
                        
                        <rect x="95" y="40" width="60" height="30" rx="3" fill="#ffe0b2" stroke="#f57c00" stroke-width="1.5"/>
                        <text x="125" y="59" font-size="9" fill="#333" text-anchor="middle">MRI</text>
                        
                        <path d="M 125 70 L 125 85" stroke="#f57c00" stroke-width="2"/>
                        
                        <rect x="75" y="85" width="100" height="35" rx="3" fill="#ffcc80" stroke="#f57c00" stroke-width="2"/>
                        <text x="125" y="107" font-size="10" font-weight="600" fill="#333" text-anchor="middle">Learned Features</text>
                    </g>
                    
                    <!-- Distillation Arrow -->
                    <path d="M 310 120 L 440 120" stroke="#d32f2f" stroke-width="3" stroke-dasharray="8,4" marker-end="url(#arrow3)"/>
                    <text x="375" y="110" font-size="11" font-weight="700" fill="#d32f2f" text-anchor="middle">Knowledge Transfer</text>
                    <text x="375" y="145" font-size="9" fill="#666" text-anchor="middle">Minimize: ||f_teacher - f_student||</text>
                    
                    <defs>
                        <marker id="arrow3" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
                            <polygon points="0 0, 12 3, 0 6" fill="#d32f2f" />
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="pros-cons-grid">
                <div class="pros-box">
                    <div class="box-title">✓ Advantages</div>
                    <div class="box-item">• Modality complementarity: Leverages unique strengths of each modality</div>
                    <div class="box-item">• Missing modality handling: Can work with incomplete data at test time</div>
                    <div class="box-item">• Transfer learning: Knowledge from one modality helps others</div>
                    <div class="box-item">• Semantic alignment: Learns shared meaning across modalities</div>
                </div>
                <div class="cons-box">
                    <div class="box-title">✗ Challenges</div>
                    <div class="box-item">• Training complexity: Requires carefully designed loss functions</div>
                    <div class="box-item">• Data requirements: Needs paired multimodal training data</div>
                    <div class="box-item">• Modality imbalance: Dominant modalities may overshadow others</div>
                    <div class="box-item">• Alignment difficulty: Different modalities may capture different aspects</div>
                </div>
            </div>
        </div>

        <!-- Detailed Section 3: Missing Modalities -->
        <div class="detailed-section">
            <div class="section-header">3. Handling Missing Modalities</div>
            
            <div class="description-text">
                In clinical practice, it's common to have incomplete multimodal data due to cost constraints, patient conditions, or equipment availability. Robust multimodal systems must handle missing modalities gracefully without significant performance degradation.
            </div>

            <div class="subsection-title">Strategies for Missing Modality Handling</div>
            <ul class="bullet-list">
                <li><strong>Imputation-based:</strong> Fill in missing modality data using learned generators or statistical methods</li>
                <li><strong>Architecture-based:</strong> Design network structures that can operate with variable numbers of modalities</li>
                <li><strong>Ensemble-based:</strong> Train separate models for each modality combination</li>
                <li><strong>Knowledge distillation:</strong> Transfer knowledge from complete to incomplete modality scenarios</li>
            </ul>

            <div class="diagram-container">
                <svg width="800" height="380" viewBox="0 0 800 380">
                    <text x="400" y="20" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Missing Modality Handling Strategies</text>
                    
                    <!-- Strategy 1: Zero Imputation -->
                    <g transform="translate(30, 50)">
                        <text x="110" y="0" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">1. Zero Imputation (Baseline)</text>
                        
                        <rect x="20" y="15" width="70" height="40" rx="4" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
                        <text x="55" y="38" font-size="10" fill="#333" text-anchor="middle">MRI ✓</text>
                        
                        <rect x="110" y="15" width="70" height="40" rx="4" fill="#ffcdd2" stroke="#f44336" stroke-width="2" stroke-dasharray="3,3"/>
                        <text x="145" y="32" font-size="10" fill="#999" text-anchor="middle">CT ✗</text>
                        <text x="145" y="45" font-size="8" fill="#999" text-anchor="middle">→ Zeros</text>
                        
                        <path d="M 55 55 L 55 75 L 110 75" stroke="#1E64C8" stroke-width="1.5"/>
                        <path d="M 145 55 L 145 75 L 110 75" stroke="#1E64C8" stroke-width="1.5" stroke-dasharray="3,3"/>
                        
                        <rect x="60" y="80" width="100" height="30" rx="4" fill="#b3d7ff" stroke="#1E64C8" stroke-width="1.5"/>
                        <text x="110" y="99" font-size="9" fill="#333" text-anchor="middle">Fusion Layer</text>
                        
                        <text x="110" y="125" font-size="8" fill="#d32f2f">⚠ Poor performance</text>
                    </g>
                    
                    <!-- Strategy 2: Generator-based Imputation -->
                    <g transform="translate(280, 50)">
                        <text x="110" y="0" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">2. Generator-based Imputation</text>
                        
                        <rect x="20" y="15" width="70" height="40" rx="4" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
                        <text x="55" y="38" font-size="10" fill="#333" text-anchor="middle">MRI ✓</text>
                        
                        <path d="M 55 55 L 55 75" stroke="#1E64C8" stroke-width="1.5"/>
                        <path d="M 55 75 L 145 75" stroke="#1E64C8" stroke-width="1.5" marker-end="url(#arrow4)"/>
                        
                        <rect x="110" y="60" width="70" height="30" rx="4" fill="#fff9c4" stroke="#fbc02d" stroke-width="2"/>
                        <text x="145" y="78" font-size="9" fill="#333" text-anchor="middle">Generator</text>
                        
                        <path d="M 145 90 L 145 105" stroke="#1E64C8" stroke-width="1.5"/>
                        
                        <rect x="110" y="105" width="70" height="35" rx="4" fill="#e1bee7" stroke="#9c27b0" stroke-width="2"/>
                        <text x="145" y="118" font-size="9" fill="#333" text-anchor="middle">Synthetic</text>
                        <text x="145" y="130" font-size="9" fill="#333" text-anchor="middle">CT</text>
                        
                        <path d="M 55 95 L 55 155 L 110 155" stroke="#1E64C8" stroke-width="1.5"/>
                        <path d="M 145 140 L 145 155 L 110 155" stroke="#1E64C8" stroke-width="1.5"/>
                        
                        <rect x="60" y="160" width="100" height="30" rx="4" fill="#b3d7ff" stroke="#1E64C8" stroke-width="1.5"/>
                        <text x="110" y="179" font-size="9" fill="#333" text-anchor="middle">Fusion Layer</text>
                        
                        <text x="110" y="205" font-size="8" fill="#4caf50">✓ Better features</text>
                    </g>
                    
                    <!-- Strategy 3: Modality-Specific Pathways -->
                    <g transform="translate(550, 50)">
                        <text x="110" y="0" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">3. Modality-Specific Paths</text>
                        
                        <rect x="20" y="15" width="70" height="40" rx="4" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
                        <text x="55" y="38" font-size="10" fill="#333" text-anchor="middle">MRI ✓</text>
                        
                        <rect x="110" y="15" width="70" height="40" rx="4" fill="#ffcdd2" stroke="#f44336" stroke-width="2" stroke-dasharray="3,3"/>
                        <text x="145" y="32" font-size="10" fill="#999" text-anchor="middle">CT ✗</text>
                        <text x="145" y="45" font-size="8" fill="#999" text-anchor="middle">Skip path</text>
                        
                        <path d="M 55 55 L 55 90" stroke="#4caf50" stroke-width="2"/>
                        
                        <rect x="20" y="90" width="70" height="35" rx="4" fill="#a5d6a7" stroke="#4caf50" stroke-width="2"/>
                        <text x="55" y="103" font-size="9" fill="#333" text-anchor="middle">MRI-only</text>
                        <text x="55" y="115" font-size="9" fill="#333" text-anchor="middle">Branch</text>
                        
                        <path d="M 55 125 L 55 150" stroke="#1E64C8" stroke-width="1.5"/>
                        
                        <rect x="20" y="150" width="160" height="30" rx="4" fill="#b3d7ff" stroke="#1E64C8" stroke-width="1.5"/>
                        <text x="100" y="169" font-size="9" fill="#333" text-anchor="middle">Adaptive Fusion</text>
                        
                        <text x="100" y="195" font-size="8" fill="#4caf50">✓ Flexible architecture</text>
                    </g>
                    
                    <!-- Strategy 4: Feature Disentanglement -->
                    <g transform="translate(150, 240)">
                        <text x="250" y="0" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">4. Feature Disentanglement (Advanced)</text>
                        
                        <rect x="30" y="20" width="80" height="35" rx="4" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
                        <text x="70" y="41" font-size="10" fill="#333" text-anchor="middle">MRI ✓</text>
                        
                        <path d="M 70 55 L 70 80" stroke="#1E64C8" stroke-width="1.5"/>
                        
                        <!-- Shared and specific features -->
                        <rect x="20" y="80" width="50" height="30" rx="3" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5"/>
                        <text x="45" y="98" font-size="8" fill="#333" text-anchor="middle">Shared</text>
                        
                        <rect x="75" y="80" width="50" height="30" rx="3" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1.5"/>
                        <text x="100" y="98" font-size="8" fill="#333" text-anchor="middle">MRI-spec</text>
                        
                        <!-- Missing modality with learned features -->
                        <rect x="250" y="20" width="80" height="35" rx="4" fill="#ffcdd2" stroke="#f44336" stroke-width="2" stroke-dasharray="3,3"/>
                        <text x="290" y="35" font-size="10" fill="#999" text-anchor="middle">CT ✗</text>
                        
                        <path d="M 290 55 L 290 80" stroke="#f44336" stroke-width="1.5" stroke-dasharray="3,3"/>
                        
                        <rect x="240" y="80" width="50" height="30" rx="3" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5"/>
                        <text x="265" y="93" font-size="8" fill="#333" text-anchor="middle">Shared</text>
                        <text x="265" y="103" font-size="7" fill="#999" text-anchor="middle">(Inferred)</text>
                        
                        <rect x="295" y="80" width="50" height="30" rx="3" fill="#ffebee" stroke="#f44336" stroke-width="1.5" stroke-dasharray="3,3"/>
                        <text x="320" y="98" font-size="8" fill="#999" text-anchor="middle">CT-spec</text>
                        
                        <!-- Fusion -->
                        <path d="M 45 110 L 45 130 L 180 130" stroke="#1E64C8" stroke-width="1.5"/>
                        <path d="M 100 110 L 100 130 L 180 130" stroke="#1E64C8" stroke-width="1.5"/>
                        <path d="M 265 110 L 265 130 L 180 130" stroke="#0288d1" stroke-width="1.5"/>
                        
                        <rect x="130" y="135" width="100" height="30" rx="4" fill="#b3d7ff" stroke="#1E64C8" stroke-width="1.5"/>
                        <text x="180" y="154" font-size="9" fill="#333" text-anchor="middle">Final Prediction</text>
                        
                        <text x="250" y="185" font-size="8" fill="#2196f3">✓ Leverages shared features</text>
                    </g>
                    
                    <defs>
                        <marker id="arrow4" markerWidth="8" markerHeight="8" refX="7" refY="2.5" orient="auto">
                            <polygon points="0 0, 8 2.5, 0 5" fill="#1E64C8" />
                        </marker>
                    </defs>
                </svg>
            </div>

            <div class="example-box">
                <div class="example-title">Clinical Scenario: Multi-sequence MRI Analysis</div>
                <div class="example-text">
                    A patient undergoes brain MRI but motion artifacts corrupt the FLAIR sequence. Instead of discarding the entire study, the model uses: (1) available T1 and T2 sequences through their specific pathways, (2) generates synthetic FLAIR features from T1/T2 using a pre-trained generator, and (3) fuses these with reduced weight on the synthetic features. The final diagnosis achieves 92% accuracy compared to 95% with all sequences, much better than 78% with naive zero-filling.
                </div>
            </div>

            <div class="subsection-title">Technical Approaches</div>
            
            <div class="description-text">
                <strong>1. Generative Imputation:</strong> Train a generator network G that learns to synthesize missing modality M₂ from available modality M₁: M̂₂ = G(M₁)
            </div>
            
            <div class="description-text">
                <strong>2. Feature Disentanglement:</strong> Decompose features into modality-specific and shared components:
                <br>• f_MRI = f_shared + f_MRI-specific
                <br>• f_CT = f_shared + f_CT-specific
                <br>When CT is missing, use only f_MRI + f_shared for prediction
            </div>
            
            <div class="description-text">
                <strong>3. Uncertainty-aware Fusion:</strong> Model epistemic uncertainty when modalities are missing, reducing confidence in predictions:
                <br>• p(y|M₁,M₂) has low uncertainty
                <br>• p(y|M₁) has higher uncertainty, reflected in softer predictions
            </div>

            <div class="pros-cons-grid">
                <div class="pros-box">
                    <div class="box-title">✓ Advantages</div>
                    <div class="box-item">• Clinical applicability: Works with real-world incomplete data</div>
                    <div class="box-item">• Flexibility: Can handle any combination of available modalities</div>
                    <div class="box-item">• Graceful degradation: Performance decreases smoothly</div>
                    <div class="box-item">• Cost-effective: Can make decisions with fewer expensive scans</div>
                </div>
                <div class="cons-box">
                    <div class="box-title">✗ Challenges</div>
                    <div class="box-item">• Training complexity: Must train on all modality combinations</div>
                    <div class="box-item">• Imputation quality: Synthetic features may introduce artifacts</div>
                    <div class="box-item">• Performance gap: Always some loss compared to complete data</div>
                    <div class="box-item">• Uncertainty calibration: Difficult to properly quantify confidence</div>
                </div>
            </div>
        </div>

        <!-- Detailed Section 4: Clinical Protocols -->
        <div class="detailed-section">
            <div class="section-header">4. Clinical Imaging Protocols and Multimodal Integration</div>
            
            <div class="description-text">
                Different medical imaging modalities capture complementary physiological and anatomical information. Understanding these differences is crucial for designing effective multimodal fusion systems. Each modality has unique strengths and optimal use cases.
            </div>

            <div class="subsection-title">Common Medical Imaging Modalities</div>
            
            <div class="diagram-container">
                <svg width="800" height="450" viewBox="0 0 800 450">
                    <text x="400" y="25" font-size="14" font-weight="700" fill="#1E64C8" text-anchor="middle">Medical Imaging Modalities Comparison</text>
                    
                    <!-- MRI Sequences -->
                    <g transform="translate(30, 50)">
                        <rect x="0" y="0" width="170" height="180" rx="8" fill="#e3f2fd" stroke="#1976d2" stroke-width="2.5"/>
                        <text x="85" y="25" font-size="12" font-weight="700" fill="#1976d2" text-anchor="middle">MRI Sequences</text>
                        
                        <rect x="10" y="35" width="150" height="30" rx="4" fill="#bbdefb" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="15" y="50" font-size="9" font-weight="600" fill="#333">T1-weighted</text>
                        <text x="15" y="60" font-size="7" fill="#666">Anatomy, structure, contrast</text>
                        
                        <rect x="10" y="70" width="150" height="30" rx="4" fill="#90caf9" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="15" y="85" font-size="9" font-weight="600" fill="#333">T2-weighted</text>
                        <text x="15" y="95" font-size="7" fill="#666">Fluid, edema, pathology</text>
                        
                        <rect x="10" y="105" width="150" height="30" rx="4" fill="#64b5f6" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="15" y="120" font-size="9" font-weight="600" fill="#333">FLAIR</text>
                        <text x="15" y="130" font-size="7" fill="#666">Suppress CSF, lesions</text>
                        
                        <rect x="10" y="140" width="150" height="30" rx="4" fill="#42a5f5" stroke="#1976d2" stroke-width="1.5"/>
                        <text x="15" y="155" font-size="9" font-weight="600" fill="#333">DWI</text>
                        <text x="15" y="165" font-size="7" fill="#666">Diffusion, acute stroke</text>
                    </g>
                    
                    <!-- CT -->
                    <g transform="translate(220, 50)">
                        <rect x="0" y="0" width="170" height="110" rx="8" fill="#fff3e0" stroke="#f57c00" stroke-width="2.5"/>
                        <text x="85" y="25" font-size="12" font-weight="700" fill="#f57c00" text-anchor="middle">CT Imaging</text>
                        
                        <text x="10" y="45" font-size="9" font-weight="600" fill="#333">Strengths:</text>
                        <text x="10" y="58" font-size="8" fill="#666">• Fast acquisition</text>
                        <text x="10" y="70" font-size="8" fill="#666">• Bone detail</text>
                        <text x="10" y="82" font-size="8" fill="#666">• Calcifications</text>
                        <text x="10" y="94" font-size="8" fill="#666">• Hemorrhage detection</text>
                    </g>
                    
                    <!-- PET -->
                    <g transform="translate(410, 50)">
                        <rect x="0" y="0" width="170" height="110" rx="8" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2.5"/>
                        <text x="85" y="25" font-size="12" font-weight="700" fill="#7b1fa2" text-anchor="middle">PET Imaging</text>
                        
                        <text x="10" y="45" font-size="9" font-weight="600" fill="#333">Information:</text>
                        <text x="10" y="58" font-size="8" fill="#666">• Metabolic activity</text>
                        <text x="10" y="70" font-size="8" fill="#666">• FDG uptake</text>
                        <text x="10" y="82" font-size="8" fill="#666">• Tumor detection</text>
                        <text x="10" y="94" font-size="8" fill="#666">• Functional changes</text>
                    </g>
                    
                    <!-- Ultrasound -->
                    <g transform="translate(600, 50)">
                        <rect x="0" y="0" width="170" height="110" rx="8" fill="#e8f5e9" stroke="#4caf50" stroke-width="2.5"/>
                        <text x="85" y="25" font-size="12" font-weight="700" fill="#4caf50" text-anchor="middle">Ultrasound</text>
                        
                        <text x="10" y="45" font-size="9" font-weight="600" fill="#333">Characteristics:</text>
                        <text x="10" y="58" font-size="8" fill="#666">• Real-time imaging</text>
                        <text x="10" y="70" font-size="8" fill="#666">• No radiation</text>
                        <text x="10" y="82" font-size="8" fill="#666">• Soft tissue</text>
                        <text x="10" y="94" font-size="8" fill="#666">• Blood flow (Doppler)</text>
                    </g>
                    
                    <!-- Multimodal Fusion Examples -->
                    <g transform="translate(30, 250)">
                        <text x="370" y="0" font-size="13" font-weight="700" fill="#1E64C8" text-anchor="middle">Clinical Fusion Examples</text>
                        
                        <!-- Example 1: Brain Tumor -->
                        <rect x="0" y="15" width="350" height="80" rx="6" fill="#e8f4f8" stroke="#1E64C8" stroke-width="2"/>
                        <text x="175" y="35" font-size="11" font-weight="700" fill="#1E64C8" text-anchor="middle">Brain Tumor Characterization</text>
                        
                        <circle cx="30" cy="60" r="12" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
                        <text x="30" y="64" font-size="8" fill="#333" text-anchor="middle">T1</text>
                        <text x="85" y="63" font-size="8" fill="#333">Tumor boundaries</text>
                        
                        <circle cx="180" cy="60" r="12" fill="#90caf9" stroke="#1976d2" stroke-width="2"/>
                        <text x="180" y="64" font-size="8" fill="#333" text-anchor="middle">T2</text>
                        <text x="235" y="63" font-size="8" fill="#333">Edema extent</text>
                        
                        <circle cx="30" cy="80" r="12" fill="#64b5f6" stroke="#1976d2" stroke-width="2"/>
                        <text x="30" y="84" font-size="7" fill="#333" text-anchor="middle">FLAIR</text>
                        <text x="85" y="83" font-size="8" fill="#333">Lesion conspicuity</text>
                        
                        <circle cx="180" cy="80" r="12" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2"/>
                        <text x="180" y="84" font-size="7" fill="#333" text-anchor="middle">PET</text>
                        <text x="235" y="83" font-size="8" fill="#333">Malignancy grade</text>
                    </g>
                    
                    <!-- Example 2: Cardiac -->
                    <g transform="translate(420, 265)">
                        <rect x="0" y="0" width="350" height="80" rx="6" fill="#f8f4e8" stroke="#f57c00" stroke-width="2"/>
                        <text x="175" y="20" font-size="11" font-weight="700" fill="#f57c00" text-anchor="middle">Cardiac Disease Assessment</text>
                        
                        <circle cx="30" cy="45" r="12" fill="#ffe0b2" stroke="#f57c00" stroke-width="2"/>
                        <text x="30" y="49" font-size="8" fill="#333" text-anchor="middle">CT</text>
                        <text x="85" y="48" font-size="8" fill="#333">Coronary calcium</text>
                        
                        <circle cx="180" cy="45" r="12" fill="#bbdefb" stroke="#1976d2" stroke-width="2"/>
                        <text x="180" y="49" font-size="7" fill="#333" text-anchor="middle">MRI</text>
                        <text x="235" y="48" font-size="8" fill="#333">Function, viability</text>
                        
                        <circle cx="30" cy="65" r="12" fill="#c8e6c9" stroke="#4caf50" stroke-width="2"/>
                        <text x="30" y="69" font-size="7" fill="#333" text-anchor="middle">Echo</text>
                        <text x="85" y="68" font-size="8" fill="#333">Real-time motion</text>
                        
                        <circle cx="180" cy="65" r="12" fill="#ce93d8" stroke="#7b1fa2" stroke-width="2"/>
                        <text x="180" y="69" font-size="7" fill="#333" text-anchor="middle">PET</text>
                        <text x="235" y="68" font-size="8" fill="#333">Perfusion, metabolism</text>
                    </g>
                    
                    <!-- Example 3: Oncology -->
                    <g transform="translate(30, 380)">
                        <rect x="0" y="0" width="740" height="55" rx="6" fill="#f3e8f8" stroke="#7b1fa2" stroke-width="2"/>
                        <text x="370" y="20" font-size="11" font-weight="700" fill="#7b1fa2" text-anchor="middle">Oncology Staging (PET-CT Fusion)</text>
                        
                        <text x="20" y="38" font-size="9" fill="#333">CT: Anatomical localization + size measurement</text>
                        <text x="340" y="38" font-size="9" fill="#333">+</text>
                        <text x="360" y="38" font-size="9" fill="#333">PET: Metabolic activity + distant metastases</text>
                        <text x="20" y="50" font-size="8" fill="#666">→ Combined: Precise localization of metabolically active lesions for accurate staging</text>
                    </g>
                </svg>
            </div>

            <div class="example-box">
                <div class="example-title">Real-world Application: Glioblastoma Diagnosis</div>
                <div class="example-text">
                    A comprehensive multimodal protocol for glioblastoma uses: (1) T1 post-contrast MRI showing blood-brain barrier disruption and tumor enhancement, (2) T2-FLAIR identifying peritumoral edema and infiltration, (3) DWI revealing cellularity and differentiating tumor from necrosis, (4) perfusion MRI measuring blood volume for grading, and (5) MR spectroscopy analyzing metabolites. Each sequence provides unique diagnostic information that, when fused, achieves >90% diagnostic accuracy compared to <75% for any single sequence.
                </div>
            </div>

            <div class="subsection-title">Integration Strategies by Clinical Task</div>
            
            <ul class="bullet-list">
                <li><strong>Tumor Detection:</strong> Early fusion of MRI sequences (T1, T2, FLAIR) to capture complementary contrasts</li>
                <li><strong>Tumor Grading:</strong> Late fusion combining anatomical (CT/MRI) and functional (PET) predictions</li>
                <li><strong>Treatment Planning:</strong> Intermediate fusion of imaging with clinical variables (age, biomarkers, symptoms)</li>
                <li><strong>Response Assessment:</strong> Temporal fusion comparing pre- and post-treatment multimodal scans</li>
            </ul>

            <div class="subsection-title">Key Considerations</div>
            
            <div class="description-text">
                <strong>1. Registration:</strong> Align different modalities to the same coordinate system. PET-CT scanners provide inherent registration, but MRI-CT fusion requires image registration algorithms.
            </div>
            
            <div class="description-text">
                <strong>2. Normalization:</strong> Different modalities have different intensity scales and distributions. Standardization is critical before fusion:
                <br>• MRI: Z-score normalization or histogram matching
                <br>• CT: Hounsfield units already standardized
                <br>• PET: SUV (standardized uptake value) normalization
            </div>
            
            <div class="description-text">
                <strong>3. Resolution Matching:</strong> Modalities have different spatial resolutions. Common approaches:
                <br>• Upsample lower resolution to match higher resolution
                <br>• Downsample all to common resolution
                <br>• Multi-scale fusion preserving native resolutions
            </div>

            <div class="pros-cons-grid">
                <div class="pros-box">
                    <div class="box-title">✓ Clinical Benefits</div>
                    <div class="box-item">• Comprehensive assessment: Captures anatomy + function</div>
                    <div class="box-item">• Improved accuracy: Complementary information reduces errors</div>
                    <div class="box-item">• Better characterization: Distinguishes similar-appearing lesions</div>
                    <div class="box-item">• Personalized medicine: Multiple biomarkers for treatment selection</div>
                </div>
                <div class="cons-box">
                    <div class="box-title">✗ Practical Challenges</div>
                    <div class="box-item">• Cost: Multiple scans expensive and time-consuming</div>
                    <div class="box-item">• Availability: Not all modalities available at all centers</div>
                    <div class="box-item">• Patient burden: Multiple sessions, longer scan times</div>
                    <div class="box-item">• Registration errors: Misalignment affects fusion quality</div>
                </div>
            </div>
        </div>

        <!-- Summary Section -->
        <div class="detailed-section" style="background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);">
            <div class="section-header" style="border-bottom-color: #7b1fa2;">Summary: Choosing the Right Fusion Strategy</div>
            
            <div class="description-text">
                <strong>Decision Framework:</strong>
            </div>
            
            <ul class="bullet-list">
                <li><strong>Use Early Fusion when:</strong> Modalities are tightly coupled (e.g., multi-sequence MRI), low-level features matter, and all modalities are always available</li>
                <li><strong>Use Late Fusion when:</strong> Modalities are heterogeneous (e.g., imaging + clinical data), each modality needs specialized processing, or missing modalities are common</li>
                <li><strong>Use Intermediate Fusion when:</strong> You want a balance between early and late, modalities share mid-level semantics, or computational resources are limited</li>
                <li><strong>Add Attention when:</strong> Modality importance varies across samples, interpretability is desired, or you want robustness to noisy modalities</li>
                <li><strong>Use Cross-Modal Learning when:</strong> Modalities may be missing at test time, you have limited labeled data, or you want to leverage unlabeled data</li>
            </ul>
            
            <div class="description-text" style="margin-top: 15px;">
                <strong>Best Practices:</strong> Start with simple concatenation as a baseline, add attention mechanisms for interpretability and performance, handle missing modalities explicitly in your design, validate on real-world data with naturally occurring missing modalities, and consider computational cost for clinical deployment.
            </div>
        </div>

    </div>
</body>
</html>