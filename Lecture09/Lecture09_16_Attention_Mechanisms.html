<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Attention Mechanisms</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Aptos, 'Segoe UI', sans-serif;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 40px 20px;
        }
        
        .container {
            width: 960px;
            padding: 35px 45px;
            background: white;
        }
        
        .title {
            font-size: 28px;
            font-weight: 600;
            color: #1E64C8;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .attention-section {
            background: #f8fbff;
            border: 2.5px solid #1E64C8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .attention-title {
            font-size: 18px;
            font-weight: 700;
            color: #1E64C8;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .concept-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }
        
        .concept-card {
            background: white;
            border: 2.5px solid #1E64C8;
            border-radius: 10px;
            padding: 16px;
            transition: all 0.3s;
            min-height: 110px;
        }
        
        .concept-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(30, 100, 200, 0.2);
            background: #f8fbff;
        }
        
        .concept-name {
            font-size: 17px;
            font-weight: 700;
            color: #1E64C8;
            margin-bottom: 8px;
        }
        
        .concept-desc {
            font-size: 14px;
            color: #333;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">Attention Mechanisms</div>
        
        <div class="attention-section">
            <div class="attention-title">Self-Attention Mechanism</div>
            <svg width="880" height="240" viewBox="0 0 880 240">
                <!-- Input sequence -->
                <g transform="translate(30, 20)">
                    <text x="100" y="0" font-size="12" fill="#1E64C8" font-weight="700" text-anchor="middle">Input Sequence</text>
                    
                    <!-- Image patches -->
                    <rect x="10" y="15" width="40" height="40" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="30" y="40" font-size="9" fill="#666" text-anchor="middle">Patch 1</text>
                    
                    <rect x="60" y="15" width="40" height="40" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="80" y="40" font-size="9" fill="#666" text-anchor="middle">Patch 2</text>
                    
                    <rect x="110" y="15" width="40" height="40" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="130" y="40" font-size="9" fill="#666" text-anchor="middle">Patch 3</text>
                    
                    <rect x="160" y="15" width="40" height="40" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="180" y="40" font-size="9" fill="#666" text-anchor="middle">Patch N</text>
                    
                    <text x="145" y="40" font-size="12" fill="#999">...</text>
                </g>
                
                <!-- Q, K, V transformation -->
                <g transform="translate(30, 85)">
                    <text x="100" y="0" font-size="11" fill="#1E64C8" font-weight="700" text-anchor="middle">Linear Projections</text>
                    
                    <!-- Q -->
                    <rect x="10" y="10" width="50" height="30" rx="5" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="35" y="29" font-size="11" fill="#1E64C8" font-weight="700" text-anchor="middle">Query (Q)</text>
                    
                    <!-- K -->
                    <rect x="75" y="10" width="50" height="30" rx="5" fill="#d4e7ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="100" y="29" font-size="11" fill="#1E64C8" font-weight="700" text-anchor="middle">Key (K)</text>
                    
                    <!-- V -->
                    <rect x="140" y="10" width="50" height="30" rx="5" fill="#e8f2ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="165" y="29" font-size="11" fill="#1E64C8" font-weight="700" text-anchor="middle">Value (V)</text>
                    
                    <!-- Arrows from input -->
                    <path d="M 30 -30 L 30 10" stroke="#1E64C8" stroke-width="1.5" marker-end="url(#arrowhead)"/>
                    <path d="M 80 -30 L 95 10" stroke="#1E64C8" stroke-width="1.5" marker-end="url(#arrowhead)"/>
                    <path d="M 130 -30 L 160 10" stroke="#1E64C8" stroke-width="1.5" marker-end="url(#arrowhead)"/>
                </g>
                
                <!-- Attention computation -->
                <g transform="translate(280, 20)">
                    <text x="150" y="0" font-size="12" fill="#1E64C8" font-weight="700" text-anchor="middle">Attention Computation</text>
                    
                    <!-- Step 1: Similarity -->
                    <rect x="20" y="15" width="120" height="50" rx="8" fill="#fff9e6" stroke="#1E64C8" stroke-width="2"/>
                    <text x="80" y="33" font-size="11" fill="#1E64C8" font-weight="600" text-anchor="middle">1. Compute Similarity</text>
                    <text x="80" y="48" font-size="9" fill="#666" text-anchor="middle">Score = Q · K^T / √d_k</text>
                    
                    <!-- Arrow -->
                    <path d="M 80 65 L 80 85" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Step 2: Softmax -->
                    <rect x="20" y="85" width="120" height="45" rx="8" fill="#ffe6f0" stroke="#1E64C8" stroke-width="2"/>
                    <text x="80" y="103" font-size="11" fill="#1E64C8" font-weight="600" text-anchor="middle">2. Softmax</text>
                    <text x="80" y="118" font-size="9" fill="#666" text-anchor="middle">Attention Weights</text>
                    
                    <!-- Arrow -->
                    <path d="M 80 130 L 80 150" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                    
                    <!-- Step 3: Weighted Sum -->
                    <rect x="20" y="150" width="120" height="45" rx="8" fill="#e6f5ff" stroke="#1E64C8" stroke-width="2"/>
                    <text x="80" y="168" font-size="11" fill="#1E64C8" font-weight="600" text-anchor="middle">3. Weighted Sum</text>
                    <text x="80" y="183" font-size="9" fill="#666" text-anchor="middle">Output = Weights · V</text>
                    
                    <!-- Attention heatmap visualization -->
                    <g transform="translate(160, 50)">
                        <text x="60" y="-5" font-size="10" fill="#666" text-anchor="middle">Attention Map</text>
                        
                        <!-- Heatmap grid -->
                        <rect x="10" y="0" width="25" height="25" fill="#1E64C8" opacity="0.8"/>
                        <rect x="35" y="0" width="25" height="25" fill="#1E64C8" opacity="0.3"/>
                        <rect x="60" y="0" width="25" height="25" fill="#1E64C8" opacity="0.2"/>
                        <rect x="85" y="0" width="25" height="25" fill="#1E64C8" opacity="0.1"/>
                        
                        <rect x="10" y="25" width="25" height="25" fill="#1E64C8" opacity="0.2"/>
                        <rect x="35" y="25" width="25" height="25" fill="#1E64C8" opacity="0.7"/>
                        <rect x="60" y="25" width="25" height="25" fill="#1E64C8" opacity="0.4"/>
                        <rect x="85" y="25" width="25" height="25" fill="#1E64C8" opacity="0.1"/>
                        
                        <rect x="10" y="50" width="25" height="25" fill="#1E64C8" opacity="0.1"/>
                        <rect x="35" y="50" width="25" height="25" fill="#1E64C8" opacity="0.3"/>
                        <rect x="60" y="50" width="25" height="25" fill="#1E64C8" opacity="0.9"/>
                        <rect x="85" y="50" width="25" height="25" fill="#1E64C8" opacity="0.2"/>
                        
                        <rect x="10" y="75" width="25" height="25" fill="#1E64C8" opacity="0.1"/>
                        <rect x="35" y="75" width="25" height="25" fill="#1E64C8" opacity="0.2"/>
                        <rect x="60" y="75" width="25" height="25" fill="#1E64C8" opacity="0.3"/>
                        <rect x="85" y="75" width="25" height="25" fill="#1E64C8" opacity="0.8"/>
                        
                        <!-- Labels -->
                        <text x="22.5" y="115" font-size="7" fill="#666" text-anchor="middle">P1</text>
                        <text x="47.5" y="115" font-size="7" fill="#666" text-anchor="middle">P2</text>
                        <text x="72.5" y="115" font-size="7" fill="#666" text-anchor="middle">P3</text>
                        <text x="97.5" y="115" font-size="7" fill="#666" text-anchor="middle">PN</text>
                    </g>
                </g>
                
                <!-- Output -->
                <g transform="translate(650, 80)">
                    <text x="100" y="0" font-size="12" fill="#1E64C8" font-weight="700" text-anchor="middle">Context-Aware Output</text>
                    
                    <rect x="10" y="15" width="180" height="80" rx="8" fill="#b3d7ff" stroke="#1E64C8" stroke-width="2.5"/>
                    <text x="100" y="40" font-size="11" fill="#333" text-anchor="middle">Each position attends to</text>
                    <text x="100" y="55" font-size="11" fill="#333" text-anchor="middle">all other positions</text>
                    <text x="100" y="75" font-size="10" fill="#1E64C8" font-weight="600" text-anchor="middle">Global receptive field</text>
                    
                    <!-- Arrow from attention -->
                    <path d="M 640 107 L 650 55" stroke="#1E64C8" stroke-width="2" marker-end="url(#arrowhead)"/>
                </g>
                
                <!-- Benefits -->
                <g transform="translate(650, 180)">
                    <rect x="0" y="0" width="200" height="50" rx="8" fill="#e8ffe8" stroke="#1E64C8" stroke-width="2"/>
                    <text x="100" y="18" font-size="10" fill="#28a745" font-weight="700" text-anchor="middle">✓ Long-range dependencies</text>
                    <text x="100" y="32" font-size="10" fill="#28a745" font-weight="700" text-anchor="middle">✓ Parallel computation</text>
                    <text x="100" y="46" font-size="10" fill="#28a745" font-weight="700" text-anchor="middle">✓ Interpretable weights</text>
                </g>
                
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                        <polygon points="0 0, 10 3, 0 6" fill="#1E64C8" />
                    </marker>
                </defs>
            </svg>
        </div>
        
        <div class="concept-grid">
            <div class="concept-card">
                <div class="concept-name">Self-Attention</div>
                <div class="concept-desc">Capture long-range dependencies. Every position attends to all others</div>
            </div>
        
            <div class="concept-card">
                <div class="concept-name">Cross-Attention</div>
                <div class="concept-desc">Attend between different modalities or sequences. Query from one, key/value from another</div>
            </div>
        
            <div class="concept-card">
                <div class="concept-name">Vision Transformers</div>
                <div class="concept-desc">Pure attention-based architecture. ViT, Swin Transformer for medical imaging</div>
            </div>
        
            <div class="concept-card">
                <div class="concept-name">Hybrid Architectures</div>
                <div class="concept-desc">CNN backbone + Transformer head. CoAtNet, TransUNet combine local and global context</div>
            </div>
        
            <div class="concept-card">
                <div class="concept-name">Interpretability Benefits</div>
                <div class="concept-desc">Attention maps show model focus. More intuitive than CNN activation maps</div>
            </div>
        </div>
    </div>
</body>
</html>
